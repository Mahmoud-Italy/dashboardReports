{"remainingRequest":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/babel-loader/lib/index.js!/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/src/components/auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/src/components/auth/Login.vue","mtime":1595776380000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGl6aVRvYXN0IGZyb20gJ2l6aXRvYXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJvdzogewogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAga2VlcE1lQWxpdmU6IGZhbHNlCiAgICAgIH0sCiAgICAgIGJ0bkxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyBLZWVwIG1lIGFsaXZlCiAgICBrZWVwTWVBbGl2ZTogZnVuY3Rpb24ga2VlcE1lQWxpdmUoKSB7CiAgICAgIGlmICh0aGlzLmtlZXBNZUFsaXZlKSB7CiAgICAgICAgdGhpcy5rZWVwTWVBbGl2ZSA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMua2VlcE1lQWxpdmUgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8gTG9naW4KICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuYnRuTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24gPSB7CiAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLAogICAgICAgIC8vIHNlY3VyaXR5IHRvIHByZXZlbnQgQ1NSRiBhdHRhY2tzCiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIKICAgICAgfTsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgdXJsOiB3aW5kb3cuYmFzZVVSTCArICcvYXV0aC9sb2dpbicsCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgZW1haWw6IHRoaXMucm93LmVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucm93LnBhc3N3b3JkLAogICAgICAgICAga2VlcE1lQWxpdmU6IHRoaXMucm93LmtlZXBNZUFsaXZlCiAgICAgICAgfQogICAgICB9OyAvL2NvbnN0IGNvbmZpZyA9IHsgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnIH19OyAgCgogICAgICB0aGlzLiRheGlvcyhvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5idG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMucm93LnBhc3N3b3JkID0gJyc7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2tlbicsIHJlcy5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCByZXMuZGF0YS51c2VybmFtZSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F2YXRhcicsIHJlcy5kYXRhLmF2YXRhcik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvbGUnLCByZXMuZGF0YS5yb2xlKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaWQnLCByZXMuZGF0YS51c2VyX2lkKTsgLy8gU2V0IGRlZmF1bHQgTmF2aWdhdGlvbgogICAgICAgIC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYXZfcm9sZXMnLCAnc2hvdycpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ2Rhc2hib2FyZCcKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpcy5yb3cucGFzc3dvcmQgPSAnJzsKICAgICAgICBpemlUb2FzdC53YXJuaW5nKHsKICAgICAgICAgIGljb246ICd0aS1hbGVydCcsCiAgICAgICAgICB0aXRsZTogJ1dvdy1tYW4sJywKICAgICAgICAgIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,GAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,WAAA,EAAA;AAHA,OADA;AAMA,MAAA,UAAA,EAAA;AANA,KAAA;AAQA,GAXA;AAYA,EAAA,QAAA,EAAA,EAZA;AAaA,EAAA,OAbA,qBAaA,CAAA,CAbA;AAcA,EAAA,OAAA,EAAA;AAEA;AACA,IAAA,WAHA,yBAGA;AACA,UAAA,KAAA,WAAA,EAAA;AACA,aAAA,WAAA,GAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,WAAA,GAAA,IAAA;AACA;AACA,KATA;AAWA;AACA,IAAA,KAZA,mBAYA;AAAA;;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,GAAA;AACA,4BAAA,gBADA;AACA;AACA;AAFA,OAAA;AAIA,UAAA,OAAA,GAAA;AACA,QAAA,GAAA,EAAA,MAAA,CAAA,OAAA,GAAA,aADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA,GAAA,CAAA,KADA;AAEA,UAAA,QAAA,EAAA,KAAA,GAAA,CAAA,QAFA;AAGA,UAAA,WAAA,EAAA,KAAA,GAAA,CAAA;AAHA;AAHA,OAAA,CANA,CAeA;;AACA,WAAA,MAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,QAAA,GAAA,EAAA;AAEA,QAAA,YAAA,CAAA,OAAA,CAAA,cAAA,EAAA,GAAA,CAAA,IAAA,CAAA,YAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,OAAA,EARA,CAUA;AACA;;AAEA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAfA,EAgBA,KAhBA,CAgBA,YAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,QAAA,CAAA,OAAA,CAAA;AACA,UAAA,IAAA,EAAA,UADA;AAEA,UAAA,KAAA,EAAA,UAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA;AAMA,OAzBA;AA0BA;AAtDA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"\">\n    \n    <div class=\"layout\" style=\"background: url('/assets/images/bg/login.png')\">\n        <div class=\"container\">\n            <div class=\"row full-height align-items-center\">\n                <div class=\"col-md-5 mx-auto\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <div class=\"p-15\">\n\n                                <div class=\"m-b-30 text-center\">\n                                  <router-link :to=\"{ name: 'login' }\">\n                                    <img class=\"img-responsive inline-block\" \n                                          src=\"/assets/images/logo/dc-logo.png\" \n                                          style=\"width: 150px\" \n                                          alt=\"dc\">\n                                  </router-link>\n                                </div>\n                                    \n                                <form @submit.prevent=\"login\">\n\n                                    <div class=\"form-group\">\n                                        <label class=\"control-label\">Email</label>\n                                        <input type=\"email\" \n                                            class=\"form-control\" \n                                            v-model=\"row.email\" \n                                            required=\"\">\n                                    </div>\n\n                                    <div class=\"form-group\">\n                                        <label class=\"control-label\">Password</label>\n                                        <input type=\"password\" \n                                                class=\"form-control\" \n                                                v-model=\"row.password\"\n                                                autocomplete=\"off\"\n                                                required=\"\">\n                                    </div>\n\n                                    <div class=\"checkbox font-size-13 d-inline-block p-v-0 m-v-0\">\n                                        <input id=\"keepMe\" \n                                            v-model=\"row.keepMeAlive\" \n                                            @click=\"keepMeAlive\"\n                                            type=\"checkbox\">\n                                        <label for=\"keepMe\">Keep Me Logged In</label>\n                                    </div>\n\n                                    <div class=\"pull-right\">\n                                        <router-link :to=\"{name: 'forget'}\" \n                                            class=\"text-underline\">Forgot Password?\n                                        </router-link>\n                                    </div>\n\n                                    <div class=\"m-t-30 text-left\">\n                                        <button class=\"btn btn-dark login-size f16\">\n                                            <span v-if=\"btnLoading\">\n                                                <div class=\"loader loader-xs loader-center\"></div>\n                                            </span>\n                                            <span v-if=\"!btnLoading\">Login</span>\n                                        </button>\n                                    </div>\n                                \n                                </form>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport iziToast from 'izitoast';\n\nexport default {\n    name: 'login',\n    data () {\n        return {\n            row: {\n                email: '',\n                password: '',\n                keepMeAlive: false,\n            },\n            btnLoading: false,\n        }\n    },\n    computed: {},\n    created() {},\n    methods: {\n        \n        // Keep me alive\n        keepMeAlive() {\n            if(this.keepMeAlive) {\n                this.keepMeAlive = false\n            } else {\n                this.keepMeAlive = true\n            }\n        },\n\n        // Login\n        login() {\n            this.btnLoading = true;\n            this.axios.defaults.headers.common = {\n                'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n                'Authorization': `Bearer `,\n            };\n            const options = {\n                url: window.baseURL+'/auth/login',\n                method: 'POST',\n                data: {\n                    email: this.row.email,\n                    password: this.row.password,\n                    keepMeAlive: this.row.keepMeAlive\n                }\n            }\n            //const config = { headers: { 'Content-Type': 'multipart/form-data' }};  \n            this.$axios(options)\n                .then((res) => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n                \n                    localStorage.setItem('access_token', res.data.access_token);\n                    localStorage.setItem('name', res.data.username);\n                    localStorage.setItem('avatar', res.data.avatar);\n                    localStorage.setItem('role', res.data.role);\n                    localStorage.setItem('id', res.data.user_id);\n\n                    // Set default Navigation\n                    // localStorage.setItem('nav_roles', 'show');\n\n                    this.$router.push({ name: 'dashboard' })\n                })\n                .catch(() => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n                    iziToast.warning({\n                        icon: 'ti-alert',\n                        title: 'Wow-man,',\n                        message: 'Unauthorized',\n                    });\n\n                })\n            },\n\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"],"sourceRoot":"src/components/auth"}]}