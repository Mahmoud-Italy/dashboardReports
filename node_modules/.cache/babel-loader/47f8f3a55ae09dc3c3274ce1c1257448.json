{"remainingRequest":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/babel-loader/lib/index.js!/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/auth/Login.vue","mtime":1596994290000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBGb290ZXIgZnJvbSAnLi4vbGF5b3V0cy9Gb290ZXIudnVlJzsKaW1wb3J0IGl6aVRvYXN0IGZyb20gJ2l6aXRvYXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgRm9vdGVyOiBGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb3c6IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGtlZXBNZUFsaXZlOiBmYWxzZQogICAgICB9LAogICAgICBidG5Mb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyBLZWVwIG1lIGFsaXZlCiAgICBrZWVwTWVBbGl2ZTogZnVuY3Rpb24ga2VlcE1lQWxpdmUoKSB7CiAgICAgIGlmICh0aGlzLmtlZXBNZUFsaXZlKSB7CiAgICAgICAgdGhpcy5rZWVwTWVBbGl2ZSA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMua2VlcE1lQWxpdmUgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8gZG9Mb2dpbgogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbiA9IHsKICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcgLy8gc2VjdXJpdHkgdG8gcHJldmVudCBDU1JGIGF0dGFja3MKCiAgICAgIH07CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIHVybDogd2luZG93LmJhc2VVUkwgKyAnL2F1dGgvbG9naW4nLAogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGVtYWlsOiB0aGlzLnJvdy5lbWFpbCwKICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnJvdy5wYXNzd29yZCwKICAgICAgICAgIGtlZXBNZUFsaXZlOiB0aGlzLnJvdy5rZWVwTWVBbGl2ZQogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy4kYXhpb3Mob3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLnJvdy5wYXNzd29yZCA9ICcnOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NfdG9rZW4nLCByZXMuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyX2ltYWdlJywgcmVzLmRhdGEudXNlci5pbWFnZSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJfbmFtZScsIHJlcy5kYXRhLnVzZXIubmFtZSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJfaWQnLCByZXMuZGF0YS51c2VyLmlkKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm9sZScsIHJlcy5kYXRhLnVzZXIucm9sZSk7IC8vIFBlcm1pc3Npb25zCgogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJtaXNzaW9ucycsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnBlcm1pc3Npb25zKSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnZGFzaGJvYXJkJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLnJvdy5wYXNzd29yZCA9ICcnOyAvLyA0MDEgVW5hdXRob3JpemVkCgogICAgICAgIGlmIChlcnIucmVzcG9uc2UgJiYgZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDEpIHsKICAgICAgICAgIGl6aVRvYXN0LmVycm9yKHsKICAgICAgICAgICAgaWNvbjogJ3RpLW5hJywKICAgICAgICAgICAgdGl0bGU6ICdXb3ctd293LCcsCiAgICAgICAgICAgIG1lc3NhZ2U6IGVyci5yZXNwb25zZS5kYXRhLmVycm9yCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaXppVG9hc3QuZXJyb3IoewogICAgICAgICAgICBpY29uOiAndGktbmEnLAogICAgICAgICAgICB0aXRsZTogJ1dvdy13b3csJywKICAgICAgICAgICAgbWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nICcgKyBlcnIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"\">\n        \n        <!-- Main -->\n        <main class=\"d-flex flex-column u-hero u-hero--end mnh-100vh\" \n            style=\"background-image: url(/assets/img-temp/bg/bg-1.png)\">\n\n            <div class=\"container py-7 my-auto\">\n                <div class=\"d-flex align-items-center justify-content-center\">\n                    \n                    <!-- Card -->\n                    <div class=\"card my-7\" style=\"width: 460px; max-width: 100%;\">\n                        <div class=\"card-body p-4 p-lg-7\">\n                            <h2 class=\"text-center mb-4\">Log in</h2>\n\n                            <!-- Log in Form -->\n                            <form @submit.prevent=\"login\">\n                                <!-- Email Address -->\n                                <div class=\"form-group\">\n                                    <label for=\"email\">Email</label>\n                                    <input id=\"email\" \n                                        class=\"form-control\" \n                                        type=\"email\" \n                                        v-model=\"row.email\" \n                                        placeholder=\"Email Address\">\n                                </div>\n                                <!-- End Email Address -->\n                                \n                                <!-- Password -->\n                                <div class=\"form-group\">\n                                    <label for=\"password\">Password</label>\n                                    <input id=\"password\" \n                                        class=\"form-control\" \n                                        type=\"password\" \n                                        v-model=\"row.password\" \n                                        placeholder=\"Password\" \n                                        autocomplete=\"off\">\n                                </div>\n                                <!-- End Password -->\n\n                                <!-- Remember Me -->\n                                <div class=\"d-flex align-items-center justify-content-between my-4\">\n                                    <div class=\"custom-control custom-checkbox\">\n                                        <input id=\"rememberMe\" \n                                            class=\"custom-control-input\" \n                                            type=\"checkbox\">\n                                        <label class=\"custom-control-label text-dark\" \n                                            for=\"rememberMe\">Remember me\n                                        </label>\n                                    </div>\n                                    <!-- Forgot Password -->\n\n                                <router-link :to=\"{ name: 'forget' }\" \n                                    class=\"font-weight-semi-bold\">Forgot password?\n                                </router-link>\n\n                                </div>\n                                <!-- End Remember Me -->\n\n                                <!-- Form button -->\n                                <button type=\"submit\" class=\"btn btn-block btn-wide btn-primary text-uppercase\"\n                                    :disabled=\"btnLoading\">\n                                    <span v-if=\"btnLoading\">\n                                        <span class=\"spinner-grow spinner-grow-sm mr-1\" \n                                        role=\"status\" aria-hidden=\"true\"></span>Loading...\n                                    </span>\n                                    <span v-if=\"!btnLoading\">Login</span>\n                                </button>\n                                <!-- End Form button -->\n\n                            </form>\n                            <!-- End Log in Form -->\n                        </div>\n                    </div>\n                    <!-- End Card -->\n\n                </div>\n            </div>\n\n            <Footer></Footer>\n        </main>\n        <!-- End Main -->\n\n    </div>\n</template>\n\n<script>\n    import Footer from '../layouts/Footer.vue';\n    import iziToast from 'izitoast';\n\n    export default {\n        name: 'Login',\n        components: {\n            Footer\n        },\n        data(){\n            return {\n                row: {\n                    email: '',\n                    password: '',\n                    keepMeAlive: false,\n                },\n\n                btnLoading: false,\n            }\n        },\n        mounted() {},\n        methods: {\n\n            // Keep me alive\n            keepMeAlive() {\n                if(this.keepMeAlive) {\n                    this.keepMeAlive = false\n                } else {\n                    this.keepMeAlive = true\n                }\n            },\n\n            // doLogin\n            login(){\n                this.btnLoading = true;\n                this.axios.defaults.headers.common = {\n                    'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n                };\n                const options = {\n                    url: window.baseURL+'/auth/login',\n                    method: 'POST',\n                    data: {\n                        email: this.row.email,\n                        password: this.row.password,\n                        keepMeAlive: this.row.keepMeAlive\n                    }\n                }\n                this.$axios(options)\n                .then(res => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n\n                        localStorage.setItem('access_token', res.data.access_token);\n                        localStorage.setItem('user_image', res.data.user.image);\n                        localStorage.setItem('user_name', res.data.user.name);\n                        localStorage.setItem('user_id', res.data.user.id);\n                        localStorage.setItem('role', res.data.user.role);\n                        // Permissions\n                        localStorage.setItem('permissions', JSON.stringify(res.data.permissions));\n\n                    this.$router.push({ name: 'dashboard' })\n\n                })\n                .catch(err => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n\n                    // 401 Unauthorized\n                    if(err.response && err.response.status == 401) {\n                        iziToast.error({\n                            icon: 'ti-na',\n                            title: 'Wow-wow,',\n                            message: err.response.data.error\n                        });\n\n                    } else {\n                        iziToast.error({\n                            icon: 'ti-na',\n                            title: 'Wow-wow,',\n                            message: 'Something went wrong '+err\n                        });\n                    }\n\n                });\n            },\n\n        },\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"],"sourceRoot":"src/components/auth"}]}