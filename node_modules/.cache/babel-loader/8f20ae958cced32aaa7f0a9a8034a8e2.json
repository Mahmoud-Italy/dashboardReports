{"remainingRequest":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/babel-loader/lib/index.js!/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/layouts/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/layouts/Header.vue","mtime":1598772723000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSGVhZGVyJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXV0aDogewogICAgICAgIHVzZXJfaWQ6ICcnLAogICAgICAgIHVzZXJfbmFtZTogJycsCiAgICAgICAgdXNlcl9pbWFnZTogJycsCiAgICAgICAgYWNjZXNzX3Rva2VuOiAnJwogICAgICB9LAogICAgICBzZWFyY2g6ICcnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLwogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJykpIHsKICAgICAgdGhpcy5hdXRoLnVzZXJfaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpOwogICAgfQoKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pbWFnZScpKSB7CiAgICAgIHRoaXMuYXV0aC51c2VyX2ltYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaW1hZ2UnKTsKICAgIH0KCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfbmFtZScpKSB7CiAgICAgIHRoaXMuYXV0aC51c2VyX25hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9uYW1lJyk7CiAgICB9CgogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKSkgewogICAgICB0aGlzLmF1dGguYWNjZXNzX3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8KICAgIG9uU2VhcmNoOiBmdW5jdGlvbiBvblNlYXJjaCgpIHsKICAgICAgdGhpcy4kZW1pdCgiaGVhZGVyVG9DaGlsZCIsIHRoaXMuc2VhcmNoKTsKICAgIH0sCiAgICAvLyBMb2dvdXQKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uID0gewogICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JywKICAgICAgICAvLyBzZWN1cml0eSB0byBwcmV2ZW50IENTUkYgYXR0YWNrcwogICAgICAgICdBdXRob3JpemF0aW9uJzogIkJlYXJlciAiICsgdGhpcy5hdXRoLmFjY2Vzc190b2tlbgogICAgICB9OwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICB1cmw6IHdpbmRvdy5iYXNlVVJMICsgJy9hdXRoL2xvZ291dCcsCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgZGF0YToge30sCiAgICAgICAgcGFyYW1zOiB7fQogICAgICB9OwogICAgICB0aGlzLmF4aW9zKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKCkge30pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHt9KTsgLy8gcmVtb3ZlIGxvY2FsU3RvcmFnZQoKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9pbWFnZScpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9uYW1lJyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyX2lkJyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyb2xlJyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnbG9naW4nCiAgICAgIH0pOwogICAgfQogIH0sCiAgLy8KICBvcG5TaWRlTmF2OiBmdW5jdGlvbiBvcG5TaWRlTmF2KCkgewogICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYm9keSIpOwoKICAgIGlmIChlbC5jbGFzc0xpc3QuaGFzKCdzaWRlLW5hdi1vbi1hY3Rpb24nKSkgewogICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdzaWRlLW5hdi1vbi1hY3Rpb24nKTsKICAgIH0gZWxzZSB7CiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3NpZGUtbmF2LW9uLWFjdGlvbicpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,UAAA,EAAA,EAHA;AAIA,QAAA,YAAA,EAAA;AAJA,OADA;AAOA,MAAA,MAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAbA,qBAaA,CAAA,CAbA;AAcA,EAAA,OAdA,qBAcA;AACA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA;AACA,WAAA,IAAA,CAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AACA;;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,EAAA;AACA,WAAA,IAAA,CAAA,UAAA,GAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA;;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,EAAA;AACA,WAAA,IAAA,CAAA,SAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA;;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AACA,WAAA,IAAA,CAAA,YAAA,GAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA;AACA;AAGA,GA9BA;AA+BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,KAAA,MAAA;AACA,KAJA;AAMA;AACA,IAAA,MAPA,oBAOA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,GAAA;AACA,4BAAA,gBADA;AACA;AACA,yBAAA,YAAA,KAAA,IAAA,CAAA;AAFA,OAAA;AAIA,UAAA,OAAA,GAAA;AACA,QAAA,GAAA,EAAA,MAAA,CAAA,OAAA,GAAA,cADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,MAAA,EAAA;AAJA,OAAA;AAMA,WAAA,KAAA,CAAA,OAAA,EACA,IADA,CACA,YAAA,CAAA,CADA,EAEA,KAFA,CAEA,YAAA,CAAA,CAFA,EAGA,OAHA,CAGA,YAAA,CAAA,CAHA,EAXA,CAgBA;;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,cAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,YAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,WAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,SAAA;AACA,MAAA,YAAA,CAAA,UAAA,CAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA;AA9BA,GA/BA;AAgEA;AACA,EAAA,UAjEA,wBAiEA;AACA,QAAA,EAAA,GAAA,QAAA,CAAA,aAAA,CAAA,MAAA,CAAA;;AACA,QAAA,EAAA,CAAA,SAAA,CAAA,GAAA,CAAA,oBAAA,CAAA,EAAA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,MAAA,CAAA,oBAAA;AACA,KAFA,MAEA;AACA,MAAA,EAAA,CAAA,SAAA,CAAA,GAAA,CAAA,oBAAA;AACA;AACA;AAxEA,CAAA","sourcesContent":["<template>\n    <div class=\"\">\n\n        <!-- Header (Topbar) -->\n        <header class=\"u-header\">\n            <div class=\"u-header-left\">\n                <a class=\"u-header-logo\" href=\"javascript:;\">\n                    <img class=\"u-header-logo__icon\" src=\"/assets/svg/logo-mini.svg\" alt=\"\">\n                    <img class=\"u-header-logo__text\" src=\"/assets/svg/logo-text-light.svg\" alt=\"\">\n                </a>\n            </div>\n\n            <!-- Header Middle Section -->\n            <div class=\"u-header-middle\">\n                <!-- Sidebar Invoker -->\n                <div class=\"u-header-section\">\n                    <a class=\"js-sidebar-invoker u-header-invoker u-sidebar-invoker\"\n                        href=\"javascript:;\" \n                        data-is-close-all-except-this=\"true\"\n                        data-target=\"#sidebar\">\n                            <span class=\"ti-align-left u-header-invoker__icon u-sidebar-invoker__icon--open\"></span>\n                            <span class=\"ti-align-justify u-header-invoker__icon u-sidebar-invoker__icon--close\"></span>\n                    </a>\n                </div>\n                <!-- End Sidebar Invoker -->\n\n                <!-- Header Search -->\n                <div class=\"u-header-section justify-content-sm-start flex-grow-1 py-0\">\n                    <div class=\"u-header-search\"\n                         data-search-mobile-invoker=\"#headerSearchMobileInvoker\"\n                         data-search-target=\"#headerSearch\">\n                        <!-- Header Search Invoker (Mobile Mode) -->\n                        <a id=\"headerSearchMobileInvoker\" class=\"u-header-search__mobile-invoker align-items-center\" \n                            href=\"javascript:;\">\n                            <span class=\"ti-search\"></span>\n                        </a>\n                        <!-- End Header Search Invoker (Mobile Mode) -->\n\n                        <!-- Header Search Form -->\n                        <div id=\"headerSearch\" class=\"u-header-search-form\">\n                            <form @submit.prevent=\"onSearch\" class=\"w-100\">\n                                <div class=\"input-group h-100\">\n                                    <button class=\"btn-link input-group-prepend u-header-search__btn\" type=\"submit\">\n                                        <span class=\"ti-search\"></span>\n                                    </button>\n                                    <input class=\"form-control u-header-search__field\" \n                                        type=\"search\"\n                                        v-model=\"search\"\n                                        placeholder=\"Type to searchâ€¦\">\n                                </div>\n                            </form>\n                        </div>\n                        <!-- End Header Search Form -->\n                    </div>\n                </div>\n                <!-- End Header Search -->\n\n                <!-- Messages -->\n                <div class=\"u-header-section\">\n                    <div class=\"u-header-dropdown dropdown pt-1\">\n                        <router-link :to=\"{ name: 'inbox' }\" class=\"u-header-invoker d-flex align-items-center\">\n                            <span class=\"position-relative\">\n                                <span class=\"ti-email u-header-invoker__icon\"></span>\n                                <!-- <span class=\"u-indicator u-indicator-top-right u-indicator-xxs bg-danger\"></span> -->\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n                <!-- End Messages -->\n\n                <!-- Logs -->\n                <div class=\"u-header-section\">\n                    <div class=\"u-header-dropdown dropdown pt-1\">\n                        <router-link :to=\"{ name: 'logs' }\" class=\"u-header-invoker d-flex align-items-center\">\n                            <span class=\"position-relative\">\n                                <span class=\"ti-brush-alt u-header-invoker__icon\"></span>\n                                <!-- <span class=\"u-indicator u-indicator-top-right u-indicator-xxs bg-danger\"></span> -->\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n                <!-- End Logs -->\n\n                <!-- App Settings -->\n                <div class=\"u-header-section\">\n                    <div class=\"u-header-dropdown dropdown pt-1\">\n                        <router-link :to=\"{ name: 'settings' }\" class=\"u-header-invoker d-flex align-items-center\">\n                          <span class=\"position-relative\">\n                                <span class=\"ti-layout-grid2 u-header-invoker__icon\"></span>\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n                <!-- End App Settings -->\n\n                <!-- User Profile -->\n                <div class=\"u-header-section u-header-section--profile\">\n                    <div class=\"u-header-dropdown dropdown\">\n                        <a class=\"link-muted d-flex align-items-center\" href=\"#\" role=\"button\" id=\"userProfileInvoker\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                           data-toggle=\"dropdown\"\n                           data-offset=\"0\">\n                            <img class=\"u-header-avatar img-fluid rounded-circle mr-md-3\" \n                                src=\"/assets/img/default_avatar.png\" alt=\"User Profile\">\n                            <span class=\"text-dark d-none d-md-inline-flex align-items-center\">\n                                {{ auth.user_name }}\n                                <span class=\"ti-angle-down text-muted ml-4\"></span>\n                            </span>\n                        </a>\n\n                        <div class=\"u-header-dropdown__menu dropdown-menu dropdown-menu-right\" \n                            aria-labelledby=\"userProfileInvoker\">\n                            <div class=\"card p-3\">\n                                <div class=\"card-body p-0\">\n                                    <ul class=\"list-unstyled mb-0\">\n                                        <li class=\"mb-3\">\n                                            <router-link :to=\"{ name: 'edit-users', params:{id: auth.user_id} }\" \n                                                    class=\"link-dark\">Update Profile\n                                            </router-link>\n                                        </li>\n                                        <li>\n                                            <a class=\"link-dark\" href=\"javascript:;\" @click=\"logout\">Logout</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!-- End User Profile -->\n\n\n            </div>\n            <!-- End Header Middle Section -->\n        </header>\n        <!-- End Header (Topbar) -->\n        \n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Header',\n        data(){\n            return {\n                auth: {\n                    user_id: '',\n                    user_name: '',\n                    user_image: '',\n                    access_token: '',\n                },\n                search: '',\n            }\n        },\n        mounted() {},\n        created() {\n            //\n            if(localStorage.getItem('user_id')) {\n                this.auth.user_id = localStorage.getItem('user_id');\n            }\n            if(localStorage.getItem('user_image')) {\n                this.auth.user_image = localStorage.getItem('user_image');\n            }\n            if(localStorage.getItem('user_name')) {\n                this.auth.user_name = localStorage.getItem('user_name');\n            }\n            if(localStorage.getItem('access_token')) {\n                this.auth.access_token = localStorage.getItem('access_token');\n            }\n            \n            \n        },\n        methods: {\n            //\n            onSearch(){\n                this.$emit(\"headerToChild\", this.search);\n            },\n\n            // Logout\n            logout(){\n                this.axios.defaults.headers.common = {\n                    'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n                    'Authorization': `Bearer ` + this.auth.access_token,\n                };\n                const options = {\n                    url: window.baseURL+'/auth/logout',\n                    method: 'POST',\n                    data: {},\n                    params: {},\n                }\n                this.axios(options)\n                    .then(() => {})\n                    .catch(() => {})\n                    .finally(() => {})\n\n                // remove localStorage\n                localStorage.removeItem('access_token');\n                localStorage.removeItem('user_image');\n                localStorage.removeItem('user_name');\n                localStorage.removeItem('user_id');\n                localStorage.removeItem('role');\n                this.$router.push({ name: 'login' });\n            },\n        },\n\n        //\n        opnSideNav(){\n            let el = document.querySelector(\"body\");\n            if(el.classList.has('side-nav-on-action')) {\n                el.classList.remove('side-nav-on-action');\n            } else {\n                el.classList.add('side-nav-on-action');\n            }\n        },\n\n\n    }\n</script>\n"],"sourceRoot":"src/components/layouts"}]}