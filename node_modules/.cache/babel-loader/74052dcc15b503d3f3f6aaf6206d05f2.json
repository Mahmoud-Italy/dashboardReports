{"remainingRequest":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/babel-loader/lib/index.js!/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/src/components/auth/Forget.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/src/components/auth/Forget.vue","mtime":1595596603000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGl6aVRvYXN0IGZyb20gJ2l6aXRvYXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdmb3JnZXQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb3c6IHsKICAgICAgICBlbWFpbDogJycKICAgICAgfSwKICAgICAgYnRuTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGZvcmdldDogZnVuY3Rpb24gZm9yZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbiA9IHsKICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcgLy8gc2VjdXJpdHkgdG8gcHJldmVudCBDU1JGIGF0dGFja3MKCiAgICAgIH07CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIHVybDogd2luZG93LmRvbWFpbk5hbWUgKyAnL2FwaS92MS9kYXNoYm9hcmQvZm9yZ2V0L3Bhc3N3b3JkJywKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBlbWFpbDogdGhpcy5yb3cuZW1haWwKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuJGF4aW9zKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzVG9rZW4nLCByZXMuZGF0YS5hY2Nlc3NUb2tlbik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25hbWUnLCByZXMuZGF0YS51c2VybmFtZSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F2YXRhcicsIHJlcy5kYXRhLmF2YXRhcik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvbGUnLCByZXMuZGF0YS5yb2xlKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaWQnLCByZXMuZGF0YS51c2VyX2lkKTsgLy8gU2V0IGRlZmF1bHQgTmF2aWdhdGlvbgogICAgICAgIC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYXZfcm9sZXMnLCAnc2hvdycpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ2Rhc2hib2FyZCcKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpcy5yb3cucGFzc3dvcmQgPSAnJzsKICAgICAgICBpemlUb2FzdC53YXJuaW5nKHsKICAgICAgICAgIGljb246ICd0aS1hbGVydCcsCiAgICAgICAgICB0aXRsZTogJ1dvdy1tYW4sJywKICAgICAgICAgIG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Forget.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,OAAA,QAAA,MAAA,UAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,GAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OADA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA,EAVA;AAWA,EAAA,OAXA,qBAWA,CAAA,CAXA;AAYA,EAAA,OAAA,EAAA;AAEA,IAAA,MAFA,oBAEA;AAAA;;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,GAAA;AACA,4BAAA,gBADA,CACA;;AADA,OAAA;AAGA,UAAA,OAAA,GAAA;AACA,QAAA,GAAA,EAAA,MAAA,CAAA,UAAA,GAAA,mCADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AADA;AAHA,OAAA;AAOA,WAAA,MAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AAEA,QAAA,YAAA,CAAA,OAAA,CAAA,aAAA,EAAA,GAAA,CAAA,IAAA,CAAA,WAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA,CAAA,QAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,QAAA,EAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,OAAA,EAPA,CASA;AACA;;AAEA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAdA,EAeA,KAfA,CAeA,YAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,QAAA,CAAA,OAAA,CAAA;AACA,UAAA,IAAA,EAAA,UADA;AAEA,UAAA,KAAA,EAAA,UAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA;AAMA,OAxBA;AAyBA;AAvCA;AAZA,CAAA","sourcesContent":["<template>\n  <div class=\"\">\n    \n    <div class=\"layout\" style=\"background: url('/assets/images/bg/login.png')\">\n        <div class=\"container\">\n            <div class=\"row full-height align-items-center\">\n                <div class=\"col-md-5 mx-auto\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <div class=\"p-15\">\n\n                                <div class=\"m-b-30 text-center\">\n                                  <router-link :to=\"{ name: 'login' }\">\n                                    <img class=\"img-responsive inline-block\" \n                                          src=\"/assets/images/logo/dc-logo.png\" \n                                          style=\"width: 150px\" \n                                          alt=\"dc\">\n                                  </router-link>\n                                </div>\n                                    \n                                <form @submit.prevent=\"forget\">\n                                    <div class=\"form-group\">\n                                        <label class=\"control-label\">Email</label>\n                                        <input type=\"email\" \n                                            class=\"form-control\" \n                                            v-model=\"row.email\" \n                                            required=\"\">\n                                    </div>\n\n                                    <div class=\"m-t-30 text-left\">\n                                        <button class=\"btn btn-dark login-size f16\">\n                                            <span v-if=\"btnLoading\">\n                                                <div class=\"loader loader-xs loader-center\"></div>\n                                            </span>\n                                            <span v-if=\"!btnLoading\">Send</span>\n                                        </button>\n                                    </div>\n                                \n                                </form>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport iziToast from 'izitoast';\n\nexport default {\n    name: 'forget',\n    data () {\n        return {\n            row: {\n                email: '',\n            },\n            btnLoading: false,\n        }\n    },\n    computed: {},\n    created() {},\n    methods: {\n\n        forget() {\n            this.btnLoading = true;\n            this.axios.defaults.headers.common = {\n                'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n            };\n            const options = {\n                url: window.domainName+'/api/v1/dashboard/forget/password',\n                method: 'POST',\n                data: {\n                    email: this.row.email,\n                }\n            }\n            this.$axios(options)\n                .then((res) => {\n                    this.btnLoading = false;\n                \n                    localStorage.setItem('accessToken', res.data.accessToken);\n                    localStorage.setItem('name', res.data.username);\n                    localStorage.setItem('avatar', res.data.avatar);\n                    localStorage.setItem('role', res.data.role);\n                    localStorage.setItem('id', res.data.user_id);\n\n                    // Set default Navigation\n                    // localStorage.setItem('nav_roles', 'show');\n\n                    this.$router.push({ name: 'dashboard' })\n                })\n                .catch(() => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n                    iziToast.warning({\n                        icon: 'ti-alert',\n                        title: 'Wow-man,',\n                        message: 'Unauthorized',\n                    });\n\n                })\n            },\n\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"],"sourceRoot":"src/components/auth"}]}