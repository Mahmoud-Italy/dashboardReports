{"remainingRequest":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/auth/Login.vue","mtime":1596539340000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGb290ZXIgZnJvbSAnLi4vbGF5b3V0cy9Gb290ZXIudnVlJzsKaW1wb3J0IGl6aVRvYXN0IGZyb20gJ2l6aXRvYXN0JzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRm9vdGVyCiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogewogICAgICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICAgICAga2VlcE1lQWxpdmU6IGZhbHNlLAogICAgICAgICAgICB9LAoKICAgICAgICAgICAgYnRuTG9hZGluZzogZmFsc2UsCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7fSwKICAgIG1ldGhvZHM6IHsKCiAgICAgICAgLy8gS2VlcCBtZSBhbGl2ZQogICAgICAgIGtlZXBNZUFsaXZlKCkgewogICAgICAgICAgICBpZih0aGlzLmtlZXBNZUFsaXZlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmtlZXBNZUFsaXZlID0gZmFsc2UKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMua2VlcE1lQWxpdmUgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvLyBkb0xvZ2luCiAgICAgICAgbG9naW4oKXsKICAgICAgICAgICAgdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbiA9IHsKICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JywgLy8gc2VjdXJpdHkgdG8gcHJldmVudCBDU1JGIGF0dGFja3MKICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciBgLAogICAgICAgICAgICB9OwogICAgICAgICAgICBjb25zdCBvcHRpb25zID0gewogICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cuYmFzZVVSTCsnL2F1dGgvbG9naW4nLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMucm93LmVtYWlsLAogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnJvdy5wYXNzd29yZCwKICAgICAgICAgICAgICAgICAgICBrZWVwTWVBbGl2ZTogdGhpcy5yb3cua2VlcE1lQWxpdmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRheGlvcyhvcHRpb25zKQogICAgICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5idG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnJvdy5wYXNzd29yZCA9ICcnOwoKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzVG9rZW4nLCByZXMuZGF0YS5hY2Nlc3NUb2tlbik7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJuYW1lJywgcmVzLmRhdGEudXNlcm5hbWUpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyX2lkJywgcmVzLmRhdGEudXNlcl9pZCk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F2YXRhcicsIHJlcy5kYXRhLmF2YXRhcik7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvbGUnLCByZXMuZGF0YS5yb2xlKTsKCiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgTmF2aWdhdGlvbgogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYXZfcm9sZXMnLCAnc2hvdycpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYXZfc2xpZGVycycsICdzaG93Jyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25hdl90aGVtZXMnLCAnc2hvdycpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduYXZfcmVwb3J0cycsICdoaWRlJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25hdl9hY3Rpdml0eV9sb2dzJywgJ3Nob3cnKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmF2X2NhY2hlX21hbmFnZW1lbnQnLCAnc2hvdycpOwoKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdkYXNoYm9hcmQnIH0pCgogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5yb3cucGFzc3dvcmQgPSAnJzsKCiAgICAgICAgICAgICAgICBpemlUb2FzdC5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3RpLW5hJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dvdy13b3csJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcgJytlcnIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICB9LAp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n    <div class=\"\">\n        \n        <!-- Main -->\n        <main class=\"d-flex flex-column u-hero u-hero--end mnh-100vh\" \n            style=\"background-image: url(/assets/img-temp/bg/bg-1.png)\">\n\n            <div class=\"container py-7 my-auto\">\n                <div class=\"d-flex align-items-center justify-content-center\">\n                    \n                    <!-- Card -->\n                    <div class=\"card my-7\" style=\"width: 460px; max-width: 100%;\">\n                        <div class=\"card-body p-4 p-lg-7\">\n                            <h2 class=\"text-center mb-4\">Log in</h2>\n\n                            <!-- Log in Form -->\n                            <form @submit.prevent=\"login\">\n                                <!-- Email Address -->\n                                <div class=\"form-group\">\n                                    <label for=\"email\">Email</label>\n                                    <input id=\"email\" \n                                        class=\"form-control\" \n                                        type=\"email\" \n                                        v-model=\"email\" \n                                        placeholder=\"Email Address\">\n                                </div>\n                                <!-- End Email Address -->\n                                \n                                <!-- Password -->\n                                <div class=\"form-group\">\n                                    <label for=\"password\">Password</label>\n                                    <input id=\"password\" \n                                        class=\"form-control\" \n                                        type=\"password\" \n                                        v-model=\"password\" \n                                        placeholder=\"Password\" \n                                        autocomplete=\"off\">\n                                </div>\n                                <!-- End Password -->\n\n                                <!-- Remember Me -->\n                                <div class=\"d-flex align-items-center justify-content-between my-4\">\n                                    <div class=\"custom-control custom-checkbox\">\n                                        <input id=\"rememberMe\" \n                                            class=\"custom-control-input\" \n                                            type=\"checkbox\">\n                                        <label class=\"custom-control-label text-dark\" \n                                            for=\"rememberMe\">Remember me\n                                        </label>\n                                    </div>\n                                    <!-- Forgot Password -->\n\n                                <router-link :to=\"{ name: 'forget' }\" \n                                    class=\"font-weight-semi-bold\">Forgot password?\n                                </router-link>\n\n                                </div>\n                                <!-- End Remember Me -->\n\n                                <!-- Form button -->\n                                <button type=\"submit\" class=\"btn btn-block btn-wide btn-primary text-uppercase\"\n                                    :disabled=\"btnLoading\">\n                                    <span v-if=\"btnLoading\">\n                                        <span class=\"spinner-grow spinner-grow-sm mr-1\" \n                                        role=\"status\" aria-hidden=\"true\"></span>Loading...\n                                    </span>\n                                    <span v-if=\"!btnLoading\">Login</span>\n                                </button>\n                                <!-- End Form button -->\n\n                            </form>\n                            <!-- End Log in Form -->\n                        </div>\n                    </div>\n                    <!-- End Card -->\n\n                </div>\n            </div>\n\n            <Footer></Footer>\n        </main>\n        <!-- End Main -->\n\n    </div>\n</template>\n\n<script>\n    import Footer from '../layouts/Footer.vue';\n    import iziToast from 'izitoast';\n\n    export default {\n        name: 'Login',\n        components: {\n            Footer\n        },\n        data(){\n            return {\n                row: {\n                    email: '',\n                    password: '',\n                    keepMeAlive: false,\n                },\n\n                btnLoading: false,\n            }\n        },\n        mounted() {},\n        methods: {\n\n            // Keep me alive\n            keepMeAlive() {\n                if(this.keepMeAlive) {\n                    this.keepMeAlive = false\n                } else {\n                    this.keepMeAlive = true\n                }\n            },\n\n            // doLogin\n            login(){\n                this.btnLoading = true;\n                this.axios.defaults.headers.common = {\n                    'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n                    'Authorization': `Bearer `,\n                };\n                const options = {\n                    url: window.baseURL+'/auth/login',\n                    method: 'POST',\n                    data: {\n                        email: this.row.email,\n                        password: this.row.password,\n                        keepMeAlive: this.row.keepMeAlive\n                    }\n                }\n                this.$axios(options)\n                .then(res => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n\n                        localStorage.setItem('accessToken', res.data.accessToken);\n                        localStorage.setItem('username', res.data.username);\n                        localStorage.setItem('user_id', res.data.user_id);\n                        localStorage.setItem('avatar', res.data.avatar);\n                        localStorage.setItem('role', res.data.role);\n\n                        // Set default Navigation\n                        localStorage.setItem('nav_roles', 'show');\n                        localStorage.setItem('nav_sliders', 'show');\n                        localStorage.setItem('nav_themes', 'show');\n                        localStorage.setItem('nav_reports', 'hide');\n                        localStorage.setItem('nav_activity_logs', 'show');\n                        localStorage.setItem('nav_cache_management', 'show');\n\n                        this.$router.push({ name: 'dashboard' })\n\n                })\n                .catch(err => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n\n                    iziToast.error({\n                        icon: 'ti-na',\n                        title: 'Wow-wow,',\n                        message: 'Something went wrong '+err,\n                    });\n                });\n            },\n\n        },\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"]}]}