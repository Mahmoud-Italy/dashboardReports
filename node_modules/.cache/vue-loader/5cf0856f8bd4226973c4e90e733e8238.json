{"remainingRequest":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/auth/Login.vue","mtime":1596994290000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGb290ZXIgZnJvbSAnLi4vbGF5b3V0cy9Gb290ZXIudnVlJzsKaW1wb3J0IGl6aVRvYXN0IGZyb20gJ2l6aXRvYXN0JzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRm9vdGVyCiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogewogICAgICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICAgICAga2VlcE1lQWxpdmU6IGZhbHNlLAogICAgICAgICAgICB9LAoKICAgICAgICAgICAgYnRuTG9hZGluZzogZmFsc2UsCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7fSwKICAgIG1ldGhvZHM6IHsKCiAgICAgICAgLy8gS2VlcCBtZSBhbGl2ZQogICAgICAgIGtlZXBNZUFsaXZlKCkgewogICAgICAgICAgICBpZih0aGlzLmtlZXBNZUFsaXZlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmtlZXBNZUFsaXZlID0gZmFsc2UKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMua2VlcE1lQWxpdmUgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvLyBkb0xvZ2luCiAgICAgICAgbG9naW4oKXsKICAgICAgICAgICAgdGhpcy5idG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbiA9IHsKICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JywgLy8gc2VjdXJpdHkgdG8gcHJldmVudCBDU1JGIGF0dGFja3MKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgIHVybDogd2luZG93LmJhc2VVUkwrJy9hdXRoL2xvZ2luJywKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnJvdy5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5yb3cucGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgICAga2VlcE1lQWxpdmU6IHRoaXMucm93LmtlZXBNZUFsaXZlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kYXhpb3Mob3B0aW9ucykKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5yb3cucGFzc3dvcmQgPSAnJzsKCiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FjY2Vzc190b2tlbicsIHJlcy5kYXRhLmFjY2Vzc190b2tlbik7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJfaW1hZ2UnLCByZXMuZGF0YS51c2VyLmltYWdlKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9uYW1lJywgcmVzLmRhdGEudXNlci5uYW1lKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9pZCcsIHJlcy5kYXRhLnVzZXIuaWQpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyb2xlJywgcmVzLmRhdGEudXNlci5yb2xlKTsKICAgICAgICAgICAgICAgICAgICAvLyBQZXJtaXNzaW9ucwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZXJtaXNzaW9ucycsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhLnBlcm1pc3Npb25zKSk7CgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnZGFzaGJvYXJkJyB9KQoKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMucm93LnBhc3N3b3JkID0gJyc7CgogICAgICAgICAgICAgICAgLy8gNDAxIFVuYXV0aG9yaXplZAogICAgICAgICAgICAgICAgaWYoZXJyLnJlc3BvbnNlICYmIGVyci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgICAgaXppVG9hc3QuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAndGktbmEnLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dvdy13b3csJywKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLnJlc3BvbnNlLmRhdGEuZXJyb3IKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3RpLW5hJywKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdXb3ctd293LCcsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZyAnK2VycgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICB9LAp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n    <div class=\"\">\n        \n        <!-- Main -->\n        <main class=\"d-flex flex-column u-hero u-hero--end mnh-100vh\" \n            style=\"background-image: url(/assets/img-temp/bg/bg-1.png)\">\n\n            <div class=\"container py-7 my-auto\">\n                <div class=\"d-flex align-items-center justify-content-center\">\n                    \n                    <!-- Card -->\n                    <div class=\"card my-7\" style=\"width: 460px; max-width: 100%;\">\n                        <div class=\"card-body p-4 p-lg-7\">\n                            <h2 class=\"text-center mb-4\">Log in</h2>\n\n                            <!-- Log in Form -->\n                            <form @submit.prevent=\"login\">\n                                <!-- Email Address -->\n                                <div class=\"form-group\">\n                                    <label for=\"email\">Email</label>\n                                    <input id=\"email\" \n                                        class=\"form-control\" \n                                        type=\"email\" \n                                        v-model=\"row.email\" \n                                        placeholder=\"Email Address\">\n                                </div>\n                                <!-- End Email Address -->\n                                \n                                <!-- Password -->\n                                <div class=\"form-group\">\n                                    <label for=\"password\">Password</label>\n                                    <input id=\"password\" \n                                        class=\"form-control\" \n                                        type=\"password\" \n                                        v-model=\"row.password\" \n                                        placeholder=\"Password\" \n                                        autocomplete=\"off\">\n                                </div>\n                                <!-- End Password -->\n\n                                <!-- Remember Me -->\n                                <div class=\"d-flex align-items-center justify-content-between my-4\">\n                                    <div class=\"custom-control custom-checkbox\">\n                                        <input id=\"rememberMe\" \n                                            class=\"custom-control-input\" \n                                            type=\"checkbox\">\n                                        <label class=\"custom-control-label text-dark\" \n                                            for=\"rememberMe\">Remember me\n                                        </label>\n                                    </div>\n                                    <!-- Forgot Password -->\n\n                                <router-link :to=\"{ name: 'forget' }\" \n                                    class=\"font-weight-semi-bold\">Forgot password?\n                                </router-link>\n\n                                </div>\n                                <!-- End Remember Me -->\n\n                                <!-- Form button -->\n                                <button type=\"submit\" class=\"btn btn-block btn-wide btn-primary text-uppercase\"\n                                    :disabled=\"btnLoading\">\n                                    <span v-if=\"btnLoading\">\n                                        <span class=\"spinner-grow spinner-grow-sm mr-1\" \n                                        role=\"status\" aria-hidden=\"true\"></span>Loading...\n                                    </span>\n                                    <span v-if=\"!btnLoading\">Login</span>\n                                </button>\n                                <!-- End Form button -->\n\n                            </form>\n                            <!-- End Log in Form -->\n                        </div>\n                    </div>\n                    <!-- End Card -->\n\n                </div>\n            </div>\n\n            <Footer></Footer>\n        </main>\n        <!-- End Main -->\n\n    </div>\n</template>\n\n<script>\n    import Footer from '../layouts/Footer.vue';\n    import iziToast from 'izitoast';\n\n    export default {\n        name: 'Login',\n        components: {\n            Footer\n        },\n        data(){\n            return {\n                row: {\n                    email: '',\n                    password: '',\n                    keepMeAlive: false,\n                },\n\n                btnLoading: false,\n            }\n        },\n        mounted() {},\n        methods: {\n\n            // Keep me alive\n            keepMeAlive() {\n                if(this.keepMeAlive) {\n                    this.keepMeAlive = false\n                } else {\n                    this.keepMeAlive = true\n                }\n            },\n\n            // doLogin\n            login(){\n                this.btnLoading = true;\n                this.axios.defaults.headers.common = {\n                    'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n                };\n                const options = {\n                    url: window.baseURL+'/auth/login',\n                    method: 'POST',\n                    data: {\n                        email: this.row.email,\n                        password: this.row.password,\n                        keepMeAlive: this.row.keepMeAlive\n                    }\n                }\n                this.$axios(options)\n                .then(res => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n\n                        localStorage.setItem('access_token', res.data.access_token);\n                        localStorage.setItem('user_image', res.data.user.image);\n                        localStorage.setItem('user_name', res.data.user.name);\n                        localStorage.setItem('user_id', res.data.user.id);\n                        localStorage.setItem('role', res.data.user.role);\n                        // Permissions\n                        localStorage.setItem('permissions', JSON.stringify(res.data.permissions));\n\n                    this.$router.push({ name: 'dashboard' })\n\n                })\n                .catch(err => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n\n                    // 401 Unauthorized\n                    if(err.response && err.response.status == 401) {\n                        iziToast.error({\n                            icon: 'ti-na',\n                            title: 'Wow-wow,',\n                            message: err.response.data.error\n                        });\n\n                    } else {\n                        iziToast.error({\n                            icon: 'ti-na',\n                            title: 'Wow-wow,',\n                            message: 'Something went wrong '+err\n                        });\n                    }\n\n                });\n            },\n\n        },\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"]}]}