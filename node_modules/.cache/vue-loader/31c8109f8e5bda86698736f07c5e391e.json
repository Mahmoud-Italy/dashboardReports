{"remainingRequest":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/layouts/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/src/components/layouts/Header.vue","mtime":1598772723000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/dlc/multitenancy/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdIZWFkZXInLAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGF1dGg6IHsKICAgICAgICAgICAgICAgIHVzZXJfaWQ6ICcnLAogICAgICAgICAgICAgICAgdXNlcl9uYW1lOiAnJywKICAgICAgICAgICAgICAgIHVzZXJfaW1hZ2U6ICcnLAogICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuOiAnJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2VhcmNoOiAnJywKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHt9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICAvLwogICAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJykpIHsKICAgICAgICAgICAgdGhpcy5hdXRoLnVzZXJfaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpOwogICAgICAgIH0KICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pbWFnZScpKSB7CiAgICAgICAgICAgIHRoaXMuYXV0aC51c2VyX2ltYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaW1hZ2UnKTsKICAgICAgICB9CiAgICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfbmFtZScpKSB7CiAgICAgICAgICAgIHRoaXMuYXV0aC51c2VyX25hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9uYW1lJyk7CiAgICAgICAgfQogICAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NfdG9rZW4nKSkgewogICAgICAgICAgICB0aGlzLmF1dGguYWNjZXNzX3Rva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8KICAgICAgICBvblNlYXJjaCgpewogICAgICAgICAgICB0aGlzLiRlbWl0KCJoZWFkZXJUb0NoaWxkIiwgdGhpcy5zZWFyY2gpOwogICAgICAgIH0sCgogICAgICAgIC8vIExvZ291dAogICAgICAgIGxvZ291dCgpewogICAgICAgICAgICB0aGlzLmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uID0gewogICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLCAvLyBzZWN1cml0eSB0byBwcmV2ZW50IENTUkYgYXR0YWNrcwogICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyIGAgKyB0aGlzLmF1dGguYWNjZXNzX3Rva2VuLAogICAgICAgICAgICB9OwogICAgICAgICAgICBjb25zdCBvcHRpb25zID0gewogICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cuYmFzZVVSTCsnL2F1dGgvbG9nb3V0JywKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgZGF0YToge30sCiAgICAgICAgICAgICAgICBwYXJhbXM6IHt9LAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYXhpb3Mob3B0aW9ucykKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHt9KQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KQogICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge30pCgogICAgICAgICAgICAvLyByZW1vdmUgbG9jYWxTdG9yYWdlCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhY2Nlc3NfdG9rZW4nKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJfaW1hZ2UnKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJfbmFtZScpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9pZCcpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncm9sZScpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdsb2dpbicgfSk7CiAgICAgICAgfSwKICAgIH0sCgogICAgLy8KICAgIG9wblNpZGVOYXYoKXsKICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJib2R5Iik7CiAgICAgICAgaWYoZWwuY2xhc3NMaXN0Lmhhcygnc2lkZS1uYXYtb24tYWN0aW9uJykpIHsKICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnc2lkZS1uYXYtb24tYWN0aW9uJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnc2lkZS1uYXYtb24tYWN0aW9uJyk7CiAgICAgICAgfQogICAgfSwKCgp9Cg=="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"Header.vue","sourceRoot":"src/components/layouts","sourcesContent":["<template>\n    <div class=\"\">\n\n        <!-- Header (Topbar) -->\n        <header class=\"u-header\">\n            <div class=\"u-header-left\">\n                <a class=\"u-header-logo\" href=\"javascript:;\">\n                    <img class=\"u-header-logo__icon\" src=\"/assets/svg/logo-mini.svg\" alt=\"\">\n                    <img class=\"u-header-logo__text\" src=\"/assets/svg/logo-text-light.svg\" alt=\"\">\n                </a>\n            </div>\n\n            <!-- Header Middle Section -->\n            <div class=\"u-header-middle\">\n                <!-- Sidebar Invoker -->\n                <div class=\"u-header-section\">\n                    <a class=\"js-sidebar-invoker u-header-invoker u-sidebar-invoker\"\n                        href=\"javascript:;\" \n                        data-is-close-all-except-this=\"true\"\n                        data-target=\"#sidebar\">\n                            <span class=\"ti-align-left u-header-invoker__icon u-sidebar-invoker__icon--open\"></span>\n                            <span class=\"ti-align-justify u-header-invoker__icon u-sidebar-invoker__icon--close\"></span>\n                    </a>\n                </div>\n                <!-- End Sidebar Invoker -->\n\n                <!-- Header Search -->\n                <div class=\"u-header-section justify-content-sm-start flex-grow-1 py-0\">\n                    <div class=\"u-header-search\"\n                         data-search-mobile-invoker=\"#headerSearchMobileInvoker\"\n                         data-search-target=\"#headerSearch\">\n                        <!-- Header Search Invoker (Mobile Mode) -->\n                        <a id=\"headerSearchMobileInvoker\" class=\"u-header-search__mobile-invoker align-items-center\" \n                            href=\"javascript:;\">\n                            <span class=\"ti-search\"></span>\n                        </a>\n                        <!-- End Header Search Invoker (Mobile Mode) -->\n\n                        <!-- Header Search Form -->\n                        <div id=\"headerSearch\" class=\"u-header-search-form\">\n                            <form @submit.prevent=\"onSearch\" class=\"w-100\">\n                                <div class=\"input-group h-100\">\n                                    <button class=\"btn-link input-group-prepend u-header-search__btn\" type=\"submit\">\n                                        <span class=\"ti-search\"></span>\n                                    </button>\n                                    <input class=\"form-control u-header-search__field\" \n                                        type=\"search\"\n                                        v-model=\"search\"\n                                        placeholder=\"Type to searchâ€¦\">\n                                </div>\n                            </form>\n                        </div>\n                        <!-- End Header Search Form -->\n                    </div>\n                </div>\n                <!-- End Header Search -->\n\n                <!-- Messages -->\n                <div class=\"u-header-section\">\n                    <div class=\"u-header-dropdown dropdown pt-1\">\n                        <router-link :to=\"{ name: 'inbox' }\" class=\"u-header-invoker d-flex align-items-center\">\n                            <span class=\"position-relative\">\n                                <span class=\"ti-email u-header-invoker__icon\"></span>\n                                <!-- <span class=\"u-indicator u-indicator-top-right u-indicator-xxs bg-danger\"></span> -->\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n                <!-- End Messages -->\n\n                <!-- Logs -->\n                <div class=\"u-header-section\">\n                    <div class=\"u-header-dropdown dropdown pt-1\">\n                        <router-link :to=\"{ name: 'logs' }\" class=\"u-header-invoker d-flex align-items-center\">\n                            <span class=\"position-relative\">\n                                <span class=\"ti-brush-alt u-header-invoker__icon\"></span>\n                                <!-- <span class=\"u-indicator u-indicator-top-right u-indicator-xxs bg-danger\"></span> -->\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n                <!-- End Logs -->\n\n                <!-- App Settings -->\n                <div class=\"u-header-section\">\n                    <div class=\"u-header-dropdown dropdown pt-1\">\n                        <router-link :to=\"{ name: 'settings' }\" class=\"u-header-invoker d-flex align-items-center\">\n                          <span class=\"position-relative\">\n                                <span class=\"ti-layout-grid2 u-header-invoker__icon\"></span>\n                            </span>\n                        </router-link>\n                    </div>\n                </div>\n                <!-- End App Settings -->\n\n                <!-- User Profile -->\n                <div class=\"u-header-section u-header-section--profile\">\n                    <div class=\"u-header-dropdown dropdown\">\n                        <a class=\"link-muted d-flex align-items-center\" href=\"#\" role=\"button\" id=\"userProfileInvoker\" aria-haspopup=\"true\" aria-expanded=\"false\"\n                           data-toggle=\"dropdown\"\n                           data-offset=\"0\">\n                            <img class=\"u-header-avatar img-fluid rounded-circle mr-md-3\" \n                                src=\"/assets/img/default_avatar.png\" alt=\"User Profile\">\n                            <span class=\"text-dark d-none d-md-inline-flex align-items-center\">\n                                {{ auth.user_name }}\n                                <span class=\"ti-angle-down text-muted ml-4\"></span>\n                            </span>\n                        </a>\n\n                        <div class=\"u-header-dropdown__menu dropdown-menu dropdown-menu-right\" \n                            aria-labelledby=\"userProfileInvoker\">\n                            <div class=\"card p-3\">\n                                <div class=\"card-body p-0\">\n                                    <ul class=\"list-unstyled mb-0\">\n                                        <li class=\"mb-3\">\n                                            <router-link :to=\"{ name: 'edit-users', params:{id: auth.user_id} }\" \n                                                    class=\"link-dark\">Update Profile\n                                            </router-link>\n                                        </li>\n                                        <li>\n                                            <a class=\"link-dark\" href=\"javascript:;\" @click=\"logout\">Logout</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!-- End User Profile -->\n\n\n            </div>\n            <!-- End Header Middle Section -->\n        </header>\n        <!-- End Header (Topbar) -->\n        \n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Header',\n        data(){\n            return {\n                auth: {\n                    user_id: '',\n                    user_name: '',\n                    user_image: '',\n                    access_token: '',\n                },\n                search: '',\n            }\n        },\n        mounted() {},\n        created() {\n            //\n            if(localStorage.getItem('user_id')) {\n                this.auth.user_id = localStorage.getItem('user_id');\n            }\n            if(localStorage.getItem('user_image')) {\n                this.auth.user_image = localStorage.getItem('user_image');\n            }\n            if(localStorage.getItem('user_name')) {\n                this.auth.user_name = localStorage.getItem('user_name');\n            }\n            if(localStorage.getItem('access_token')) {\n                this.auth.access_token = localStorage.getItem('access_token');\n            }\n            \n            \n        },\n        methods: {\n            //\n            onSearch(){\n                this.$emit(\"headerToChild\", this.search);\n            },\n\n            // Logout\n            logout(){\n                this.axios.defaults.headers.common = {\n                    'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n                    'Authorization': `Bearer ` + this.auth.access_token,\n                };\n                const options = {\n                    url: window.baseURL+'/auth/logout',\n                    method: 'POST',\n                    data: {},\n                    params: {},\n                }\n                this.axios(options)\n                    .then(() => {})\n                    .catch(() => {})\n                    .finally(() => {})\n\n                // remove localStorage\n                localStorage.removeItem('access_token');\n                localStorage.removeItem('user_image');\n                localStorage.removeItem('user_name');\n                localStorage.removeItem('user_id');\n                localStorage.removeItem('role');\n                this.$router.push({ name: 'login' });\n            },\n        },\n\n        //\n        opnSideNav(){\n            let el = document.querySelector(\"body\");\n            if(el.classList.has('side-nav-on-action')) {\n                el.classList.remove('side-nav-on-action');\n            } else {\n                el.classList.add('side-nav-on-action');\n            }\n        },\n\n\n    }\n</script>\n"]}]}