{"remainingRequest":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/src/components/auth/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/src/components/auth/Login.vue","mtime":1595599396000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Sites/work/amr/cors.hrs.com/dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpemlUb2FzdCBmcm9tICdpeml0b2FzdCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnbG9naW4nLAogICAgZGF0YSAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiB7CiAgICAgICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICAgICAgICBrZWVwTWVBbGl2ZTogZmFsc2UsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJ0bkxvYWRpbmc6IGZhbHNlLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDoge30sCiAgICBjcmVhdGVkKCkge30sCiAgICBtZXRob2RzOiB7CiAgICAgICAgCiAgICAgICAgLy8gS2VlcCBtZSBhbGl2ZQogICAgICAgIGtlZXBNZUFsaXZlKCkgewogICAgICAgICAgICBpZih0aGlzLmtlZXBNZUFsaXZlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmtlZXBNZUFsaXZlID0gZmFsc2UKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMua2VlcE1lQWxpdmUgPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvLyBMb2dpbgogICAgICAgIGxvZ2luKCkgewogICAgICAgICAgICB0aGlzLmJ0bkxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uID0gewogICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLCAvLyBzZWN1cml0eSB0byBwcmV2ZW50IENTUkYgYXR0YWNrcwogICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyIGAsCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICB1cmw6IHdpbmRvdy5kb21haW5OYW1lKycvYXBpL3YxL2Rhc2hib2FyZC9hdXRoL2xvZ2luJywKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnJvdy5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5yb3cucGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgICAga2VlcE1lQWxpdmU6IHRoaXMucm93LmtlZXBNZUFsaXZlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy9jb25zdCBjb25maWcgPSB7IGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyB9fTsgIAogICAgICAgICAgICB0aGlzLiRheGlvcyhvcHRpb25zKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucm93LnBhc3N3b3JkID0gJyc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzX3Rva2VuJywgcmVzLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIHJlcy5kYXRhLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXZhdGFyJywgcmVzLmRhdGEuYXZhdGFyKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm9sZScsIHJlcy5kYXRhLnJvbGUpOwogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZCcsIHJlcy5kYXRhLnVzZXJfaWQpOwoKICAgICAgICAgICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCBOYXZpZ2F0aW9uCiAgICAgICAgICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25hdl9yb2xlcycsICdzaG93Jyk7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2Rhc2hib2FyZCcgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuYnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucm93LnBhc3N3b3JkID0gJyc7CiAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7CiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd0aS1hbGVydCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnV293LW1hbiwnLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVW5hdXRob3JpemVkJywKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAoKICAgICAgICB9CiAgICB9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n  <div class=\"\">\n    \n    <div class=\"layout\" style=\"background: url('/assets/images/bg/login.png')\">\n        <div class=\"container\">\n            <div class=\"row full-height align-items-center\">\n                <div class=\"col-md-5 mx-auto\">\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <div class=\"p-15\">\n\n                                <div class=\"m-b-30 text-center\">\n                                  <router-link :to=\"{ name: 'login' }\">\n                                    <img class=\"img-responsive inline-block\" \n                                          src=\"/assets/images/logo/dc-logo.png\" \n                                          style=\"width: 150px\" \n                                          alt=\"dc\">\n                                  </router-link>\n                                </div>\n                                    \n                                <form @submit.prevent=\"login\">\n\n                                    <div class=\"form-group\">\n                                        <label class=\"control-label\">Email</label>\n                                        <input type=\"email\" \n                                            class=\"form-control\" \n                                            v-model=\"row.email\" \n                                            required=\"\">\n                                    </div>\n\n                                    <div class=\"form-group\">\n                                        <label class=\"control-label\">Password</label>\n                                        <input type=\"password\" \n                                                class=\"form-control\" \n                                                v-model=\"row.password\"\n                                                autocomplete=\"off\"\n                                                required=\"\">\n                                    </div>\n\n                                    <div class=\"checkbox font-size-13 d-inline-block p-v-0 m-v-0\">\n                                        <input id=\"keepMe\" \n                                            v-model=\"row.keepMeAlive\" \n                                            @click=\"keepMeAlive\"\n                                            type=\"checkbox\">\n                                        <label for=\"keepMe\">Keep Me Logged In</label>\n                                    </div>\n\n                                    <div class=\"pull-right\">\n                                        <router-link :to=\"{name: 'forget'}\" \n                                            class=\"text-underline\">Forgot Password?\n                                        </router-link>\n                                    </div>\n\n                                    <div class=\"m-t-30 text-left\">\n                                        <button class=\"btn btn-dark login-size f16\">\n                                            <span v-if=\"btnLoading\">\n                                                <div class=\"loader loader-xs loader-center\"></div>\n                                            </span>\n                                            <span v-if=\"!btnLoading\">Login</span>\n                                        </button>\n                                    </div>\n                                \n                                </form>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport iziToast from 'izitoast';\n\nexport default {\n    name: 'login',\n    data () {\n        return {\n            row: {\n                email: '',\n                password: '',\n                keepMeAlive: false,\n            },\n            btnLoading: false,\n        }\n    },\n    computed: {},\n    created() {},\n    methods: {\n        \n        // Keep me alive\n        keepMeAlive() {\n            if(this.keepMeAlive) {\n                this.keepMeAlive = false\n            } else {\n                this.keepMeAlive = true\n            }\n        },\n\n        // Login\n        login() {\n            this.btnLoading = true;\n            this.axios.defaults.headers.common = {\n                'X-Requested-With': 'XMLHttpRequest', // security to prevent CSRF attacks\n                'Authorization': `Bearer `,\n            };\n            const options = {\n                url: window.domainName+'/api/v1/dashboard/auth/login',\n                method: 'POST',\n                data: {\n                    email: this.row.email,\n                    password: this.row.password,\n                    keepMeAlive: this.row.keepMeAlive\n                }\n            }\n            //const config = { headers: { 'Content-Type': 'multipart/form-data' }};  \n            this.$axios(options)\n                .then((res) => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n                \n                    localStorage.setItem('access_token', res.data.access_token);\n                    localStorage.setItem('name', res.data.username);\n                    localStorage.setItem('avatar', res.data.avatar);\n                    localStorage.setItem('role', res.data.role);\n                    localStorage.setItem('id', res.data.user_id);\n\n                    // Set default Navigation\n                    // localStorage.setItem('nav_roles', 'show');\n\n                    this.$router.push({ name: 'dashboard' })\n                })\n                .catch(() => {\n                    this.btnLoading = false;\n                    this.row.password = '';\n                    iziToast.warning({\n                        icon: 'ti-alert',\n                        title: 'Wow-man,',\n                        message: 'Unauthorized',\n                    });\n\n                })\n            },\n\n        }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>"]}]}