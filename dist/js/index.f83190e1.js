(function(t){function a(a){for(var s,r,n=a[0],l=a[1],c=a[2],u=0,m=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(a);while(m.length)m.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],s=!0,n=1;n<e.length;n++){var l=e[n];0!==i[l]&&(s=!1)}s&&(o.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},i={index:0},o=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var c=0;c<n.length;c++)a(n[c]);var d=l;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0070":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputMeta2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputMeta2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabWriter"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseWriter","data-toggle":"collapse","data-target":"#collapseWriter"},on:{click:function(a){return t.collapseToggle("Writer")}}},[t._v("Writer "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleWriter"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseWriter","aria-labelledby":"TabWriter","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWriter1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputWriter1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWriter2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputWriter2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWriter3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputWriter3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Update "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,body:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"writers"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.sort=a.data.row.sort,t.row.body=a.data.row.body,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status})).catch((function(a){t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a})})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,body:this.row.body,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"3948e78c",null);a["default"]=h.exports},"01e7":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),!t.authorLoading&&t.filter_by?e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}):t._e(),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Articles No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:a.user.role,expression:"row.user.role"}],staticClass:"media-body"},[t._v(t._s(a.user.name)+" ")])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" "+t._s(a.articles_no)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Articles No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"writers"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"0261":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Hotels")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Packages No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.name)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.name))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},t._l(a.hotelsValues,(function(t,a){return e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t,expression:"hotel"}],key:a,staticClass:"ti-medall cursor-pointer"})})),0),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" "+t._s(a.packages_no)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Hotels")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Packages No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",name:"name",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"accommodations"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"0373":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputInput2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputInput2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCategory","data-toggle":"collapse","data-target":"#collapseCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Category "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseCategory","aria-labelledby":"TabCategory","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputRow1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputRow2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-8 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow4"}},[t._v("Color")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.color,expression:"row.color"}],staticClass:"form-control ui-h45",attrs:{id:"inputRow4",type:"color"},domProps:{value:t.row.color},on:{input:function(a){a.target.composing||t.$set(t.row,"color",a.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavIcon"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavIcon","data-toggle":"collapse","data-target":"#collapseNavIcon"},on:{click:function(a){return t.collapseToggle("Icon")}}},[t._v("Featued Icon "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleIcon"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavIcon","aria-labelledby":"NavIcon","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Icon")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.icon_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onIconChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Icon alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icon_alt,expression:"row.icon_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.icon_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"icon_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Icon title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.Icon_title,expression:"row.Icon_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.Icon_title},on:{input:function(a){a.target.composing||t.$set(t.row,"Icon_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Category")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,color:"",body:"",destination_id:"",parent_id:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",icon_preview:"",icon_base64:"",icon_alt:"",icon_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinations:[],destinationLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"categories"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchDestinations()},methods:{fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,color:this.row.color,body:this.row.body,destination_id:this.row.destination_id,parent_id:this.row.parent_id,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,icon_base64:this.row.icon_base64,icon_alt:this.row.icon_alt,icon_title:this.row.icon_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onIconChange:function(t){var a=t.target.files[0];this.row.icon_preview=URL.createObjectURL(a),this.createBase64Icon(a)},createBase64Icon:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.icon_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"222a5e06",null);a["default"]=h.exports},"091f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputMeta2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputMeta2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabWriter"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseWriter","data-toggle":"collapse","data-target":"#collapseWriter"},on:{click:function(a){return t.collapseToggle("Writer")}}},[t._v("Writer "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleWriter"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseWriter","aria-labelledby":"TabWriter","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWriter1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputWriter1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWriter2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputWriter2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWriter3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputWriter3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,body:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"writers"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name"))},methods:{addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,body:this.row.body,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"c6ff7e24",null);a["default"]=h.exports},"0b49":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Parent")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Packages No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.name)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.name))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft",domProps:{innerHTML:t._s(a.parent?a.parent.name:"No Parent")}})]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" "+t._s(a.packages_no)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Parent")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Packages No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",parent_id:"parent_id",slug:"slug",name:"name",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"packagetypes"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.fetchData("",!0)},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"0b5f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("div",{staticClass:"row"},t._l(t.rows,(function(a,s){return e("div",{key:s,staticClass:"col-md-3 ",class:s>3?"pt-5":""},[e("div",{staticClass:"card text-center"},[e("div",{staticClass:"card-header"},[e("h4",[t._v(t._s(a.name))])]),e("div",{staticClass:"card-body pt-0"},[a.setup?t._e():e("span",{staticClass:"btn btn-pill btn-with-icon text-uppercase",class:a.setup?" btn-secondary ":" btn-danger "},[e("span",{class:"btn-icon mr-2 "+a.icon}),e("span",{domProps:{innerHTML:t._s(a.setup?"Update":"Set Up")}},[t._v("Update")])]),a.setup?e("router-link",{staticClass:"btn btn-pill btn-with-icon text-uppercase",class:a.setup?" btn-secondary ":" btn-danger ",attrs:{to:{name:a.url}}},[e("span",{class:"btn-icon mr-2 "+a.icon}),e("span",{domProps:{innerHTML:t._s(a.setup?"Update":"Set Up")}},[t._v("Update")])]):t._e()],1)])])})),0)]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"List",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},search:"",status:!0,pgLoading:!0,rows:[],pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"applications"}},mounted:function(){},watch:{$route:function(){}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData()})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,search:this.search,paginate:100}};this.axios(a).then((function(a){t.pgLoading=!1,t.tenantLoading=!1,t.rows=a.data.rows})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role")}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,null,null);a["default"]=p.exports},1541:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.resf+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==this.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==this.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==this.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==this.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"15%"}},[t._v("Provider "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==this.order?"ti-arrow-down":"ASC"==this.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("provider")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[e("span",{staticClass:"default-color text-decoration-hover cursor-pointer",on:{click:function(e){return t.editRow(a)}}},[t._v(" "+t._s(a.provider)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:"/assets/img/default_avatar.png"}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){return t.editRow(a)}}},[t._v("Edit ")])]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Provider")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title",domProps:{innerHTML:t._s("Update"==t.btn_status?"Edit Row":"Add New")}})]),e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.createOrUpdate(a)}}},[e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Provider")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.provider,expression:"row.provider"}],staticClass:"form-control",attrs:{id:"input1",type:"text",required:""},domProps:{value:t.row.provider},on:{input:function(a){a.target.composing||t.$set(t.row,"provider",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Provider Url")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.provider_url,expression:"row.provider_url"}],staticClass:"form-control",attrs:{id:"input2",type:"text",required:""},domProps:{value:t.row.provider_url},on:{input:function(a){a.target.composing||t.$set(t.row,"provider_url",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" "+t._s(t.btn_status)+" Social")])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",provider:"provider",provider_url:"provider_url",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},row:{encrypt_id:"",provider:"",provider_url:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,btnLoading:!1,rows:[],show:10,pagination:{},edit:!1,btn_status:"Create",tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"socials"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.edit=!1,a.btn_status="Create",a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},editRow:function(t){this.edit=!0,this.btn_status="Update",this.row.encrypt_id=t.encrypt_id,this.row.provider=t.provider,this.row.provider_url=t.provider_url},createOrUpdate:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a="POST",e=this.refs,s="Added";this.edit&&(a="PUT",e=this.refs+"/"+this.row.encrypt_id,s="Updated");var i={url:window.baseURL+"/"+e,method:a,data:{provider:this.row.provider,provider_url:this.row.provider_url}};this.axios(i).then((function(){t.btnLoading=!1,t.fetchData(),t.row.encrypt_id="",t.row.provider="",t.row.provider_url="",d.a.success({icon:"ti-check",title:"Great job,",message:"Item "+s+" Successfully"})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"15b5":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabCruise"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCruise","data-toggle":"collapse","data-target":"#collapseCruise"},on:{click:function(a){return t.collapseToggle("Cruise")}}},[t._v("Cruise "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleCruise"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseCruise","aria-labelledby":"TabCruise","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputRow1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputRow2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow3"}},[t._v("Short title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_title,expression:"row.short_title"}],staticClass:"form-control",attrs:{id:"inputRow3",type:"text"},domProps:{value:t.row.short_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_title",a.target.value)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-6 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow4"}},[t._v("Start price")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.start_price,expression:"row.start_price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow4",type:"number",min:"0"},domProps:{value:t.row.start_price},on:{input:function(a){a.target.composing||t.$set(t.row,"start_price",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-6 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow5"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow5",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor1"}},[t._v("Inclusion")]),e("editor",{attrs:{id:"iEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.inclusion,callback:function(a){t.$set(t.row,"inclusion",a)},expression:"row.inclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor2"}},[t._v("Exclusion")]),e("editor",{attrs:{id:"iEditor2","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.exclusion,callback:function(a){t.$set(t.row,"exclusion",a)},expression:"row.exclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"ieditor3"}},[t._v("Cruise Facilities")]),e("editor",{attrs:{id:"ieditor3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.cruise_facilities,callback:function(a){t.$set(t.row,"cruise_facilities",a)},expression:"row.cruise_facilities"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor4"}},[t._v("Guest Suite Facilities")]),e("editor",{attrs:{id:"iEditor4","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.guest_suite_facilities,callback:function(a){t.$set(t.row,"guest_suite_facilities",a)},expression:"row.guest_suite_facilities"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor5"}},[t._v("Cabin Facilities")]),e("editor",{attrs:{id:"iEditor5","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.cabin_facilities,callback:function(a){t.$set(t.row,"cabin_facilities",a)},expression:"row.cabin_facilities"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor6"}},[t._v("Cancellation Policies")]),e("editor",{attrs:{id:"iEditor6","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.cancellation_policies,callback:function(a){t.$set(t.row,"cancellation_policies",a)},expression:"row.cancellation_policies"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor7"}},[t._v("Short body")]),e("editor",{attrs:{id:"iEditor7","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor8"}},[t._v("body")]),e("editor",{attrs:{id:"iEditor8","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPrices"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsePrices","data-toggle":"collapse","data-target":"#collapsePrices"},on:{click:function(a){return t.collapseToggle("Prices")}}},[t._v("Prices "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePrices"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePrices","aria-labelledby":"TabPrices","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.price_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Price Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_names[a],expression:"row.price_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.price_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.price_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,class:0!=s?"hidden":"",attrs:{id:"sub_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pvInput"+a+"_"+s}},[t._v("Price Value")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_value[a+"_"+s],expression:"row.price_item_value[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pvInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_value[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_value,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pcInput"+a+"_"+s}},[t._v("Content")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_body[a+"_"+s],expression:"row.price_item_body[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pcInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_body[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_body,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()])])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItineraries"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItineraries","data-toggle":"collapse","data-target":"#collapseItineraries"},on:{click:function(a){return t.collapseToggle("Itineraries")}}},[t._v("Itineraries "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleItineraries"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItineraries","aria-labelledby":"TabItineraries","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.itinerarie_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm2_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption2(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Itinerarie Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_names[a],expression:"row.itinerarie_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.itinerarie_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,staticClass:"ui-for-div",class:0!=s?"hidden":"",attrs:{id:"sub2_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-7"},[e("label",{attrs:{for:"tInput"+a+"_"+s}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_title[a+"_"+s],expression:"row.itinerarie_item_title[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"tInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_title[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_title,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-3"},[e("label",{attrs:{for:"sInput"+a+"_"+s}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_sort[a+"_"+s],expression:"row.itinerarie_item_sort[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"sInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_sort[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_sort,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption2(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-11"},[e("label",{attrs:{for:"bEditor"+a+"_"+s}},[t._v("Body")]),e("editor",{attrs:{id:"bEditor"+a+"_"+s,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.itinerarie_item_body[a+"_"+s],callback:function(e){t.$set(t.row.itinerarie_item_body,a+"_"+s,e)},expression:"row.itinerarie_item_body[i+'_'+x]"}})],1)])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub2(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm2()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavType"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavType","data-toggle":"collapse","data-target":"#collapseNavType"},on:{click:function(a){return t.collapseToggle("Type")}}},[t._v("Cruise Type "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleType"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavType","aria-labelledby":"NavType","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.typeLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.typeLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.cruise_type_id,expression:"row.cruise_type_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"cruise_type_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Cruise Type")]),t._l(t.types,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCabins"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCabins","data-toggle":"collapse","data-target":"#collapseNavCabins"},on:{click:function(a){return t.collapseToggle("Cabins")}}},[t._v("Multiple Cruise Cabins "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCabins"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCabins","aria-labelledby":"NavCabins","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.cabinLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.cabinLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.cabinsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search cabins","preselect-first":!1},model:{value:t.row.cabinsValues,callback:function(a){t.$set(t.row,"cabinsValues",a)},expression:"row.cabinsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavShortImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavShortImage","data-toggle":"collapse","data-target":"#collapseNavShortImage"},on:{click:function(a){return t.collapseToggle("ShortImage")}}},[t._v("Short Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleShortImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavShortImage","aria-labelledby":"NavShortImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.short_image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onShortImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_alt,expression:"row.short_image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_title,expression:"row.short_image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"View In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Cruise")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("4160"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("8e5f"),c=e.n(l),d=e("ca72"),u=e("2685"),m=e.n(u),p={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:d["a"],Multiselect:c.a},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",title:"",slug:"",short_title:"",start_price:"",sort:0,inclusion:"",exclusion:"",cruise_facilities:"",guest_suite_facilities:"",cabin_facilities:"",cancellation_policies:"",short_body:"",body:"",price_key:0,prices:[],price_names:[],price_items:[],price_item_key:[],price_item_value:[],price_item_body:[],itinerarie_key:0,itineraries:[],itinerarie_names:[],itinerarie_sort:[],itinerarie_items:[],itinerarie_item_key:[],itinerarie_item_title:[],itinerarie_item_sort:[],itinerarie_item_body:[],cruise_type_id:"",cabinsValues:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",short_image_preview:"",short_image_base64:"",short_image_alt:"",short_image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},types:[],typeLoading:!0,cabinsOptions:[],cabinLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"cruises"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchCruiseTypes()},methods:{fetchCruiseTypes:function(){var t=this;this.regionLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/cruiseTypes",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.typeLoading=!1,t.types=a.data.rows,t.fetchCruiseCabins()})).catch((function(){})).finally((function(){}))},fetchCruiseCabins:function(){var t=this;this.cabinLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/cabins",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.cabinLoading=!1,t.cabinsOptions=a.data.cabins})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.price_names.length;a++){for(var e=1;e<=10;e++){var s=this.row.price_item_value[a+"_"+e],i=this.row.price_item_body[a+"_"+e];s&&(this.row.price_items[e]={item_value:s,item_body:i})}this.row.prices[a]={price_name:this.row.price_names[a],items:this.row.price_items},this.row.price_items=[]}for(var o=1;o<this.row.itinerarie_names.length;o++){for(var r=1;r<=10;r++){var n=this.row.itinerarie_item_title[o+"_"+r],l=this.row.itinerarie_item_sort[o+"_"+r],c=this.row.itinerarie_item_body[o+"_"+r];n&&(this.row.itinerarie_items[r]={item_title:n,item_sort:l,item_body:c})}this.row.itineraries[o]={itinerarie_name:this.row.itinerarie_names[o],itinerarie_sort:this.row.itinerarie_sort[o],items:this.row.itinerarie_items},this.row.itinerarie_items=[]}var d={headers:{"Content-Type":"multipart/form-data"}},u={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,short_title:this.row.short_title,start_price:this.row.start_price,sort:this.row.sort,inclusion:this.row.inclusion,exclusion:this.row.exclusion,cruise_facilities:this.row.cruise_facilities,guest_suite_facilities:this.row.guest_suite_facilities,cabin_facilities:this.row.cabin_facilities,cancellation_policies:this.row.cancellation_policies,short_body:this.row.short_body,body:this.row.body,prices:this.row.prices,itineraries:this.row.itineraries,cruise_type_id:this.row.cruise_type_id,cabins:this.row.cabinsValues,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,short_image_base64:this.row.short_image_base64,short_image_alt:this.row.short_image_alt,short_image_title:this.row.short_image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(u,d).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},opnFrm:function(){this.row.price_key++,this.row.price_item_key[this.row.price_key]=0},removeOption:function(t){var a=this;document.querySelector("#frm_"+t).remove(),this.row.price_names[t]="",this.row.price_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.price_item_value[t+"_"+e]="",a.row.price_item_body[t+"_"+e]=""}))},opnSub:function(t){this.row.price_item_key[t]+=1,document.querySelector("#sub_"+t+"_"+this.row.price_item_key[t]).classList.remove("hidden")},removeSubOption:function(t,a){document.querySelector("#sub_"+t+"_"+a).classList.add("hidden"),this.row.price_item_value[t+"_"+a]="",this.row.price_item_body[t+"_"+a]="",this.row.price_item_key[t]-=1},opnFrm2:function(){this.row.itinerarie_key++,this.row.itinerarie_item_key[this.row.itinerarie_key]=0},removeOption2:function(t){var a=this;document.querySelector("#frm2_"+t).remove(),this.row.itinerarie_names[t]="",this.row.itinerarie_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.itinerarie_item_title[t+"_"+e]="",a.row.itinerarie_item_sort[t+"_"+e]="",a.row.itinerarie_item_body[t+"_"+e]=""}))},opnSub2:function(t){this.row.itinerarie_item_key[t]+=1,document.querySelector("#sub2_"+t+"_"+this.row.itinerarie_item_key[t]).classList.remove("hidden")},removeSubOption2:function(t,a){document.querySelector("#sub2_"+t+"_"+a).classList.add("hidden"),this.row.itinerarie_item_title[t+"_"+a]="",this.row.itinerarie_item_sort[t+"_"+a]="",this.row.itinerarie_item_body[t+"_"+a]="",this.row.itinerarie_item_key[t]-=1},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onShortImageChange:function(t){var a=t.target.files[0];this.row.short_image_preview=URL.createObjectURL(a),this.createBase64ShortImage(a)},createBase64ShortImage:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.short_image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=(e("60bc"),e("2877")),v=Object(g["a"])(h,s,i,!1,null,"27445766",null);a["default"]=v.exports},1940:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"Tabfaq"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsefaq","data-toggle":"collapse","data-target":"#collapsefaq"},on:{click:function(a){return t.collapseToggle("faq")}}},[t._v("FAQ "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconTogglefaq"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapsefaq","aria-labelledby":"Tabfaq","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputText3","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"View In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update FAQ")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",sort:0,body:"",destination_id:"",preview:"",image_base64:"",image_alt:"",image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinations:[],destinationLoading:!0,pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"faqs"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.title=a.data.row.title,t.row.sort=a.data.row.sort,t.row.body=a.data.row.body,t.row.destination_id=a.data.row.destination?a.data.row.destination.id:null,t.row.preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status,t.row.view_in_home=a.data.row.view_in_home,t.fetchDestinations()})).catch((function(){})).finally((function(){}))},fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,title:this.row.title,sort:this.row.sort,body:this.row.body,destination_id:this.row.destination_id,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Udpated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"4a85865c",null);a["default"]=h.exports},"1c29":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabContent"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseContent","data-toggle":"collapse","data-target":"#collapseContent"},on:{click:function(a){return t.collapseToggle("Content")}}},[t._v("Content "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleContent"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseContent","aria-labelledby":"TabContent","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Body")]),e("editor",{attrs:{id:"input3","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update ")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",body:"",sort:0,image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"updates"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.title=a.data.row.title,t.row.body=a.data.row.body,t.row.sort=a.data.row.sort,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.status=a.data.row.status})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,title:this.row.title,body:this.row.body,sort:this.row.sort,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"4246c30b",null);a["default"]=h.exports},"205f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabContent"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseContent","data-toggle":"collapse","data-target":"#collapseContent"},on:{click:function(a){return t.collapseToggle("Content")}}},[t._v("Content "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleContent"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseContent","aria-labelledby":"TabContent","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Body")]),e("editor",{attrs:{id:"input3","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",body:"",sort:0,image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"updates"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name"))},methods:{addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,title:this.row.title,body:this.row.body,sort:this.row.sort,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"c5c50a14",null);a["default"]=h.exports},2066:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Dashboard")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Show")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabInbox"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseInbox","data-toggle":"collapse","data-target":"#collapseInbox"},on:{click:function(a){return t.collapseToggle("Inbox")}}},[t._v("Inquire "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleInbox"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseInbox","aria-labelledby":"TabInbox","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text",disabled:""},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.email,expression:"row.email"}],staticClass:"form-control text-lowercase",attrs:{id:"input2",type:"text",disabled:""},domProps:{value:t.row.email},on:{input:function(a){a.target.composing||t.$set(t.row,"email",a.target.value)}}})])])])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("b0c0"),e("d3b7"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Show",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{status:1,preview:"",name:"",email:"",body:""},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"inquires"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.name=a.data.row.name,t.row.email=a.data.row.email,t.row.body=a.data.row.body})).catch((function(a){t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a})})).finally((function(){}))},editRow:function(){},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"22cd0121",null);a["default"]=p.exports},"24b2":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabDest"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseDest","data-toggle":"collapse","data-target":"#collapseDest"},on:{click:function(a){return t.collapseToggle("Dest")}}},[t._v("Page "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleDest"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseDest","aria-labelledby":"TabDest","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:t.onSlugChange,input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:900,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Page")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,body:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"pages"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.sort=a.data.row.sort,t.row.body=a.data.row.body,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,body:this.row.body,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"589956cb",null);a["default"]=h.exports},2916:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(" "+t._s(t.refs)+" ")])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabContent"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseContent","data-toggle":"collapse","data-target":"#collapseContent"},on:{click:function(a){return t.collapseToggle("Content")}}},[t._v("Slider "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleContent"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseContent","aria-labelledby":"TabContent","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Button")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.button,expression:"row.button"}],staticClass:"form-control",attrs:{id:"input3",type:"text"},domProps:{value:t.row.button},on:{input:function(a){a.target.composing||t.$set(t.row,"button",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input4"}},[t._v("Link")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.link,expression:"row.link"}],staticClass:"form-control",attrs:{id:"input4",type:"text"},domProps:{value:t.row.link},on:{input:function(a){a.target.composing||t.$set(t.row,"link",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input5"}},[t._v("Iframe")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.iframe,expression:"row.iframe"}],staticClass:"form-control",attrs:{id:"input5",type:"text"},domProps:{value:t.row.iframe},on:{input:function(a){a.target.composing||t.$set(t.row,"iframe",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input6"}},[t._v("Body")]),e("editor",{attrs:{id:"input6","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("3ca3"),e("9911"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{button:"",link:"",iframe:"",title:"",body:"",sort:0,image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"sliders"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name"))},methods:{addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,title:this.row.title,body:this.row.body,sort:this.row.sort,button:this.row.button,link:this.row.link,iframe:this.row.iframe,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"7ac6635c",null);a["default"]=h.exports},"2e58":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Dashboard")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Show")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabInbox"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseInbox","data-toggle":"collapse","data-target":"#collapseInbox"},on:{click:function(a){return t.collapseToggle("Inbox")}}},[t._v("Inbox "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleInbox"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseInbox","aria-labelledby":"TabInbox","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text",disabled:""},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.email,expression:"row.email"}],staticClass:"form-control text-lowercase",attrs:{id:"input2",type:"text",disabled:""},domProps:{value:t.row.email},on:{input:function(a){a.target.composing||t.$set(t.row,"email",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Message")]),e("editor",{attrs:{id:"input3",disabled:"","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("b0c0"),e("d3b7"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Show",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{status:1,preview:"",name:"",email:"",body:""},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"inbox"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.name=a.data.row.name,t.row.email=a.data.row.email,t.row.body=a.data.row.body})).catch((function(a){t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a})})).finally((function(){}))},editRow:function(){},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"f1e70930",null);a["default"]=h.exports},"45f7":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabContent"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseContente","data-toggle":"collapse","data-target":"#collapseContent"},on:{click:function(a){return t.collapseToggle("Content")}}},[t._v("Review "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleContent"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseContent","aria-labelledby":"TabContent","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"form-group col-6 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])]),e("div",{staticClass:"form-group col-6 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Email Address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.email,expression:"row.email"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.email},on:{input:function(a){a.target.composing||t.$set(t.row,"email",a.target.value)}}})])]),e("div",{staticClass:"col-4 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Stars")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.stars,expression:"row.stars"}],staticClass:"form-control",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.stars},on:{input:function(a){a.target.composing||t.$set(t.row,"stars",a.target.value)}}})])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Reviews Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.reviews_number,expression:"row.reviews_number"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.reviews_number},on:{input:function(a){a.target.composing||t.$set(t.row,"reviews_number",a.target.value)}}})])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Place")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.place,expression:"row.place"}],staticClass:"form-control",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.place},on:{input:function(a){a.target.composing||t.$set(t.row,"place",a.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputText3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"View In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Review")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",stars:"",reviews_number:"",place:"",email:"",title:"",body:"",sort:1,destination_id:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinationLoading:!0,destinations:[],pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"reviews"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchDestinations()},methods:{fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,name:this.row.name,email:this.row.email,title:this.row.title,body:this.row.body,stars:this.row.stars,place:this.row.place,reviews_number:this.row.reviews_number,sort:this.row.sort,destination_id:this.row.destination_id,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"0f962456",null);a["default"]=h.exports},4816:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputMeta2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputMeta2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabWiki"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseWiki","data-toggle":"collapse","data-target":"#collapseWiki"},on:{click:function(a){return t.collapseToggle("Wiki")}}},[t._v("Wiki "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleWiki"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseWiki","aria-labelledby":"TabWiki","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWiki1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputWiki1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWiki2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputWiki2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWiki3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputWiki3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Short body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor2"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor2","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItems"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItems","data-toggle":"collapse","data-target":"#collapseItems"},on:{click:function(a){return t.collapseToggle("Items")}}},[t._v("Items "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleItems"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItems","aria-labelledby":"TabItems","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.items_key,(function(a){return e("div",{key:a,ref:"frm_"+a,refInFor:!0,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputItems"+a}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_title[a],expression:"row.items_title[i]"}],staticClass:"form-control",attrs:{id:"inputItems"+a,type:"text"},domProps:{value:t.row.items_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_title,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{id:"inputItems"+a}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.items_sort[a],expression:"row.items_sort[i]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputItems"+a,type:"number",min:"0"},domProps:{value:t.row.items_sort[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_sort,a,t._n(e.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"editorItems"+a}},[t._v("Body")]),e("editor",{attrs:{id:"editorItems"+a,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.items_body[a],callback:function(e){t.$set(t.row.items_body,a,e)},expression:"row.items_body[i]"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputImage"+a}},[t._v("Image")]),e("p",[t.row.items_image_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.items_image_preview[a]}}):t._e()]),e("input",{staticClass:"form-control",attrs:{id:"inputImage"+a,type:"file"},on:{change:function(e){return t.onItemsImageChange(e,a)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputImageAlt"+a}},[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_alt[a],expression:"row.items_image_alt[i]"}],staticClass:"form-control",attrs:{id:"inputImageAlt"+a,type:"text"},domProps:{value:t.row.items_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_alt,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputImageTitle"+a}},[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_title[a],expression:"row.items_image_title[i]"}],staticClass:"form-control",attrs:{id:"inputImageTitle"+a,type:"text"},domProps:{value:t.row.items_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_title,a,e.target.value)}}})])])})),e("div",{staticClass:"row pull-right ui-mt15"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("NavDestination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleNavDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavPackages"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavPackages","data-toggle":"collapse","data-target":"#collapseNavPackages"},on:{click:function(a){return t.collapseToggle("NavPackages")}}},[t._v("Related Packages "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleNavPackages"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavPackages","aria-labelledby":"NavPackages","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packageLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packageLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.packagesOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search packages","preselect-first":!0},model:{value:t.row.packagesValues,callback:function(a){t.$set(t.row,"packagesValues",a)},expression:"row.packagesValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onViewInHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"Show In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Update "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("8e5f"),d=e.n(c),u=e("2685"),m=e.n(u),p={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Multiselect:d.a,Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,body:"",short_body:"",items:[],items_key:0,items_title:[],items_sort:[],items_body:[],items_image_preview:[],items_image_base64:[],items_image_alt:[],items_image_title:[],destination_id:"",packagesValues:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinationLoading:!0,destinations:[],packageLoading:!0,packagesOptions:[],pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"wikis"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){var e;if(t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.sort=a.data.row.sort,t.row.body=a.data.row.body,t.row.short_body=a.data.row.short_body,a.data.row.items){t.row.items_key=a.data.row.items.length;for(var s=1;s<=t.row.items_key;s++){var i=s-1;t.row.items_title[s]=a.data.row.items[i].title,t.row.items_body[s]=a.data.row.items[i].body,t.row.items_sort[s]=a.data.row.items[i].sort,t.row.items_image_preview[s]=a.data.row.items[i].image?a.data.row.items[i].image.image_url:null,t.row.items_image_base64[s]=a.data.row.items[i].image?a.data.row.items[i].image.image_url:null,t.row.items_image_alt[s]=a.data.row.items[i].image?a.data.row.items[i].image.image_alt:null,t.row.items_image_title[s]=a.data.row.items[i].image?a.data.row.items[i].image.image_title:null}}t.row.destination_id=a.data.row.destination?a.data.row.destination.id:null,t.row.packagesValues=null!==(e=a.data.row.packagesValues)&&void 0!==e?e:[],t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.age_title:null,t.row.status=a.data.row.status,t.row.view_in_home=a.data.row.view_in_home,t.fetchDestinations()})).catch((function(a){t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a})})).finally((function(){}))},fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows,t.fetchPackages()})).catch((function(){})).finally((function(){}))},fetchPackages:function(){var t=this;this.packageLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packages",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.packageLoading=!1,t.packagesOptions=a.data.packages})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.items_title.length;a++)this.row.items[a]={title:this.row.items_title[a],body:this.row.items_body[a],sort:this.row.items_sort[a],image_base64:this.row.items_image_base64[a],image_alt:this.row.items_image_alt[a],items_image_title:this.row.items_image_title[a]};var e={headers:{"Content-Type":"multipart/form-data"}},s={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,body:this.row.body,short_body:this.row.short_body,items:this.row.items,destination_id:this.row.destination_id,packages:this.row.packagesValues,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(s,e).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},opnFrm:function(){this.row.items_key++},removeOption:function(t){document.querySelector("#frm_"+t).remove(),this.row.items_title[t]="",this.row.items_sort[t]="",this.row.items_body[t]="",this.row.items_image_preview[t]="",this.row.items_image_base64[t]="",this.row.items_image_alt[t]="",this.row.items_image_title[t]=""},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onItemsImageChange:function(t,a){var e=t.target.files[0];this.row.items_image_preview[a]=URL.createObjectURL(e),this.createItemsBase64Image(e,a)},createItemsBase64Image:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.items_image_base64[a]=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onViewInHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=e("2877"),v=Object(g["a"])(h,s,i,!1,null,"6f5f2f44",null);a["default"]=v.exports},"484f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Destination "),t.destLoading||"destination"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.destLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))]),t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.destination?t._e():e("span",[t._v(" - ")]),a.destination?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"destination",filter:a.destination.slug}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.destination.title)+" ")])]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Destination")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,destLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"reviews"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.destLoading=!0,this.filter="",this.filter_by="",this.fetchData("",!0),this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.destLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"550f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"25%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Destination "),t.typeLoading||"destination"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.typeLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Views No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.destination?t._e():e("span",[t._v(" - ")]),a.destination?e("router-link",{staticClass:"text-decoration-hover",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"type",filter:a.destination.slug}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.destination.title)+" ")])]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),t._m(2,!0),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Destination")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Views No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" 0 ")])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,sortLoading:!1,showLoading:!1,orderLoading:!1,typeLoading:!1,authorLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"packages"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"DESC"==this.order?this.order="ASC":this.order="DESC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.typeLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,show:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.typeLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],r={name:"App"},n=r,l=e("2877"),c=Object(l["a"])(n,i,o,!1,null,"1abd510b",null),d=c.exports,u=e("8c4f");s["a"].use(u["a"]);var m=new u["a"]({mode:"history",base:"/",fallback:!0,routes:[{path:"/",name:"dashboard",component:e("9636").default,beforeEnter:p},{path:"/login",name:"login",component:e("83c9").default,beforeEnter:h},{path:"/forget/password",name:"forget",component:e("b50e").default,beforeEnter:h},{path:"/reset/password",name:"reset",component:e("f969").default,beforeEnter:p},{path:"/applications",name:"applications",component:e("0b5f").default,beforeEnter:p},{path:"/accommodations",name:"accommodations",component:e("0261").default,beforeEnter:p},{path:"/accommodations/status/:status",name:"status-accommodations",component:e("0261").default,beforeEnter:p},{path:"/accommodations/filter/:filter_by/:filter",name:"filter-accommodations",component:e("0261").default,beforeEnter:p},{path:"/accommodations/create",name:"create-accommodations",component:e("c4d5").default,beforeEnter:p},{path:"/accommodations/edit/:id",name:"edit-accommodations",component:e("bddc").default,beforeEnter:p},{path:"/articles",name:"articles",component:e("d0c6").default,beforeEnter:p},{path:"/articles/status/:status",name:"status-articles",component:e("d0c6").default,beforeEnter:p},{path:"/articles/filter/:filter_by/:filter",name:"filter-articles",component:e("d0c6").default,beforeEnter:p},{path:"/articles/create",name:"create-articles",component:e("cf2f").default,beforeEnter:p},{path:"/articles/edit/:id",name:"edit-articles",component:e("9a2d").default,beforeEnter:p},{path:"/cabins",name:"cabins",component:e("eaf7").default,beforeEnter:p},{path:"/cabins/status/:status",name:"status-cabins",component:e("eaf7").default,beforeEnter:p},{path:"/cabins/filter/:filter_by/:filter",name:"filter-cabins",component:e("eaf7").default,beforeEnter:p},{path:"/cabins/create",name:"create-cabins",component:e("604d").default,beforeEnter:p},{path:"/cabins/edit/:id",name:"edit-cabins",component:e("7fb9").default,beforeEnter:p},{path:"/caches",name:"caches",component:e("c5e4").default,beforeEnter:p},{path:"/categories",name:"categories",component:e("ebf6").default,beforeEnter:p},{path:"/categories/status/:status",name:"status-categories",component:e("ebf6").default,beforeEnter:p},{path:"/categories/filter/:filter_by/:filter",name:"filter-categories",component:e("ebf6").default,beforeEnter:p},{path:"/categories/create",name:"create-categories",component:e("0373").default,beforeEnter:p},{path:"/categories/edit/:id",name:"edit-categories",component:e("fb6f").default,beforeEnter:p},{path:"/cruises",name:"cruises",component:e("e536").default,beforeEnter:p},{path:"/cruises/status/:status",name:"status-cruises",component:e("e536").default,beforeEnter:p},{path:"/cruises/filter/:filter_by/:filter",name:"filter-cruises",component:e("e536").default,beforeEnter:p},{path:"/cruises/create",name:"create-cruises",component:e("15b5").default,beforeEnter:p},{path:"/cruises/edit/:id",name:"edit-cruises",component:e("b17a").default,beforeEnter:p},{path:"/cruiseTypes",name:"cruisetypes",component:e("f3bc").default,beforeEnter:p},{path:"/cruiseTypes/status/:status",name:"status-cruisetypes",component:e("f3bc").default,beforeEnter:p},{path:"/cruiseTypes/filter/:filter_by/:filter",name:"filter-cruisetypes",component:e("f3bc").default,beforeEnter:p},{path:"/cruiseTypes/create",name:"create-cruisetypes",component:e("8f2c").default,beforeEnter:p},{path:"/cruiseTypes/edit/:id",name:"edit-cruisetypes",component:e("cdac").default,beforeEnter:p},{path:"/destinations",name:"destinations",component:e("61b0").default,beforeEnter:p},{path:"/destinations/status/:status",name:"status-destinations",component:e("61b0").default,beforeEnter:p},{path:"/destinations/filter/:filter_by/:filter",name:"filter-destinations",component:e("61b0").default,beforeEnter:p},{path:"/destinations/create",name:"create-destinations",component:e("a44c").default,beforeEnter:p},{path:"/destinations/edit/:id",name:"edit-destinations",component:e("728f").default,beforeEnter:p},{path:"/faqs",name:"faqs",component:e("7f2c").default,beforeEnter:p},{path:"/faqs/status/:status",name:"status-faqs",component:e("7f2c").default,beforeEnter:p},{path:"/faqs/filter/:filter_by/:filter",name:"filter-faqs",component:e("7f2c").default,beforeEnter:p},{path:"/faqs/create",name:"create-faqs",component:e("6284").default,beforeEnter:p},{path:"/faqs/edit/:id",name:"edit-faqs",component:e("1940").default,beforeEnter:p},{path:"/hotels",name:"hotels",component:e("5889").default,beforeEnter:p},{path:"/hotels/status/:status",name:"status-hotels",component:e("5889").default,beforeEnter:p},{path:"/hotels/filter/:filter_by/:filter",name:"filter-hotels",component:e("5889").default,beforeEnter:p},{path:"/hotels/create",name:"create-hotels",component:e("fcae").default,beforeEnter:p},{path:"/hotels/edit/:id",name:"edit-hotels",component:e("60c6").default,beforeEnter:p},{path:"/icons",name:"icons",component:e("646f").default,beforeEnter:p},{path:"/icons/status/:status",name:"status-icons",component:e("646f").default,beforeEnter:p},{path:"/icons/filter/:filter_by/:filter",name:"filter-icons",component:e("646f").default,beforeEnter:p},{path:"/inbox",name:"inbox",component:e("a518").default,beforeEnter:p},{path:"/inbox/status/:status",name:"status-inbox",component:e("a518").default,beforeEnter:p},{path:"/inbox/filter/:filter_by/:filter",name:"filter-inbox",component:e("a518").default,beforeEnter:p},{path:"/inbox/show/:id",name:"show-inbox",component:e("2e58").default,beforeEnter:p},{path:"/inquires",name:"inquires",component:e("60c9").default,beforeEnter:p},{path:"/inquires/status/:status",name:"status-inquires",component:e("60c9").default,beforeEnter:p},{path:"/inquires/filter/:filter_by/:filter",name:"filter-inquires",component:e("60c9").default,beforeEnter:p},{path:"/inquires/show/:id",name:"show-inquires",component:e("2066").default,beforeEnter:p},{path:"/ip-blockers",name:"ip-blockers",component:e("ddc9").default,beforeEnter:p},{path:"/ip-blockers/status/:status",name:"status-ip-blockers",component:e("ddc9").default,beforeEnter:p},{path:"/ip-blockers/filter/:filter_by/:filter",name:"filter-ip-blockers",component:e("ddc9").default,beforeEnter:p},{path:"/logs",name:"logs",component:e("eebd").default,beforeEnter:p},{path:"/media",name:"media",component:e("a2f1").default,beforeEnter:p},{path:"/packages",name:"packages",component:e("550f").default,beforeEnter:p},{path:"/packages/status/:status",name:"status-packages",component:e("550f").default,beforeEnter:p},{path:"/packages/filter/:filter_by/:filter",name:"filter-packages",component:e("550f").default,beforeEnter:p},{path:"/packages/create",name:"create-packages",component:e("bf3c").default,beforeEnter:p},{path:"/packages/edit/:id",name:"edit-packages",component:e("8f56").default,beforeEnter:p},{path:"/packageTypes",name:"packagetypes",component:e("0b49").default,beforeEnter:p},{path:"/packageTypes/status/:status",name:"status-packagetypes",component:e("0b49").default,beforeEnter:p},{path:"/packageTypes/filter/:filter_by/:filter",name:"filter-packageTypes",component:e("0b49").default,beforeEnter:p},{path:"/packageTypes/create",name:"create-packagetypes",component:e("ec7d").default,beforeEnter:p},{path:"/packageTypes/edit/:id",name:"edit-packagetypes",component:e("e2a9").default,beforeEnter:p},{path:"/pages",name:"pages",component:e("81d6").default,beforeEnter:p},{path:"/pages/status/:status",name:"status-pages",component:e("81d6").default,beforeEnter:p},{path:"/pages/filter/:filter_by/:filter",name:"filter-pages",component:e("81d6").default,beforeEnter:p},{path:"/pages/create",name:"create-pages",component:e("ac5d").default,beforeEnter:p},{path:"/pages/edit/:id",name:"edit-pages",component:e("24b2").default,beforeEnter:p},{path:"/regions",name:"regions",component:e("da2c").default,beforeEnter:p},{path:"/regions/status/:status",name:"status-regions",component:e("da2c").default,beforeEnter:p},{path:"/regions/filter/:filter_by/:filter",name:"filter-regions",component:e("da2c").default,beforeEnter:p},{path:"/regions/create",name:"create-regions",component:e("b3f1").default,beforeEnter:p},{path:"/regions/edit/:id",name:"edit-regions",component:e("b899").default,beforeEnter:p},{path:"/reviews",name:"reviews",component:e("484f").default,beforeEnter:p},{path:"/reviews/status/:status",name:"status-reviews",component:e("484f").default,beforeEnter:p},{path:"/reviews/filter/:filter_by/:filter",name:"filter-reviews",component:e("484f").default,beforeEnter:p},{path:"/reviews/create",name:"create-reviews",component:e("45f7").default,beforeEnter:p},{path:"/reviews/edit/:id",name:"edit-reviews",component:e("5ad6").default,beforeEnter:p},{path:"/roles",name:"roles",component:e("679b").default,beforeEnter:p},{path:"/roles/status/:status",name:"status-roles",component:e("679b").default,beforeEnter:p},{path:"/roles/filter/:filter_by/:filter",name:"filter-roles",component:e("679b").default,beforeEnter:p},{path:"/roles/create",name:"create-roles",component:e("9543").default,beforeEnter:p},{path:"/roles/edit/:id",name:"edit-roles",component:e("69f5").default,beforeEnter:p},{path:"/settings",name:"settings",component:e("7cb9").default,beforeEnter:p},{path:"/sliders",name:"sliders",component:e("66bd").default,beforeEnter:p},{path:"/sliders/status/:status",name:"status-sliders",component:e("66bd").default,beforeEnter:p},{path:"/sliders/filter/:filter_by/:filter",name:"filter-sliders",component:e("66bd").default,beforeEnter:p},{path:"/sliders/create",name:"create-sliders",component:e("2916").default,beforeEnter:p},{path:"/sliders/edit/:id",name:"edit-sliders",component:e("9f16").default,beforeEnter:p},{path:"/socials",name:"socials",component:e("1541").default,beforeEnter:p},{path:"/socials/status/:status",name:"status-socials",component:e("1541").default,beforeEnter:p},{path:"/socials/filter/:filter_by/:filter",name:"filter-socials",component:e("1541").default,beforeEnter:p},{path:"/tags",name:"tags",component:e("6b08").default,beforeEnter:p},{path:"/tags/status/:status",name:"status-tags",component:e("6b08").default,beforeEnter:p},{path:"/tags/filter/:filter_by/:filter",name:"filter-tags",component:e("6b08").default,beforeEnter:p},{path:"/tenants",name:"tenants",component:e("8bfd").default,beforeEnter:p},{path:"/tenants/status/:status",name:"status-tenants",component:e("8bfd").default,beforeEnter:p},{path:"/tenants/filter/:filter_by/:filter",name:"filter-tenants",component:e("8bfd").default,beforeEnter:p},{path:"/tenants/create",name:"create-tenants",component:e("bf6c").default,beforeEnter:p},{path:"/tenants/edit/:id",name:"edit-tenants",component:e("f42e").default,beforeEnter:p},{path:"/updates",name:"updates",component:e("cf3e").default,beforeEnter:p},{path:"/updates/status/:status",name:"status-updates",component:e("cf3e").default,beforeEnter:p},{path:"/updates/filter/:filter_by/:filter",name:"filter-updates",component:e("cf3e").default,beforeEnter:p},{path:"/updates/create",name:"create-updates",component:e("205f").default,beforeEnter:p},{path:"/updates/edit/:id",name:"edit-updates",component:e("1c29").default,beforeEnter:p},{path:"/users",name:"users",component:e("7a66").default,beforeEnter:p},{path:"/users/status/:status",name:"status-users",component:e("7a66").default,beforeEnter:p},{path:"/users/filter/:filter_by/:filter",name:"filter-users",component:e("7a66").default,beforeEnter:p},{path:"/users/create",name:"create-users",component:e("d9f7").default,beforeEnter:p},{path:"/users/edit/:id",name:"edit-users",component:e("6c81").default,beforeEnter:p},{path:"/wikis",name:"wikis",component:e("fc22").default,beforeEnter:p},{path:"/wikis/status/:status",name:"status-wikis",component:e("fc22").default,beforeEnter:p},{path:"/wikis/filter/:filter_by/:filter",name:"filter-wikis",component:e("fc22").default,beforeEnter:p},{path:"/wikis/create",name:"create-wikis",component:e("773f").default,beforeEnter:p},{path:"/wikis/edit/:id",name:"edit-wikis",component:e("4816").default,beforeEnter:p},{path:"/writers",name:"writers",component:e("01e7").default,beforeEnter:p},{path:"/writers/status/:status",name:"status-writers",component:e("01e7").default,beforeEnter:p},{path:"/writers/filter/:filter_by/:filter",name:"filter-writers",component:e("01e7").default,beforeEnter:p},{path:"/writers/create",name:"create-writers",component:e("091f").default,beforeEnter:p},{path:"/writers/edit/:id",name:"edit-writers",component:e("0070").default,beforeEnter:p},{path:"/forbidden",name:"forbidden",component:e("d311").default,beforeEnter:p},{path:"/*",name:"not-found",component:e("9994").default}]});function p(t,a,e){localStorage.getItem("access_token")?e():e("/login")}function h(t,a,e){localStorage.getItem("access_token")?e("/"):e()}var g=e("a925");s["a"].use(g["a"]);var v=new g["a"]({local:"en",locale:"en",fallbackLocale:"en",silentTranslationWarn:!0,messages:{en:{auth:{email_address:"Email address",password:"Password",remember_me:"Remember me",forget_password:"Forget Password ?",login:"Login",return_login:"return to login ?",submit:"Submit",key_code:"Key Code",new_password:"New Password",con_new_password:"Confirm New Password"},app:{all:"All",hello:"Hello",profile:"Profile",logout:"Logout",update:"Update",create:"Create",back:"Back",cancel:"Cancel",success_title:"Great job,",success_msg:"Request Completed Successfully.",warning_title:"Wow, man",warning_msg:"Slow down, ",error_title:"Wow-wow,",error_msg:"Something went wrong.",no_data:"No data found.",invalid_credentials:"Invalid Credentials"},nav:{dashboard:"Dashboard",malls:"Malls",shops:"Shops",categories:"Categories",products:"Products",attributes:"Attributes",orders:"Orders",requests:"Requests",messages:"Messages",users:"Users",offers:"Offers",sliders:"Sliders",settings:"Settings",pages:"Pages"}},ar:{auth:{email_address:" ",password:" ",remember_me:"",forget_password:"   ",login:" ",return_login:"  ",submit:"",key_code:"",new_password:"  ",con_new_password:"  "},app:{all:"",hello:" ",profile:"",logout:" ",update:"",create:"",back:"",cancel:"",success_title:" ,",success_msg:"   ",warning_title:"  ",warning_msg:"",error_title:"",error_msg:"        ",no_data:"  ",invalid_credentials:"  "},nav:{dashboard:" ",malls:"",shops:"",categories:"",products:"",attributes:"",orders:"",requests:"",messages:"",users:"",offers:"",sliders:"",settings:"",pages:""}}}}),_=e("a7fe"),f=e.n(_),w=e("bc3a"),b=e.n(w),C=(e("6705"),e("6ca7")),y=e("2685"),k=e.n(y),x=e("1bdd"),L=e("4eb5"),S=e.n(L),T=e("df45"),I=e.n(T),A=e("049c"),N=e.n(A),R=e("1321"),P=e.n(R),D=e("e37d");s["a"].use(f.a,b.a),s["a"].use(C["a"],k.a),s["a"].component("downloadExcel",x["a"]),S.a.config.autoSetContainer=!0,s["a"].use(S.a),s["a"].use(I.a),s["a"].use(N.a),s["a"].use(P.a),s["a"].component("apexchart",P.a),s["a"].use(D["a"]),window.editor_apiKey="xahz1dg338xnac8il0tkxph26xcaxqaewi3bd9cw9t4e6j7b",window.editor_menubar="file edit view insert format tools table tc help",window.editor_plugins="advlist autolink lists link image charmap print preview anchor",window.editor_toolbar="undo redo | formatselect | bold italic backcolor |                          alignleft aligncenter alignright alignjustify |                          bullist numlist outdent indent | removeformat | help",window.baseURL="http://localhost:8000/v1/dashboard",s["a"].config.productionTip=!1,new s["a"]({i18n:v,router:m,render:function(t){return t(d)}}).$mount("#app")},5889:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==this.order?"ti-arrow-down":"ASC"==this.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Stars")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Packages No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},t._l(a.stars,(function(t,a){return e("span",{key:a,staticClass:"ti-star"})})),0),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[t._v(" "+t._s(a.packages)+" ")]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Stars")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Packages No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",link:"link",stars:"stars",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,sortLoading:!1,showLoading:!1,orderLoading:!1,authorLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"hotels"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"DESC"==this.order?this.order="ASC":this.order="DESC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,show:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"5ad6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabContent"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseContente","data-toggle":"collapse","data-target":"#collapseContent"},on:{click:function(a){return t.collapseToggle("Content")}}},[t._v("Review "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleContent"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseContent","aria-labelledby":"TabContent","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"form-group col-6 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])]),e("div",{staticClass:"form-group col-6 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Email Address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.email,expression:"row.email"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.email},on:{input:function(a){a.target.composing||t.$set(t.row,"email",a.target.value)}}})])]),e("div",{staticClass:"col-4 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Stars")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.stars,expression:"row.stars"}],staticClass:"form-control",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.stars},on:{input:function(a){a.target.composing||t.$set(t.row,"stars",a.target.value)}}})])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Reviews Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.reviews_number,expression:"row.reviews_number"}],staticClass:"form-control",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.reviews_number},on:{input:function(a){a.target.composing||t.$set(t.row,"reviews_number",a.target.value)}}})])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Place")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.place,expression:"row.place"}],staticClass:"form-control",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.place},on:{input:function(a){a.target.composing||t.$set(t.row,"place",a.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputText3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"View In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Review")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",stars:"",reviews_number:"",place:"",email:"",title:"",body:"",sort:1,destination_id:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinationLoading:!0,destinations:[],pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"reviews"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.name=a.data.row.name,t.row.email=a.data.row.email,t.row.stars=a.data.row.stars,t.row.reviews_number=a.data.row.reviews_number,t.row.place=a.data.row.place,t.row.title=a.data.row.title,t.row.body=a.data.row.body,t.row.destination_id=a.data.row.destination?a.data.row.destination.id:"",t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status,t.row.view_in_home=a.data.row.view_in_home,t.fetchDestinations()})).catch((function(){})).finally((function(){}))},fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,name:this.row.name,email:this.row.email,title:this.row.title,body:this.row.body,stars:this.row.stars,place:this.row.place,reviews_number:this.row.reviews_number,sort:this.row.sort,destination_id:this.row.destination_id,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"04357d7c",null);a["default"]=h.exports},"604d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabCabin"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCabin","data-toggle":"collapse","data-target":"#collapseCabin"},on:{click:function(a){return t.collapseToggle("Cabin")}}},[t._v("Cabin "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCabin"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseCabin","aria-labelledby":"TabCabin","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"input2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"inputT3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"input4"}},[t._v("Price")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.price,expression:"row.price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input4",type:"number",min:"0"},domProps:{value:t.row.price},on:{input:function(a){a.target.composing||t.$set(t.row,"price",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabIcons"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseIcons","data-toggle":"collapse","data-target":"#collapseIcons"},on:{click:function(a){return t.collapseToggle("Icons")}}},[t._v("Icons "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleIcons"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseIcons","aria-labelledby":"TabIcons","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.icons_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input6"+a}},[t._v("Icon")]),e("p",[t.row.icons_image_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.icons_image_preview[a]}}):t._e()]),e("input",{ref:"myDropify",refInFor:!0,staticClass:"form-control",attrs:{id:"input6"+a,type:"file"},on:{change:function(e){return t.onIconsImageChange(e,a)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input4"+a}},[t._v("Icon alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icons_image_alt[a],expression:"row.icons_image_alt[i]"}],staticClass:"form-control",attrs:{id:"input4"+a,type:"text"},domProps:{value:t.row.icons_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.icons_image_alt,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input5"+a}},[t._v("Icon title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icons_image_title[a],expression:"row.icons_image_title[i]"}],staticClass:"form-control",attrs:{id:"input5"+a,type:"text"},domProps:{value:t.row.icons_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.icons_image_title,a,e.target.value)}}})])])})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Cabin")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",slug:"",sort:0,price:"",body:"",icons:[],icons_key:0,icons_image_preview:[],icons_image_base64:[],icons_image_alt:[],icons_image_title:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"cabins"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name"))},methods:{addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<=this.row.icons_key;a++)this.row.icons[a]={icon_base64:this.row.icons_image_base64[a],icon_alt:this.row.icons_image_alt[a],icon_title:this.row.icons_image_title[a]};var e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,title:this.row.title,slug:this.row.slug,sort:this.row.sort,price:this.row.price,body:this.row.body,icons:this.row.icons,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onIconsImageChange:function(t,a){var e=t.target.files[0];this.row.icons_image_preview[a]=URL.createObjectURL(e),this.createIconsBase64Image(e,a)},createIconsBase64Image:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.icons_image_base64[a]=t.target.result}},opnFrm:function(){this.row.icons_key++},removeOption:function(t){document.querySelector("#frm_"+t).remove(),this.row.icons_image_preview[t]="",this.row.icons_image_base64[t]="",this.row.icons_image_alt[t]="",this.row.icons_image_title[t]=""},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"6af3ec22",null);a["default"]=h.exports},"60c6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabHotel"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseHotel","data-toggle":"collapse","data-target":"#collapseHotel"},on:{click:function(a){return t.collapseToggle("Hotel")}}},[t._v("Hotel "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleHotel"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseHotel","aria-labelledby":"TabHotel","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Link")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.link,expression:"row.link"}],staticClass:"form-control",attrs:{id:"inputText3",type:"text"},domProps:{value:t.row.link},on:{input:function(a){a.target.composing||t.$set(t.row,"link",a.target.value)}}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"inputText4"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputTex4",type:"number",min:"0",max:"5"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"inputText5"}},[t._v("Stars")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.stars,expression:"row.stars",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputTex5",type:"number",min:"0"},domProps:{value:t.row.stars},on:{input:function(a){a.target.composing||t.$set(t.row,"stars",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Hotel")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("9911"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Editor:l["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{link:"",stars:"",sort:0,title:"",slug:"",body:"",preview:"",image_base:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"hotels"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.link=a.data.row.link,t.row.stars=a.data.row.stars,t.row.sort=a.data.row.sort,t.row.title=a.data.row.title,t.row.slug=a.data.row.slug,t.row.body=a.data.row.body,t.row.preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status,t.fetchRegions()})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,link:this.row.link,stars:this.row.stars,sort:this.row.sort,title:this.row.title,slug:this.row.slug,body:this.row.body,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"2f5b7161",null);a["default"]=h.exports},"60c9":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Dashboard")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Seen ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Unseen ")]):t._e(),"trash"!=t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Seen")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Unseen")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Email")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"show-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.name)+" ")])],1),e("td",{staticClass:"font-weight-semi-bold"},[t._v(" "+t._s(a.email)+" ")]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"show-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Show ")])],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Unseen":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Seen")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Email")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",name:"name",email:"email",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!1,exportLoading:!1,showLoading:!1,orderLoading:!1,btnLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"inquires"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:!0,paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,search:this.search,show:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t})})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Seen Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Unseen Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"61b0":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Region "),t.regionLoading||"region"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter("region")}}}),t.regionLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter("author")}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Packages No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"region",filter:a.region.slug}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.region.title)+" ")])])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])])]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[t._v(" "+t._s(a.packages_no)+" ")]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Region")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Packages No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",slug:"slug",title:"title",order:"order",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,regionLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"destinations"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(t){"author"==t?this.authorLoading=!0:this.regionLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.regionLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},6284:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"Tabfaq"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsefaq","data-toggle":"collapse","data-target":"#collapsefaq"},on:{click:function(a){return t.collapseToggle("faq")}}},[t._v("FAQ "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconTogglefaq"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapsefaq","aria-labelledby":"Tabfaq","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputText3","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"View In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create FAQ")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",sort:0,body:"",destination_id:"",preview:"",image_base64:"",image_alt:"",image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinations:[],destinationLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"faqs"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchDestinations()},methods:{fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,title:this.row.title,sort:this.row.sort,body:this.row.body,destination_id:this.row.destination_id,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"37698576",null);a["default"]=h.exports},"646f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==this.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==this.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==this.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==this.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==this.order?"ti-arrow-down":"ASC"==this.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[e("span",{staticClass:"default-color text-decoration-hover cursor-pointer",on:{click:function(e){return t.editRow(a)}}},[t._v(" "+t._s(a.title)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){return t.editRow(a)}}},[t._v("Edit ")])]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title",domProps:{innerHTML:t._s("Update"==t.btn_status?"Edit Row":"Add New")}})]),e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.createOrUpdate(a)}}},[e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Icon")]),t.row.preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Icon alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icon_alt,expression:"row.icon_alt"}],staticClass:"form-control",attrs:{type:"text",id:"input3"},domProps:{value:t.row.icon_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"icon_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input4"}},[t._v("Icon title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icon_title,expression:"row.icon_title"}],staticClass:"form-control",attrs:{type:"text",id:"input4"},domProps:{value:t.row.icon_title},on:{input:function(a){a.target.composing||t.$set(t.row,"icon_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" "+t._s(t.btn_status)+" Icon")])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("841c"),e("ddb0"),e("2b3d"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},row:{encrypt_id:"",preview:"",icon_base64:"",title:"",sort:0,icon_alt:"",icon_title:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!1,exportLoading:!1,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,btnLoading:!1,rows:[],show:10,pagination:{},edit:!1,btn_status:"Create",tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"icons"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.edit=!1,a.btn_status="Create",a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},editRow:function(t){this.edit=!0,this.btn_status="Update",this.row.encrypt_id=t.encrypt_id,this.row.title=t.title,this.row.sort=t.sort,this.row.preview=t.icon.image_url,this.row.icon_base64=t.icon.image_url,this.row.icon_alt=t.icon.image_alt,this.row.icon_title=t.icon.image_title},createOrUpdate:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a="POST",e=this.refs,s="Added";this.edit&&(a="PUT",e=this.refs+"/"+this.row.encrypt_id,s="Updated");var i={url:window.baseURL+"/"+e,method:a,data:{tenant_id:this.tenant_id,title:this.row.title,sort:this.row.sort,icon_base64:this.row.icon_base64,icon_alt:this.row.icon_alt,icon_title:this.row.icon_title}};this.axios(i).then((function(){t.btnLoading=!1,t.fetchData(),t.row.encrypt_id="",t.row.title="",t.row.sort="",t.row.preview="",t.row.icon_base64="",t.row.icon_alt="",t.row.icon_title="",d.a.success({icon:"ti-check",title:"Great job,",message:"Item "+s+" Successfully"})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.icon_base64=t.target.result}},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"66bd":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",order:"order",button:"button",link:"link",iframe:"iframe",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"sliders"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"679b":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right "})],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Users No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit&&1!=a.id?t._e():e("span",[t._v(" "+t._s(a.name)+" ")]),t.permissions.edit&&1!=a.id?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-roles",params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.name)+" ")]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:"/assets/img/default_avatar.png"}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[t._v(" "+t._s(a.users_no)+" ")]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[1!=a.id?e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])]):t._e()])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Users No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",name:"name",guard_name:"guard_name",authority:"authority",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},refs:"roles"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.fetchData("",!0)},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"69f5":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" ")]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabRole"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseRole","data-toggle":"collapse","data-target":"#collapseRole"},on:{click:function(a){return t.collapseToggle("Role")}}},[t._v("Role "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleRole"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseRole","aria-labelledby":"TabRole","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])])])])])]),e("div",{staticClass:"col-12 text-center"},[t.tenantLoading?e("div",{staticClass:"form-group"},[t._m(1)]):t._e()]),t._l(t.tenants,(function(a,s){return e("div",{key:s,staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabTenant"+s}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseTenant"+s,"data-toggle":"collapse","data-target":"#collapseTenant"+s},on:{click:function(a){return t.collapseToggle("Tenant"+s)}}},[t._v(t._s(a.name)+" "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleTenant"+s}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTenant"+s,"aria-labelledby":"TabTenant"+s,"data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},t._l(a.permissions,(function(a,s){return e("div",{key:s,staticClass:"form-group"},[e("h4",{staticClass:"mb-3 mt-5 ucfirst"},[t._v(t._s(s)+" ")]),e("div",{staticClass:"row col-12 text-center"},t._l(a.length,(function(s,i){return e("div",{key:i,staticClass:"custom-control custom-switch col-3"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:a[i].id},domProps:{value:a[i].id,checked:-1!==t.row.permissions_ids.indexOf(a[i].id)||""},on:{change:function(e){return t.isChecked(e,a[i].id)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:a[i].id}},[t._v(" "+t._s(a[i].name)+" ")])])})),0)])})),0)])])])])}))],2),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavAuthority"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavAuthority","data-toggle":"collapse","data-target":"#collapseNavAuthority"},on:{click:function(a){return t.collapseToggle("Authority")}}},[t._v("Authority "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleAuthority"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavAuthority","aria-labelledby":"NavAuthority","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.authority,expression:"row.authority"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"authority",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Authority")]),e("option",{attrs:{value:"1"}},[t._v("High Authority")]),e("option",{attrs:{value:"0"}},[t._v("Low Authority")])])])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-5 mb-5 spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],o=(e("c975"),e("a434"),e("b0c0"),e("d3b7"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",authority:1,permissions_ids:[],status:!0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},tenants:[],tenantLoading:!0,pgLoading:!0,btnLoading:!1,refs:"roles"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/roles/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.name=a.data.row.name,t.row.authority=a.data.row.authority,t.row.permissions_ids=a.data.row.permissions_ids,t.row.status=a.data.row.status,t.fetchTenants()})).catch((function(){})).finally((function(){}))},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{name:this.row.name,authority:this.row.authority,permissions_ids:this.row.permissions_ids,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},isChecked:function(t,a){t.target.checked?this.row.permissions_ids.push(a):this.row.permissions_ids.splice(this.row.permissions_ids.indexOf(a),1)},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"e9f19766",null);a["default"]=p.exports},"6b08":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==this.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==this.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==this.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==this.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"15%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==this.order?"ti-arrow-down":"ASC"==this.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[e("span",{staticClass:"default-color text-decoration-hover cursor-pointer",on:{click:function(e){return t.editRow(a)}}},[t._v(" "+t._s(a.name)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){return t.editRow(a)}}},[t._v("Edit ")])]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title",domProps:{innerHTML:t._s("Update"==t.btn_status?"Edit Row":"Add New")}})]),e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.createOrUpdate(a)}}},[e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control text-lowercase",attrs:{id:"input1",type:"text",required:""},domProps:{value:t.row.name},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" "+t._s(t.btn_status)+" Tag")])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",name:"name",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},row:{encrypt_id:"",name:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,btnLoading:!1,rows:[],show:10,pagination:{},edit:!1,btn_status:"Create",tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"tags"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.edit=!1,a.btn_status="Create",a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},editRow:function(t){this.edit=!0,this.btn_status="Update",this.row.encrypt_id=t.encrypt_id,this.row.name=t.name},createOrUpdate:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a="POST",e=this.refs,s="Added";this.edit&&(a="PUT",e=this.refs+"/"+this.row.encrypt_id,s="Updated");var i={url:window.baseURL+"/"+e,method:a,data:{name:this.row.name}};this.axios(i).then((function(){t.btnLoading=!1,t.fetchData(),t.row.encrypt_id="",t.row.name="",d.a.success({icon:"ti-check",title:"Great job,",message:"Item "+s+" Successfully"})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"6c81":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" ")]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabUser"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseUser","data-toggle":"collapse","data-target":"#collapseUser"},on:{click:function(a){return t.collapseToggle("User")}}},[t._v("User "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleUser"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseUser","aria-labelledby":"TabUser","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputUser1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"inputUser1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputUser2"}},[t._v("Email Address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.email,expression:"row.email"}],staticClass:"form-control",attrs:{id:"inputUser2",type:"text"},domProps:{value:t.row.email},on:{input:function(a){a.target.composing||t.$set(t.row,"email",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputUser3"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.password,expression:"row.password"}],staticClass:"form-control",attrs:{id:"inputUser3",type:"password",placeholder:"********************"},domProps:{value:t.row.password},on:{input:function(a){a.target.composing||t.$set(t.row,"password",a.target.value)}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavRole"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavRole","data-toggle":"collapse","data-target":"#collapseNavRole"},on:{click:function(a){return t.collapseToggle("Role")}}},[t._v("Role "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleRole"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavRole","aria-labelledby":"NavRole","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.roleLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.roleLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.role,expression:"row.role"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"role",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Role")]),t._l(t.roles,(function(a,s){return e("option",{key:s,domProps:{value:a.name}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Update "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",email:"",password:"",role:"",image_preview:"",image_base64:"",status:1},roles:[],roleLoading:!0,pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"All Tenants",refs:"users"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.name=a.data.row.name,t.row.email=a.data.row.email,t.row.password=a.data.row.password,t.row.role=a.data.row.role,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.status=a.data.row.status,t.fetchRoles()})).catch((function(){})).finally((function(){}))},fetchRoles:function(){var t=this;this.roleLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/roles",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.roleLoading=!1,t.roles=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/users/"+this.$route.params.id,method:"PUT",data:{name:this.row.name,email:this.row.email,password:this.row.password,role:this.row.role,image_base64:this.row.image_base64,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"40b55940",null);a["default"]=p.exports},"728f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right "},[e("div",{staticClass:"dropdown"},[e("span",{staticClass:"btn btn-dark btn-sm"},[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabDest"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseDest","data-toggle":"collapse","data-target":"#collapseDest"},on:{click:function(a){return t.collapseToggle("Dest")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleDest"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseDest","aria-labelledby":"TabDest","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputText3","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavRegion"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavRegion","data-toggle":"collapse","data-target":"#collapseNavRegion"},on:{click:function(a){return t.collapseToggle("Region")}}},[t._v("Region "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleRegion"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavRegion","aria-labelledby":"NavRegion","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.regionLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.regionLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.region_id,expression:"row.region_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"region_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Region")]),t._l(t.regions,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Destination")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",body:"",region_id:"",preview:"",image:"",image_alt:"",image_title:"",status:!0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},regions:[],regionLoading:!0,pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"destinations"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.body=a.data.row.body,t.row.region_id=a.data.row.region?a.data.row.region.id:null,t.row.preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status,t.fetchRegions()})).catch((function(){})).finally((function(){}))},fetchRegions:function(){var t=this;this.regionLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.regionLoading=!1,t.regions=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,body:this.row.body,region_id:this.row.region_id,image_url:this.row.image,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"16a6ef77",null);a["default"]=h.exports},"773f":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputMeta2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputMeta2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabWiki"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseWiki","data-toggle":"collapse","data-target":"#collapseWiki"},on:{click:function(a){return t.collapseToggle("Wiki")}}},[t._v("Wiki "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleWiki"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseWiki","aria-labelledby":"TabWiki","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWiki1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputWiki1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWiki2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputWiki2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputWiki3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputWiki3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Short body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor2"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor2","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItems"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItems","data-toggle":"collapse","data-target":"#collapseItems"},on:{click:function(a){return t.collapseToggle("Items")}}},[t._v("Items "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleItems"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItems","aria-labelledby":"TabItems","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.items_key,(function(a){return e("div",{key:a,ref:"frm_"+a,refInFor:!0,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputItems"+a}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_title[a],expression:"row.items_title[i]"}],staticClass:"form-control",attrs:{id:"inputItems"+a,type:"text"},domProps:{value:t.row.items_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_title,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{id:"inputItems"+a}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.items_sort[a],expression:"row.items_sort[i]",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputItems"+a,type:"number",min:"0"},domProps:{value:t.row.items_sort[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_sort,a,t._n(e.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"editorItems"+a}},[t._v("Body")]),e("editor",{attrs:{id:"editorItems"+a,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.items_body[a],callback:function(e){t.$set(t.row.items_body,a,e)},expression:"row.items_body[i]"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputImage"+a}},[t._v("Image")]),e("p",[t.row.items_image_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.items_image_preview[a]}}):t._e()]),e("input",{staticClass:"form-control",attrs:{id:"inputImage"+a,type:"file"},on:{change:function(e){return t.onItemsImageChange(e,a)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputImageAlt"+a}},[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_alt[a],expression:"row.items_image_alt[i]"}],staticClass:"form-control",attrs:{id:"inputImageAlt"+a,type:"text"},domProps:{value:t.row.items_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_alt,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputImageTitle"+a}},[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_title[a],expression:"row.items_image_title[i]"}],staticClass:"form-control",attrs:{id:"inputImageTitle"+a,type:"text"},domProps:{value:t.row.items_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_title,a,e.target.value)}}})])])})),e("div",{staticClass:"row pull-right ui-mt15"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("NavDestination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleNavDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavPackages"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavPackages","data-toggle":"collapse","data-target":"#collapseNavPackages"},on:{click:function(a){return t.collapseToggle("NavPackages")}}},[t._v("Related Packages "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleNavPackages"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavPackages","aria-labelledby":"NavPackages","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packageLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packageLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.packagesOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search packages","preselect-first":!0},model:{value:t.row.packagesValues,callback:function(a){t.$set(t.row,"packagesValues",a)},expression:"row.packagesValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onViewInHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"Show In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("8e5f"),d=e.n(c),u=e("2685"),m=e.n(u),p={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Multiselect:d.a,Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,body:"",short_body:"",items:[],items_key:0,items_title:[],items_sort:[],items_body:[],items_image_preview:[],items_image_base64:[],items_image_alt:[],items_image_title:[],destination_id:"",packagesValues:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinationLoading:!0,destinations:[],packageLoading:!0,packagesOptions:[],btnLoading:!1,tenant_id:0,tenant_name:"",refs:"wikis"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchDestinations()},methods:{fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows,t.fetchPackages()})).catch((function(){})).finally((function(){}))},fetchPackages:function(){var t=this;this.packageLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packages",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.packageLoading=!1,t.packagesOptions=a.data.packages})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.items_title.length;a++)this.row.items[a]={title:this.row.items_title[a],body:this.row.items_body[a],sort:this.row.items_sort[a],image_base64:this.row.items_image_base64[a],image_alt:this.row.items_image_alt[a],items_image_title:this.row.items_image_title[a]};var e={headers:{"Content-Type":"multipart/form-data"}},s={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,body:this.row.body,short_body:this.row.short_body,items:this.row.items,destination_id:this.row.destination_id,packages:this.row.packagesValues,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(s,e).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},opnFrm:function(){this.row.items_key++},removeOption:function(t){document.querySelector("#frm_"+t).remove(),this.row.items_title[t]="",this.row.items_sort[t]="",this.row.items_body[t]="",this.row.items_image_preview[t]="",this.row.items_image_base64[t]="",this.row.items_image_alt[t]="",this.row.items_image_title[t]=""},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onItemsImageChange:function(t,a){var e=t.target.files[0];this.row.items_image_preview[a]=URL.createObjectURL(e),this.createItemsBase64Image(e,a)},createItemsBase64Image:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.items_image_base64[a]=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onViewInHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=e("2877"),v=Object(g["a"])(h,s,i,!1,null,"594be97c",null);a["default"]=v.exports},"7a66":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticStyle:{width:"15%"}},[t._v("Email Address")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Role "),t.roleLoading||"role"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.roleLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Packages No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.image.image_url}}),t._v(" "+t._s(a.name)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.name))])],1),e("td",{staticClass:"font-weight-semi-bold"},[t._v(" "+t._s(a.email)+" ")]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.role?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.role?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"role",filter:a.role}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.role)+" ")])]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" "+t._s(a.packages_no)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",[t._v("Email Address")]),e("th",{staticClass:"text-center"},[t._v("Role")]),e("th",{staticClass:"text-center"},[t._v("Packages No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",name:"name",email:"email",role:"role",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,roleLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"users"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.roleLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenent_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.roleLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"7cb9":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==this.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==this.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==this.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==this.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"15%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==this.order?"ti-arrow-down":"ASC"==this.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[e("span",{staticClass:"default-color text-decoration-hover cursor-pointer",on:{click:function(e){return t.editRow(a)}}},[t._v(" "+t._s(a.title)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){return t.editRow(a)}}},[t._v("Edit ")])]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title",domProps:{innerHTML:t._s("Update"==t.btn_status?"Edit Row":"Add New")}})]),e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.createOrUpdate(a)}}},[e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text",required:""},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Body")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.body1,expression:"row.body1"}],staticClass:"form-control",attrs:{id:"input2",rows:"5"},domProps:{value:t.row.body1},on:{input:function(a){a.target.composing||t.$set(t.row,"body1",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" "+t._s(t.btn_status)+" Setting")])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",name:"name",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},row:{encrypt_id:"",title:"",body1:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,btnLoading:!1,rows:[],show:10,pagination:{},edit:!1,btn_status:"Create",tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"settings"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.fetchData("",!0),this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.edit=!1,a.btn_status="Create",a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},editRow:function(t){this.edit=!0,this.btn_status="Update",this.row.encrypt_id=t.encrypt_id,this.row.title=t.title,this.row.body1=t.body1},createOrUpdate:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a="POST",e=this.refs,s="Added";this.edit&&(a="PUT",e=this.refs+"/"+this.row.encrypt_id,s="Updated");var i={url:window.baseURL+"/"+e,method:a,data:{tenant_id:this.tenant_id,title:this.row.title,body1:this.row.body1}};this.axios(i).then((function(){t.btnLoading=!1,t.fetchData(),t.row.encrypt_id="",t.row.title="",t.row.body1="",d.a.success({icon:"ti-check",title:"Great job,",message:"Item "+s+" Successfully"})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"7f2c":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Destination")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.destination?t._e():e("span",[t._v(" - ")]),a.destination?e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.destination.title)+" ")]):t._e()]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])])]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Destination")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"faqs"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"7fb9":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabCabin"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCabin","data-toggle":"collapse","data-target":"#collapseCabin"},on:{click:function(a){return t.collapseToggle("Cabin")}}},[t._v("Cabin "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCabin"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseCabin","aria-labelledby":"TabCabin","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"input2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"inputT3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"input4"}},[t._v("Price")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.price,expression:"row.price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input4",type:"number",min:"0"},domProps:{value:t.row.price},on:{input:function(a){a.target.composing||t.$set(t.row,"price",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabIcons"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseIcons","data-toggle":"collapse","data-target":"#collapseIcons"},on:{click:function(a){return t.collapseToggle("Icons")}}},[t._v("Icons "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleIcons"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseIcons","aria-labelledby":"TabIcons","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.icons_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input6"+a}},[t._v("Icon")]),e("p",[t.row.icons_image_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.icons_image_preview[a]}}):t._e()]),e("input",{ref:"myDropify",refInFor:!0,staticClass:"form-control",attrs:{id:"input6"+a,type:"file"},on:{change:function(e){return t.onIconsImageChange(e,a)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input4"+a}},[t._v("Icon alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icons_image_alt[a],expression:"row.icons_image_alt[i]"}],staticClass:"form-control",attrs:{id:"input4"+a,type:"text"},domProps:{value:t.row.icons_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.icons_image_alt,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input5"+a}},[t._v("Icon title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icons_image_title[a],expression:"row.icons_image_title[i]"}],staticClass:"form-control",attrs:{id:"input5"+a,type:"text"},domProps:{value:t.row.icons_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.icons_image_title,a,e.target.value)}}})])])})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Cabin")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",slug:"",sort:0,price:"",body:"",icons:[],icons_key:0,icons_image_preview:[],icons_image_base64:[],icons_image_alt:[],icons_image_title:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"cabins"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){if(t.pgLoading=!1,t.row.title=a.data.row.title,t.row.slug=a.data.row.slug,t.row.sort=a.data.row.sort,t.row.price=a.data.row.price,t.row.body=a.data.row.body,t.row.icons_key=a.data.row.icons.length,a.data.row.icons)for(var e=1;e<=t.row.icons_key;e++){var s=e-1;t.row.icons_image_preview[e]=a.data.row.icons[s]?a.data.row.icons[s].image_url:"",t.row.icons_image_base64[e]=a.data.row.icons[s]?a.data.row.icons[s].image_url:"",t.row.icons_image_alt[e]=a.data.row.icons[s]?a.data.row.icons[s].image_alt:"",t.row.icons_image_title[e]=a.data.row.icons[s]?a.data.row.icons[s].image_title:""}t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<=this.row.icons_key;a++)this.row.icons[a]={icon_base64:this.row.icons_image_base64[a],icon_alt:this.row.icons_image_alt[a],icon_title:this.row.icons_image_title[a]};var e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,title:this.row.title,slug:this.row.slug,sort:this.row.sort,price:this.row.price,body:this.row.body,icons:this.row.icons,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onIconsImageChange:function(t,a){var e=t.target.files[0];this.row.icons_image_preview[a]=URL.createObjectURL(e),this.createIconsBase64Image(e,a)},createIconsBase64Image:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.icons_image_base64[a]=t.target.result}},opnFrm:function(){this.row.icons_key++},removeOption:function(t){document.querySelector("#frm_"+t).remove(),this.row.icons_image_preview[t]="",this.row.icons_image_base64[t]="",this.row.icons_image_alt[t]="",this.row.icons_image_title[t]=""},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"0faa1c05",null);a["default"]=h.exports},"81d6":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",slug:"slug",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"pages"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"83c9":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("main",{staticClass:"d-flex flex-column u-hero u-hero--end mnh-100vh",staticStyle:{"background-image":"url(/assets/img-temp/bg/bg-1.png)"}},[e("div",{staticClass:"container py-7 my-auto"},[e("div",{staticClass:"d-flex align-items-center justify-content-center"},[e("div",{staticClass:"card my-7",staticStyle:{width:"460px","max-width":"100%"}},[e("div",{staticClass:"card-body p-4 p-lg-7"},[e("h2",{staticClass:"text-center mb-4"},[t._v("Log in")]),e("form",{on:{submit:function(a){return a.preventDefault(),t.login(a)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.email,expression:"row.email"}],staticClass:"form-control",attrs:{id:"email",type:"text",placeholder:"Email Address"},domProps:{value:t.row.email},on:{input:function(a){a.target.composing||t.$set(t.row,"email",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.password,expression:"row.password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:t.row.password},on:{input:function(a){a.target.composing||t.$set(t.row,"password",a.target.value)}}})]),e("div",{staticClass:"d-flex align-items-center justify-content-between my-4"},[t._m(0),e("router-link",{staticClass:"font-weight-semi-bold",attrs:{to:{name:"forget"}}},[t._v("Forgot password? ")])],1),e("button",{staticClass:"btn btn-block btn-wide btn-primary text-uppercase",attrs:{type:"submit",disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",[t._v("Login")])])])])])])]),e("Footer")],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{id:"rememberMe",type:"checkbox"}}),e("label",{staticClass:"custom-control-label text-dark",attrs:{for:"rememberMe"}},[t._v("Remember me ")])])}],o=(e("b0c0"),e("b787")),r=e("2685"),n=e.n(r),l={name:"Login",components:{Footer:o["a"]},data:function(){return{row:{email:"",password:"",keepMeAlive:!1},btnLoading:!1}},mounted:function(){},methods:{keepMeAlive:function(){this.keepMeAlive?this.keepMeAlive=!1:this.keepMeAlive=!0},login:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"};var a={url:window.baseURL+"/auth/login",method:"POST",data:{email:this.row.email,password:this.row.password,keepMeAlive:this.row.keepMeAlive}};this.$axios(a).then((function(a){t.btnLoading=!1,t.row.password="",localStorage.setItem("access_token",a.data.access_token),localStorage.setItem("user_image",a.data.user.image.image_url),localStorage.setItem("user_name",a.data.user.name),localStorage.setItem("user_id",a.data.user.id),localStorage.setItem("role",a.data.user.role),t.$router.push({name:"dashboard"})})).catch((function(a){t.btnLoading=!1,t.row.password="",n.a.error({icon:"ti-na",title:"Wow-wow,",message:a.response?a.response.data.error:""+a})}))}}},c=l,d=e("2877"),u=Object(d["a"])(c,s,i,!1,null,"b53ff3c6",null);a["default"]=u.exports},"8bfd":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"})],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Domain")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.name)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.name))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(t._s(a.domains.domain))])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:a.user.role,expression:"row.user.role"}],staticClass:"media-body"},[t._v(t._s(a.user.name)+" ")])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Domain")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},refs:"tenants"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.fetchData("",!0)},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},"8f2c":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabType"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseType","data-toggle":"collapse","data-target":"#collapseType"},on:{click:function(a){return t.collapseToggle("Type")}}},[t._v("Cruise Type "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleType"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseType","aria-labelledby":"TabType","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"input2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Parent "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.parentLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.parentLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.parent_id,expression:"row.parent_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"parent_id",a.target.multiple?e:e[0])}}},[e("option",[t._v("Select Parent")]),e("option",{attrs:{value:""}},[t._v("No Parent")]),t._l(t.parents,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_header},on:{click:t.onHeader}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_header?"View In Header":"Hide In Header")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch3"},domProps:{checked:t.row.view_in_footer},on:{click:t.onFooter}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch3"},domProps:{innerHTML:t._s(t.row.view_in_footer?"View In Footer":"Hide In Footer")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Cruise Type")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("5319"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",slug:"",sort:0,parent_id:"",status:1,view_in_header:0,view_in_footer:0},parnets:[],parentLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"cruisetypes"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchParents()},methods:{fetchParents:function(){var t=this;this.parentLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,parent_id:!1,paginate:100}};this.axios(a).then((function(a){t.parentLoading=!1,t.parents=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,title:this.row.title,slug:this.row.slug,sort:this.row.sort,parent_id:this.row.parent_id,status:this.row.status,view_in_header:this.row.view_in_header,view_in_footer:this.row.view_in_footer}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHeader:function(){this.row.view_in_header?this.row.view_in_header=0:this.row.view_in_header=1},onFooter:function(){this.row.view_in_footer?this.row.view_in_footer=0:this.row.view_in_footer=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"4b508ba1",null);a["default"]=p.exports},"8f56":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"metaText1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"metaText1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"metaText2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"metaText2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"metaText3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"metaText3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPackage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCruise","data-toggle":"collapse","data-target":"#collapsePackage"},on:{click:function(a){return t.collapseToggle("Package")}}},[t._v("Package "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconTogglePackage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePackage","aria-labelledby":"TabPackage","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Short title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_title,expression:"row.short_title"}],staticClass:"form-control",attrs:{id:"inputText3",type:"text"},domProps:{value:t.row.short_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_title",a.target.value)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-8 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText4"}},[t._v("Popular")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.popular,expression:"row.popular"}],staticClass:"form-control",attrs:{id:"inputText4"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"popular",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Popular")]),e("option",{attrs:{value:"popular"}},[t._v("Popular")]),e("option",{attrs:{value:"topRated"}},[t._v("Top rated")])])])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText5"}},[t._v("Start price")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.start_price,expression:"row.start_price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText5",type:"number",min:"0"},domProps:{value:t.row.start_price},on:{input:function(a){a.target.composing||t.$set(t.row,"start_price",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText6"}},[t._v("Stars")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.stars,expression:"row.stars",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText6",type:"number",min:"0"},domProps:{value:t.row.stars},on:{input:function(a){a.target.composing||t.$set(t.row,"stars",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText7"}},[t._v("Stars No.")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.stars_no,expression:"row.stars_no",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText7",type:"number",min:"0"},domProps:{value:t.row.stars_no},on:{input:function(a){a.target.composing||t.$set(t.row,"stars_no",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText8"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText8",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText9"}},[t._v("Tour Type")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.tour_type,expression:"row.tour_type"}],staticClass:"form-control",attrs:{id:"inputText9",type:"text"},domProps:{value:t.row.tour_type},on:{input:function(a){a.target.composing||t.$set(t.row,"tour_type",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText10"}},[t._v("Duration")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.duration,expression:"row.duration"}],staticClass:"form-control",attrs:{id:"inputText10",type:"text"},domProps:{value:t.row.duration},on:{input:function(a){a.target.composing||t.$set(t.row,"duration",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Visited Location")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.visited_location,callback:function(a){t.$set(t.row,"visited_location",a)},expression:"row.visited_location"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor2"}},[t._v("Inclusion")]),e("editor",{attrs:{id:"inputEditor2","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.inclusion,callback:function(a){t.$set(t.row,"inclusion",a)},expression:"row.inclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor3"}},[t._v("Exclusion")]),e("editor",{attrs:{id:"inputEditor3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.exclusion,callback:function(a){t.$set(t.row,"exclusion",a)},expression:"row.exclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor4"}},[t._v("Short body")]),e("editor",{attrs:{id:"inputEditor4","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor5"}},[t._v("body")]),e("editor",{attrs:{id:"inputEditor5","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPrices"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsePrices","data-toggle":"collapse","data-target":"#collapsePrices"},on:{click:function(a){return t.collapseToggle("Prices")}}},[t._v("Prices "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePrices"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePrices","aria-labelledby":"TabPrices","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.price_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Price Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_names[a],expression:"row.price_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.price_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.price_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,class:s>t.prices_items_length[a-1]?"hidden":"",attrs:{id:"sub_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pvInput"+a+"_"+s}},[t._v("Price Value")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_value[a+"_"+s],expression:"row.price_item_value[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pvInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_value[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_value,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pcInput"+a+"_"+s}},[t._v("Content")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_body[a+"_"+s],expression:"row.price_item_body[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pcInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_body[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_body,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()])])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItineraries"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItineraries","data-toggle":"collapse","data-target":"#collapseItineraries"},on:{click:function(a){return t.collapseToggle("Itineraries")}}},[t._v("Itineraries "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleItineraries"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItineraries","aria-labelledby":"TabItineraries","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.itinerarie_key,(function(a){return e("div",{key:"i2"+a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm2_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption2(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Itinerarie Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_names[a],expression:"row.itinerarie_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.itinerarie_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,staticClass:"ui-for-div",class:s>t.itineraries_items_length[a-1]?"hidden":"",attrs:{id:"sub2_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-7"},[e("label",{attrs:{for:"tInput"+a+"_"+s}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_title[a+"_"+s],expression:"row.itinerarie_item_title[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"tInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_title[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_title,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-3"},[e("label",{attrs:{for:"sInput"+a+"_"+s}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_sort[a+"_"+s],expression:"row.itinerarie_item_sort[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"sInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_sort[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_sort,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption2(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-11"},[e("label",{attrs:{for:"bEditor"+a+"_"+s}},[t._v("Body")]),e("editor",{attrs:{id:"bEditor"+a+"_"+s,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.itinerarie_item_body[a+"_"+s],callback:function(e){t.$set(t.row.itinerarie_item_body,a+"_"+s,e)},expression:"row.itinerarie_item_body[i+'_'+x]"}})],1)])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub2(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm2()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabGalleries"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseGalleries","data-toggle":"collapse","data-target":"#collapseGalleries"},on:{click:function(a){return t.collapseToggle("Galleries")}}},[t._v("Galleries "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleGalleries"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseGalleries","aria-labelledby":"TabIGalleries","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.gallery_key,(function(a){return e("div",{key:"i3"+a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm3_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption3(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"gImageText"+a}},[t._v("Image")]),e("p",[t.row.gallery_image_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.gallery_image_preview[a]}}):t._e()]),e("input",{staticClass:"form-control",attrs:{id:"gImageText"+a,type:"file"},on:{change:function(e){return t.onGalleryImageChange(e,a)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-6 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"gAltText"+a}},[t._v("Image Alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.gallery_image_alt[a],expression:"row.gallery_image_alt[i]"}],staticClass:"form-control",attrs:{id:"gAltText"+a,type:"text"},domProps:{value:t.row.gallery_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.gallery_image_alt,a,e.target.value)}}})])]),e("div",{staticClass:"col-6 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"gTitleText"+a}},[t._v("Image Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.gallery_image_title[a],expression:"row.gallery_image_title[i]"}],staticClass:"form-control",attrs:{id:"gTitleText"+a,type:"text"},domProps:{value:t.row.gallery_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.gallery_image_title,a,e.target.value)}}})])])])])})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm3()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Category "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.categoryLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.categoryLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.category_id,expression:"row.category_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"category_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Category")]),t._l(t.categories,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavPackageTypes"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavPackageTypes","data-toggle":"collapse","data-target":"#collapseNavPackageTypes"},on:{click:function(a){return t.collapseToggle("PackageTypes")}}},[t._v("Package Types "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePackageTypes"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavPackageTypes","aria-labelledby":"NavPackageTypes","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packageTypesLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packageTypesLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.package_type_id,expression:"row.package_type_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"package_type_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Package Type")]),t._l(t.packageTypes,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleDestinations"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleDestinations","data-toggle":"collapse","data-target":"#collapseNavMultipleDestinations"},on:{click:function(a){return t.collapseToggle("MultipleDestinations")}}},[t._v(" Multiple Destinations "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMultipleDestinations"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleDestinations","aria-labelledby":"NavMultipleDestinations","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.destinationsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search destinations","preselect-first":!1},model:{value:t.row.destinationsValues,callback:function(a){t.$set(t.row,"destinationsValues",a)},expression:"row.destinationsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleAcommodations"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleAcommodations","data-toggle":"collapse","data-target":"#collapseNavMultipleAcommodations"},on:{click:function(a){return t.collapseToggle("MultipleAcommodations")}}},[t._v(" Multiple Acommodations "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMultipleAcommodations"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleAcommodations","aria-labelledby":"NavMultipleAcommodations","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.accommodationsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.accommodationsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.accommodationsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search accommodations","preselect-first":!1},model:{value:t.row.accommodationsValues,callback:function(a){t.$set(t.row,"accommodationsValues",a)},expression:"row.accommodationsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleHotels"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleHotels","data-toggle":"collapse","data-target":"#collapseNavMultipleHotels"},on:{click:function(a){return t.collapseToggle("MultipleHotels")}}},[t._v(" Multiple Hotels "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleHotels"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleHotels","aria-labelledby":"NavMultipleHotels","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.hotelsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.hotelsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.hotelsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search hotels","preselect-first":!1},model:{value:t.row.hotelsValues,callback:function(a){t.$set(t.row,"hotelsValues",a)},expression:"row.hotelsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultiplePackagesRelated"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultiplePackagesRelated","data-toggle":"collapse","data-target":"#collapseNavMultiplePackagesRelated"},on:{click:function(a){return t.collapseToggle("MultiplePackagesRelated")}}},[t._v(" Multiple Packages Related "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultiplePackagesRelated"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultiplePackagesRelated","aria-labelledby":"NavMultiplePackagesRelated","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packagesRelatedLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packagesRelatedLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.packagesRelatedOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search packages related","preselect-first":!1},model:{value:t.row.packagesRelatedValues,callback:function(a){t.$set(t.row,"packagesRelatedValues",a)},expression:"row.packagesRelatedValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleTags"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleTags","data-toggle":"collapse","data-target":"#collapseNavMultipleTags"},on:{click:function(a){return t.collapseToggle("MultipleTags")}}},[t._v("Multiple Tags "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleTags"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleTags","aria-labelledby":"NavMultipleTags","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.tagsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.tagsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.tagsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search tags","preselect-first":!1},model:{value:t.row.tagsValues,callback:function(a){t.$set(t.row,"tagsValues",a)},expression:"row.tagsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleIcons"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleIcons","data-toggle":"collapse","data-target":"#collapseNavMultipleIcons"},on:{click:function(a){return t.collapseToggle("MultipleIcons")}}},[t._v("Multiple Icons "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleIcons"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleIcons","aria-labelledby":"NavMultipleIcons","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.iconsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.iconsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.iconsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search icons","preselect-first":!1},model:{value:t.row.iconsValues,callback:function(a){t.$set(t.row,"iconsValues",a)},expression:"row.iconsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavShortImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavShortImage","data-toggle":"collapse","data-target":"#collapseNavShortImage"},on:{click:function(a){return t.collapseToggle("ShortImage")}}},[t._v("Short Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleShortImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavShortImage","aria-labelledby":"NavShortImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.short_image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onShortImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_alt,expression:"row.short_image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_title,expression:"row.short_image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"Show In Home":"Hide In Home")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch3"},domProps:{checked:t.row.view_in_destination_home},on:{click:t.onDestination}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch3"},domProps:{innerHTML:t._s(t.row.view_in_destination_home?"Show In Destination Home":"Hide In Destination Home")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch4"},domProps:{checked:t.row.is_combined_tour},on:{click:t.onCombindTour}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch4"},domProps:{innerHTML:t._s(t.row.is_combined_tour?"Is Combined Tour":"Not Combined Tour")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Package")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("4160"),e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("8e5f"),c=e.n(l),d=e("ca72"),u=e("2685"),m=e.n(u),p={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:d["a"],Multiselect:c.a},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",short_title:"",popular:"",start_price:"",stars:"",stars_no:"",sort:0,tour_type:"",duration:"",visited_locations:"",Inclusion:"",exclusion:"",short_body:"",body:"",price_key:0,prices:[],price_names:[],price_items:[],price_item_key:[],price_item_value:[],price_item_body:[],itinerarie_key:0,itineraries:[],itinerarie_names:[],itinerarie_sort:[],itinerarie_items:[],itinerarie_item_key:[],itinerarie_item_title:[],itinerarie_item_sort:[],itinerarie_item_body:[],galleries:[],gallery_key:0,gallery_image_preview:[],gallery_image_base64:[],gallery_image_alt:[],gallery_image_title:[],destination_id:"",category_id:"",package_type_id:"",destinationsValues:[],accommodationsValues:[],hotelsValues:[],packages_relatedValues:[],tagsValues:[],iconsValues:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",short_image_preview:"",short_image_base64:"",short_image_alt:"",short_image_title:"",status:1,view_in_home:0,view_in_destination_home:0,is_combined_tour:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinations:[],destinationLoading:!0,categories:[],categoryLoading:!0,packageTypes:[],packageTypesLoading:!0,destinationsOptions:[],destinationsLoading:!0,accommodationsOptions:[],accommodationsLoading:!0,hotelsOptions:[],hotelsLoading:!0,packagesRelatedOptions:[],packagesRelatedLoading:!0,tagsOptions:[],tagsLoading:!0,iconsOptions:[],iconsLoading:!0,prices_items_length:[],itineraries_items_length:[],pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"packages"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){if(t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.short_title=a.data.row.short_title,t.row.popular=a.data.row.popular,t.row.start_price=a.data.row.start_price,t.row.stars=a.data.row.stars,t.row.stars_no=a.data.row.stars_no,t.row.sort=a.data.row.sort,t.row.tour_type=a.data.row.tour_type,t.row.duration=a.data.row.duration,t.row.inclusion=a.data.row.inclusion,t.row.exclusion=a.data.row.exclusion,t.row.visited_locations=a.data.row.visited_locations,t.row.short_body=a.data.row.short_body,t.row.body=a.data.row.body,t.row.price_key=a.data.row.prices.length,a.data.row.prices)for(var e=1;e<=t.row.price_key;e++){var s=e-1;t.row.price_names[e]=a.data.row.prices[s].name,t.prices_items_length[s]=a.data.row.prices[s].items.length;for(var i=1;i<=a.data.row.prices[s].items.length;i++){var o=i-1;t.row.price_item_value[e+"_"+i]=a.data.row.prices[s].items[o].price_value,t.row.price_item_body[e+"_"+i]=a.data.row.prices[s].items[o].body}}if(t.row.itinerarie_key=a.data.row.itineraries.length,a.data.row.itineraries)for(var r=1;r<=t.row.itinerarie_key;r++){var n=r-1;t.row.itinerarie_names[r]=a.data.row.itineraries[n].title,t.row.itinerarie_sort[r]=a.data.row.itineraries[n].sort,t.itineraries_items_length[n]=a.data.row.itineraries[n].items.length;for(var l=1;l<=a.data.row.itineraries[n].items.length;l++){var c=l-1;t.row.itinerarie_item_title[r+"_"+l]=a.data.row.itineraries[n].items[c].title,t.row.itinerarie_item_body[r+"_"+l]=a.data.row.itineraries[n].items[c].body,t.row.itinerarie_item_sort[r+"_"+l]=a.data.row.itineraries[n].items[c].sort}}if(t.row.gallery_key=a.data.row.galleries.length,a.data.row.galleries)for(var d=1;d<=t.row.gallery_key;d++){var u=d-1;t.row.gallery_image_preview[d]=a.data.row.galleries[u].image_url,t.row.gallery_image_base64[d]=a.data.row.galleries[u].image_url,t.row.gallery_image_alt[d]=a.data.row.galleries[u].image_alt,t.row.gallery_image_title[d]=a.data.row.galleries[u].image_title}t.row.destination_id=a.data.row.destination?a.data.row.destination.id:null,t.row.category_id=a.data.row.category?a.data.row.category.id:null,t.row.package_type_id=a.data.row.packageType?a.data.row.packageType.id:null,t.row.destinationsValues=a.data.row.destinations,t.row.accommodationsValues=a.data.row.accommodations,t.row.hotelsValues=a.data.row.hotels,t.row.packagesRelatedValues=a.data.row.packagesRelated,t.row.tagsValues=a.data.row.tags,t.row.iconsValues=a.data.row.icons,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.short_image_preview=a.data.row.short_image?a.data.row.short_image.image_url:null,t.row.short_image_base64=a.data.row.short_image?a.data.row.short_image.image_url:null,t.row.short_image_alt=a.data.row.short_image?a.data.row.short_image.image_alt:null,t.row.short_image_title=a.data.row.short_image?a.data.row.short_image.image_title:null,t.row.status=a.data.row.status,t.row.view_in_home=a.data.row.view_in_home,t.row.view_in_destination_home=a.data.row.view_in_destination_home,t.row.is_combined_tour=a.data.row.is_combined_tour,t.fetchDestination()})).catch((function(){})).finally((function(){}))},fetchDestination:function(){var t=this;this.destinationLoading=!0,this.destinationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows,t.fetchCategories()})).catch((function(){})).finally((function(){}))},fetchCategories:function(){var t=this;this.categoryLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/categories",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.categoryLoading=!1,t.categories=a.data.rows,t.fetchPackageTypes()})).catch((function(){})).finally((function(){}))},fetchPackageTypes:function(){var t=this;this.packageTypesLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packageTypes",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.packageTypesLoading=!1,t.packageTypes=a.data.rows,t.fetchMultipleDestinations()})).catch((function(){})).finally((function(){}))},fetchMultipleDestinations:function(){var t=this;this.destinationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/destinations",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationsLoading=!1,t.destinationsOptions=a.data.destinations,t.fetchMultipleAccommodations()})).catch((function(){})).finally((function(){}))},fetchMultipleAccommodations:function(){var t=this;this.accommodationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/accommodations",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.accommodationsLoading=!1,t.accommodationsOptions=a.data.accommodations,t.fetchMultipleHotels()})).catch((function(){})).finally((function(){}))},fetchMultipleHotels:function(){var t=this;this.hotelsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/hotels",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.hotelsLoading=!1,t.hotelsOptions=a.data.hotels,t.fetchMultiplePackagesRelated()})).catch((function(){})).finally((function(){}))},fetchMultiplePackagesRelated:function(){var t=this;this.packagesRelatedLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packages",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,except_id:this.$route.params.id,paginate:100}};this.axios(a).then((function(a){t.packagesRelatedLoading=!1,t.packagesRelatedOptions=a.data.packages,t.fetchMultipleTags()})).catch((function(){})).finally((function(){}))},fetchMultipleTags:function(){var t=this;this.tagsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tags",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.tagsLoading=!1,t.tagsOptions=a.data.tags,t.fetchMultipleIcons()})).catch((function(){})).finally((function(){}))},fetchMultipleIcons:function(){var t=this;this.iconsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/icons",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.iconsLoading=!1,t.iconsOptions=a.data.icons})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.price_names.length;a++){for(var e=1;e<=10;e++){var s=this.row.price_item_value[a+"_"+e],i=this.row.price_item_body[a+"_"+e];s&&(this.row.price_items[e]={item_value:s,item_body:i})}this.row.prices[a]={price_name:this.row.price_names[a],items:this.row.price_items},this.row.price_items=[]}for(var o=1;o<this.row.itinerarie_names.length;o++){for(var r=1;r<=10;r++){var n=this.row.itinerarie_item_title[o+"_"+r],l=this.row.itinerarie_item_sort[o+"_"+r],c=this.row.itinerarie_item_body[o+"_"+r];n&&(this.row.itinerarie_items[r]={item_title:n,item_sort:l,item_body:c})}this.row.itineraries[o]={itinerarie_name:this.row.itinerarie_names[o],itinerarie_sort:this.row.itinerarie_sort[o],items:this.row.itinerarie_items},this.row.itinerarie_items=[]}for(var d=1;d<this.row.gallery_image_base64.length;d++)this.row.galleries[d]={gallery_image_base64:this.row.gallery_image_base64[d],gallery_image_alt:this.row.gallery_image_alt[d],gallery_image_title:this.row.gallery_image_title[d]};var u={headers:{"Content-Type":"multipart/form-data"}},p={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,short_title:this.row.short_title,popular:this.row.popular,start_price:this.row.start_price,stars:this.row.stars,stars_no:this.row.stars_no,sort:this.row.sort,tour_type:this.row.tour_type,duration:this.row.duration,visited_locations:this.row.visited_locations,inclusion:this.row.inclusion,exclusion:this.row.exclusion,short_body:this.row.short_body,body:this.row.body,prices:this.row.prices,itineraries:this.row.itineraries,galleries:this.row.galleries,destination_id:this.row.destination_id,category_id:this.row.category_id,package_type_id:this.row.package_type_id,destinations:this.row.destinationsValues,accommodations:this.row.accommodationsValues,hotels:this.row.hotelsValues,packagesRelated:this.row.packagesRelatedValues,tags:this.row.tagsValues,icons:this.row.iconsValues,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,short_image_base64:this.row.short_image_base64,short_image_alt:this.row.short_image_alt,short_image_title:this.row.short_image_title,status:this.row.status,view_in_home:this.row.view_in_home,view_in_destination_home:this.row.view_in_destination_home,is_combined_tour:this.row.is_combined_tour}};this.axios(p,u).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},opnFrm:function(){this.row.price_key++,this.row.price_item_key[this.row.price_key]=0},removeOption:function(t){var a=this;document.querySelector("#frm_"+t).remove(),this.row.price_names[t]="",this.row.price_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.price_item_value[t+"_"+e]="",a.row.price_item_body[t+"_"+e]=""}))},opnSub:function(t){this.row.price_item_key[t]+=1,document.querySelector("#sub_"+t+"_"+this.row.price_item_key[t]).classList.remove("hidden")},removeSubOption:function(t,a){document.querySelector("#sub_"+t+"_"+a).classList.add("hidden"),this.row.price_item_value[t+"_"+a]="",this.row.price_item_body[t+"_"+a]="",this.row.price_item_key[t]-=1},opnFrm2:function(){this.row.itinerarie_key++,this.row.itinerarie_item_key[this.row.itinerarie_key]=0},removeOption2:function(t){var a=this;document.querySelector("#frm2_"+t).remove(),this.row.itinerarie_names[t]="",this.row.itinerarie_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.itinerarie_item_title[t+"_"+e]="",a.row.itinerarie_item_sort[t+"_"+e]="",a.row.itinerarie_item_body[t+"_"+e]=""}))},opnSub2:function(t){this.row.itinerarie_item_key[t]+=1,document.querySelector("#sub2_"+t+"_"+this.row.itinerarie_item_key[t]).classList.remove("hidden")},removeSubOption2:function(t,a){document.querySelector("#sub2_"+t+"_"+a).classList.add("hidden"),this.row.itinerarie_item_title[t+"_"+a]="",this.row.itinerarie_item_sort[t+"_"+a]="",this.row.itinerarie_item_body[t+"_"+a]="",this.row.itinerarie_item_key[t]-=1},opnFrm3:function(){this.row.gallery_key++},removeOption3:function(t){document.querySelector("#frm3_"+t).remove(),this.row.gallery_image_preview[t]="",this.row.gallery_image_base64[t]="",this.row.gallery_image_alt[t]="",this.row.gallery_image_title[t]=""},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onGalleryImageChange:function(t,a){var e=t.target.files[0];this.row.gallery_image_preview[a]=URL.createObjectURL(e),this.createBase64Gallery(e,a)},createBase64Gallery:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.gallery_image_base64[a]=t.target.result}},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onShortImageChange:function(t){var a=t.target.files[0];this.row.short_image_preview=URL.createObjectURL(a),this.createBase64ShortImage(a)},createBase64ShortImage:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.short_image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},onDestination:function(){this.row.view_in_destination_home?this.row.view_in_destination_home=0:this.row.view_in_destination_home=1},onCombindTour:function(){this.row.is_combined_tour?this.row.is_combined_tour=0:this.row.is_combined_tour=1},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=(e("60bc"),e("2877")),v=Object(g["a"])(h,s,i,!1,null,"de65bb08",null);a["default"]=v.exports},9543:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" ")]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabRole"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseRole","data-toggle":"collapse","data-target":"#collapseRole"},on:{click:function(a){return t.collapseToggle("Role")}}},[t._v("Role "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleRole"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseRole","aria-labelledby":"TabRole","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])])])])])]),e("div",{staticClass:"col-12 text-center"},[t.tenantLoading?e("div",{staticClass:"form-group"},[t._m(0)]):t._e()]),t._l(t.tenants,(function(a,s){return e("div",{key:s,staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabTenant"+s}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseTenant"+s,"data-toggle":"collapse","data-target":"#collapseTenant"+s},on:{click:function(a){return t.collapseToggle("Tenant"+s)}}},[t._v(t._s(a.name)+" "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleTenant"+s}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTenant"+s,"aria-labelledby":"TabTenant"+s,"data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},t._l(a.permissions,(function(a,s){return e("div",{key:s,staticClass:"form-group"},[e("h4",{staticClass:"mb-3 mt-5 ucfirst"},[t._v(t._s(s)+" ")]),e("div",{staticClass:"row col-12 text-center"},t._l(a.length,(function(s,i){return e("div",{key:i,staticClass:"custom-control custom-switch col-3"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:a[i].id},domProps:{value:a[i].id},on:{change:function(e){return t.isChecked(e,a[i].id)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:a[i].id}},[t._v(" "+t._s(a[i].name)+" ")])])})),0)])})),0)])])])])}))],2),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavAuthority"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavAuthority","data-toggle":"collapse","data-target":"#collapseNavAuthority"},on:{click:function(a){return t.collapseToggle("Authority")}}},[t._v("Authority "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleAuthority"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavAuthority","aria-labelledby":"NavAuthority","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.authority,expression:"row.authority"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"authority",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Authority")]),e("option",{attrs:{value:"1"}},[t._v("High Authority")]),e("option",{attrs:{value:"0"}},[t._v("Low Authority")])])])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-5 mb-5 spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],o=(e("c975"),e("a434"),e("b0c0"),e("d3b7"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",authority:1,permissions_ids:[],status:!0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},tenants:[],tenantLoading:!0,pgLoading:!1,btnLoading:!1,refs:"roles"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),this.fetchTenants()},methods:{fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{name:this.row.name,authority:this.row.authority,permissions_ids:this.row.permissions_ids,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},isChecked:function(t,a){t.target.checked?this.row.permissions_ids.push(a):this.row.permissions_ids.splice(this.row.permissions_ids.indexOf(a),1)},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"06ed422a",null);a["default"]=p.exports},9636:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-3"},[e("div",{staticClass:"dropdown pull-right"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])]),e("div",{staticClass:"col-sm-6 col-xl-3 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"dropdown show"},[e("span",{staticClass:"ti-more pull-right cursor-pointer",attrs:{id:"dropMenuPosts","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropMenuPosts"}},[e("span",{staticClass:"dropdown-item ",class:"0"==t.visitorDays?"active":"",on:{click:function(a){return t.fetchTotalVisitors(0)}}},[t._v("Today")]),e("span",{staticClass:"dropdown-item ",class:"1"==t.visitorDays?"active":"",on:{click:function(a){return t.fetchTotalVisitors(1)}}},[t._v("Yesterday")]),e("span",{staticClass:"dropdown-item ",class:"7"==t.visitorDays?"active":"",on:{click:function(a){return t.fetchTotalVisitors(7)}}},[t._v("Last 7 days")]),e("span",{staticClass:"dropdown-item ",class:"28"==t.visitorDays?"active":"",on:{click:function(a){return t.fetchTotalVisitors(28)}}},[t._v("Last 28 days")]),e("span",{staticClass:"dropdown-item ",class:"90"==t.visitorDays?"active":"",on:{click:function(a){return t.fetchTotalVisitors(90)}}},[t._v("Last 90 days")]),e("span",{staticClass:"dropdown-item ",class:"180"==t.visitorDays?"active":"",on:{click:function(a){return t.fetchTotalVisitors(180)}}},[t._v("Last 180 days")]),e("span",{staticClass:"dropdown-item ",class:"infinity"==t.visitorDays?"active":"",on:{click:function(a){return t.fetchTotalVisitors("infinity")}}},[t._v("Last calendar year")])])]),e("div",{staticClass:"media align-items-center py-2"},[e("div",{staticClass:"media-body"},[e("h5",{staticClass:"h5 text-muted mb-2"},[t._v("Total Visitors")]),t.visitorLoading?e("span",[t._m(0)]):t._e(),t.visitorLoading?t._e():e("span",{staticClass:"h2 font-weight-normal mb-0"},[t._v(t._s(t.visitorTotal)+" ")])]),t.visitorLoading?t._e():e("div",{staticClass:"text-right ml-2",staticStyle:{"max-width":"70px"}},[e("div",{staticClass:"mb-2"}),e("span",{staticClass:"text-success"},[t._v(t._s(t.visitorPercentage)+" "),e("span",{class:t.visitorArrow})])])])])])]),e("div",{staticClass:"col-sm-6 col-xl-3 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"dropdown show"},[e("span",{staticClass:"ti-more pull-right cursor-pointer",attrs:{id:"dropMenuPosts","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropMenuPosts"}},[e("span",{staticClass:"dropdown-item ",class:"0"==t.packageDays?"active":"",on:{click:function(a){return t.fetchTotalPackages(0)}}},[t._v("Today")]),e("span",{staticClass:"dropdown-item ",class:"1"==t.packageDays?"active":"",on:{click:function(a){return t.fetchTotalPackages(1)}}},[t._v("Yesterday")]),e("span",{staticClass:"dropdown-item ",class:"7"==t.packageDays?"active":"",on:{click:function(a){return t.fetchTotalPackages(7)}}},[t._v("Last 7 days")]),e("span",{staticClass:"dropdown-item ",class:"28"==t.packageDays?"active":"",on:{click:function(a){return t.fetchTotalPackages(28)}}},[t._v("Last 28 days")]),e("span",{staticClass:"dropdown-item ",class:"90"==t.packageDays?"active":"",on:{click:function(a){return t.fetchTotalPackages(90)}}},[t._v("Last 90 days")]),e("span",{staticClass:"dropdown-item ",class:"180"==t.packageDays?"active":"",on:{click:function(a){return t.fetchTotalPackages(180)}}},[t._v("Last 180 days")]),e("span",{staticClass:"dropdown-item ",class:"infinity"==t.packageDays?"active":"",on:{click:function(a){return t.fetchTotalPackages("infinity")}}},[t._v("Last calendar year")])])]),e("div",{staticClass:"media align-items-center py-2"},[e("div",{staticClass:"media-body"},[e("h5",{staticClass:"h5 text-muted mb-2"},[t._v("Total Packages ")]),t.packageLoading?e("span",[t._m(1)]):t._e(),t.packageLoading?t._e():e("span",{staticClass:"h2 font-weight-normal mb-0"},[t._v(t._s(t.packageTotal)+" ")])]),t.packageLoading?t._e():e("div",{staticClass:"text-right ml-2",staticStyle:{"max-width":"70px"}},[e("div",{staticClass:"mb-2"}),e("span",{staticClass:"text-success"},[t._v(t._s(t.packagePercentage)+" "),e("span",{class:t.packageArrow})])])])])])]),e("div",{staticClass:"col-sm-6 col-xl-3 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"dropdown show"},[e("span",{staticClass:"ti-more pull-right cursor-pointer",attrs:{id:"dropMenuPosts","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropMenuPosts"}},[e("span",{staticClass:"dropdown-item ",class:"0"==t.inquireDays?"active":"",on:{click:function(a){return t.fetchTotalInquires(0)}}},[t._v("Today")]),e("span",{staticClass:"dropdown-item ",class:"1"==t.inquireDays?"active":"",on:{click:function(a){return t.fetchTotalInquires(1)}}},[t._v("Yesterday")]),e("span",{staticClass:"dropdown-item ",class:"7"==t.inquireDays?"active":"",on:{click:function(a){return t.fetchTotalInquires(7)}}},[t._v("Last 7 days")]),e("span",{staticClass:"dropdown-item ",class:"28"==t.inquireDays?"active":"",on:{click:function(a){return t.fetchTotalInquires(28)}}},[t._v("Last 28 days")]),e("span",{staticClass:"dropdown-item ",class:"90"==t.inquireDays?"active":"",on:{click:function(a){return t.fetchTotalInquires(90)}}},[t._v("Last 90 days")]),e("span",{staticClass:"dropdown-item ",class:"180"==t.inquireDays?"active":"",on:{click:function(a){return t.fetchTotalInquires(180)}}},[t._v("Last 180 days")]),e("span",{staticClass:"dropdown-item ",class:"infinity"==t.inquireDays?"active":"",on:{click:function(a){return t.fetchTotalInquires("infinity")}}},[t._v("Last calendar year")])])]),e("div",{staticClass:"media align-items-center py-2"},[e("div",{staticClass:"media-body"},[e("h5",{staticClass:"h5 text-muted mb-2"},[t._v("Total Inquires")]),t.inquireLoading?e("span",[t._m(2)]):t._e(),t.inquireLoading?t._e():e("span",{staticClass:"h2 font-weight-normal mb-0"},[t._v(t._s(t.inquireTotal)+" ")])]),t.inquireLoading?t._e():e("div",{staticClass:"text-right ml-2",staticStyle:{"max-width":"70px"}},[e("div",{staticClass:"mb-2"}),e("span",{staticClass:"text-success"},[t._v(t._s(t.inquirePercentage)+" "),e("span",{class:t.inquireArrow})])])])])])]),e("div",{staticClass:"col-sm-6 col-xl-3 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"dropdown show"},[e("span",{staticClass:"ti-more pull-right cursor-pointer",attrs:{id:"dropMenuPosts","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropMenuPosts"}},[e("span",{staticClass:"dropdown-item ",class:"0"==t.userDays?"active":"",on:{click:function(a){return t.fetchTotalUsers(0)}}},[t._v("Today")]),e("span",{staticClass:"dropdown-item ",class:"1"==t.userDays?"active":"",on:{click:function(a){return t.fetchTotalUsers(1)}}},[t._v("Yesterday")]),e("span",{staticClass:"dropdown-item ",class:"7"==t.userDays?"active":"",on:{click:function(a){return t.fetchTotalUsers(7)}}},[t._v("Last 7 days")]),e("span",{staticClass:"dropdown-item ",class:"28"==t.userDays?"active":"",on:{click:function(a){return t.fetchTotalUsers(28)}}},[t._v("Last 28 days")]),e("span",{staticClass:"dropdown-item ",class:"90"==t.userDays?"active":"",on:{click:function(a){return t.fetchTotalUsers(90)}}},[t._v("Last 90 days")]),e("span",{staticClass:"dropdown-item ",class:"180"==t.userDays?"active":"",on:{click:function(a){return t.fetchTotalUsers(180)}}},[t._v("Last 180 days")]),e("span",{staticClass:"dropdown-item ",class:"infinity"==t.userDays?"active":"",on:{click:function(a){return t.fetchTotalUsers("infinity")}}},[t._v("Last calendar year")])])]),e("div",{staticClass:"media align-items-center py-2"},[e("div",{staticClass:"media-body"},[e("h5",{staticClass:"h5 text-muted mb-2"},[t._v("Total Users")]),t.userLoading?e("span",[t._m(3)]):t._e(),t.userLoading?t._e():e("span",{staticClass:"h2 font-weight-normal mb-0"},[t._v(t._s(t.userTotal)+" ")])]),t.userLoading?t._e():e("div",{staticClass:"text-right ml-2",staticStyle:{"max-width":"70px"}},[e("div",{staticClass:"mb-2"}),e("span",{staticClass:"text-success"},[t._v(t._s(t.userPercentage)+" "),e("span",{class:t.userArrow})])])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card ui-h-480"},[e("header",{staticClass:"card-header \n                                    d-flex align-items-center justify-content-between"},[e("h2",{staticClass:"h4 card-header-title"},[t._v("Visitors During the year")]),e("span",{staticClass:"ti-more pull-right cursor-pointer",attrs:{id:"dropMenuCharts","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropMenuCharts"}},[e("span",{staticClass:"dropdown-item ",class:"weekly"==t.lineType?"active":"",on:{click:function(a){return t.fetchLineChart("weekly")}}},[t._v("Weekly ")]),e("span",{staticClass:"dropdown-item ",class:"monthly"==t.lineType?"active":"",on:{click:function(a){return t.fetchLineChart("monthly")}}},[t._v("Monthly ")]),e("span",{staticClass:"dropdown-item ",class:"quarter"==t.lineType?"active":"",on:{click:function(a){return t.fetchLineChart("quarter")}}},[t._v("Quarter ")]),e("span",{staticClass:"dropdown-item ",class:"yearly"==t.lineType?"active":"",on:{click:function(a){return t.fetchLineChart("yearly")}}},[t._v("Yearly ")])])]),e("div",{staticClass:"card-body pt-0 text-center"},[t.chartLoading?e("span",[t._m(4)]):t._e(),t.chartLoading?t._e():e("apexchart",{staticClass:"mt-md-3 mt-xl-0",attrs:{type:"area",options:t.chartOption,series:t.charts,height:"380"}})],1)])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card ui-h-300"},[e("header",{staticClass:"card-header  \n                                d-flex align-items-center justify-content-between"},[e("h2",{staticClass:"h4 card-header-title"},[t._v("Where your visitors located")]),t._m(5),e("div",{staticClass:"u-header-dropdown__menu dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropMenuCountries"}},[e("span",{staticClass:"dropdown-item ",class:"0"==t.pieDays?"active":"",on:{click:function(a){return t.fetchCountries(0)}}},[t._v("Today ")]),e("span",{staticClass:"dropdown-item ",class:"1"==t.pieDays?"active":"",on:{click:function(a){return t.fetchCountries(1)}}},[t._v("Yesterday ")]),e("span",{staticClass:"dropdown-item ",class:"7"==t.pieDays?"active":"",on:{click:function(a){return t.fetchCountries(7)}}},[t._v("Last 7 days ")]),e("span",{staticClass:"dropdown-item ",class:"28"==t.pieDays?"active":"",on:{click:function(a){return t.fetchCountries(28)}}},[t._v("Last 28 days ")]),e("span",{staticClass:"dropdown-item ",class:"90"==t.pieDays?"active":"",on:{click:function(a){return t.fetchCountries(90)}}},[t._v("Last 90 days ")]),e("span",{staticClass:"dropdown-item ",class:"180"==t.pieDays?"active":"",on:{click:function(a){return t.fetchCountries(180)}}},[t._v("Last 180 days ")]),e("span",{staticClass:"dropdown-item ",class:"infinity"==t.pieDays?"active":"",on:{click:function(a){return t.fetchCountries("infinity")}}},[t._v("Last calendar year ")])])]),e("div",{staticClass:"card-body text-center"},[t.pieLoading?e("span",[t._m(6)]):t._e(),t.pieLoading?t._e():e("apexchart",{staticClass:"mt-md-3 mt-xl-0",attrs:{type:"pie",options:t.pieOptions,series:t.pies,height:"190"}})],1)])]),e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header d-flex align-items-center \n                                justify-content-between"},[e("h2",{staticClass:"h4 card-header-title"},[t._v("Recent Packages")]),t.dataLoading?t._e():e("span",{staticClass:"ti-reload cursor-pointer",on:{click:function(a){return t.fetchRecentPackages()}}}),t.dataLoading?e("span",[t._m(7)]):t._e()]),e("div",{staticClass:"card-body"},[t.dataLoading?e("div",{staticClass:"text-center"},[t._m(8)]):t._e(),t.dataLoading?t._e():e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[t._m(9),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(10)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-packages",params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.destination?t._e():e("span"),a.destination?e("span",{staticClass:"badge badge-md badge-pill \n                                                    badge-danger-soft"},[t._v(" "+t._s(a.destination.title)+" ")]):t._e()]),t._m(11,!0),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}})])})),0):t._e(),t._m(12)])])])])]),e("div",{staticClass:"col-md-4 mb-5 ui-mt-180"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header d-flex align-items-center \n                                justify-content-between"},[e("h2",{staticClass:"h4 card-header-title"},[t._v("Top Destinations")]),t.topLoading?t._e():e("span",{staticClass:"ti-reload cursor-pointer",on:{click:function(a){return t.fetchTopDestinations()}}}),t.topLoading?e("span",[t._m(13)]):t._e()]),e("div",{staticClass:"card-body text-center"},[t.topLoading?e("span",[t._m(14)]):t._e(),t.topLoading?t._e():e("apexchart",{staticClass:"mt-md-3 mt-xl-0",attrs:{type:"bar",options:t.topOptions,series:t.destinations,height:"300"}})],1)])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-md mr-1 ui-mt150",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"link-muted d-flex pull-right",attrs:{role:"button",id:"dropMenuCountries","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown"}},[e("span",{staticClass:"ti-more pull-right cursor-pointer"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-md ui-mt50 mr-1",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticStyle:{width:"30%"}},[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Destination")]),e("th",{staticClass:"text-center"},[t._v("Views No.")]),e("th",{staticClass:"text-center"},[t._v("Date")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"4"}},[e("span",[t._v("No data found.")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" 0 ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tfoot",[e("tr",[e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Destination")]),e("th",{staticClass:"text-center"},[t._v("Views No.")]),e("th",{staticClass:"text-center"},[t._v("Date")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],o=(e("b0c0"),e("d3b7"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"App",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},visitorDays:7,visitorTotal:0,visitorPercentage:"",visitorArrow:"",visitorLoading:!0,packageDays:7,packageTotal:0,packagePercentage:"",packageArrow:"",packageLoading:!0,inquireDays:7,inquireTotal:0,inquirePercentage:"",inquireArrow:"",inquireLoading:!0,userDays:7,userTotal:0,userPercentage:"",userArrow:"",userLoading:!0,charts:[],lineType:"monthly",chartLoading:!0,chartOption:{chart:{height:450,zoom:{enabled:!1}},animations:{enabled:!0},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"",align:"center"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:5,align:top,hover:{sizeOffset:5}}},pieDays:7,pies:[],pieLoading:!0,pieOptions:{chart:{width:380,type:"pie"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},rows:[],dataLoading:!0,tops:[],topLoading:!0,topOptions:{chart:{height:280,zoom:{enabled:!1}},animations:{enabled:!0},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"",align:"center"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:5,align:top,hover:{sizeOffset:5}}},updateLoading:!1,tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[]}},mounted:function(){},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.accessToken=localStorage.getItem("access_token")),this.fetchTenants()},methods:{changeTenant:function(t,a){this.tenantLoading=!0,this.visitorLoading=!0,this.packageLoading=!0,this.inquireLoading=!0,this.userLoading=!0,this.chartLoading=!0,this.pieLoading=!0,this.dataLoading=!0,this.topLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchTotalVisitors(this.visitorDays,!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchTotalVisitors(t.visitorDays,!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchTotalVisitors:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.visitorLoading=!0,this.visitorDays=t,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s={headers:{"Content-Type":"multipart/form-data"}},i={url:window.baseURL+"/explore/totalVisitors/"+this.visitorDays,method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(i,s).then((function(t){a.visitorLoading=!1,a.visitorTotal=t.data.total,a.visitorPercentage=t.data.percentage,a.visitorArrow=t.data.arrow,a.tenantLoading=!1,e&&a.fetchTotalPackages(a.packageDays,!0)})).catch((function(){}))},fetchTotalPackages:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.packageLoading=!0,this.packageDays=t,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s={headers:{"Content-Type":"multipart/form-data"}},i={url:window.baseURL+"/explore/totalPackages/"+this.packageDays,method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(i,s).then((function(t){a.packageLoading=!1,a.packageTotal=t.data.total,a.packagePercentage=t.data.percentage,a.packageArrow=t.data.arrow,e&&a.fetchTotalInquires(a.inquireDays,!0)})).catch((function(){}))},fetchTotalInquires:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.inquireLoading=!0,this.inquireDays=t,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s={headers:{"Content-Type":"multipart/form-data"}},i={url:window.baseURL+"/explore/totalInquires/"+this.inquireDays,method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(i,s).then((function(t){a.inquireLoading=!1,a.inquireTotal=t.data.total,a.inquirePercentage=t.data.percentage,a.inquireArrow=t.data.arrow,e&&a.fetchTotalUsers(a.userDays,!0)})).catch((function(){}))},fetchTotalUsers:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.userLoading=!0,this.userDays=t,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s={headers:{"Content-Type":"multipart/form-data"}},i={url:window.baseURL+"/explore/totalUsers/"+this.userDays,method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(i,s).then((function(t){a.userLoading=!1,a.userTotal=t.data.total,a.userPercentage=t.data.percentage,a.userArrow=t.data.arrow,e&&a.fetchLineChart(a.lineType,!0)})).catch((function(){}))},fetchLineChart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.chartLoading=!0,this.lineType=t,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s={headers:{"Content-Type":"multipart/form-data"}},i={url:window.baseURL+"/explore/lineChart/"+this.lineType,method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(i,s).then((function(t){a.chartLoading=!1,a.charts=[{name:"Views",data:t.data.rows.series}],a.chartOption.xaxis={categories:t.data.rows.xaxis},e&&a.fetchPieChart(a.pieDays,!0)})).catch((function(){}))},fetchPieChart:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.pieLoading=!0,this.pieDays=t,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s={headers:{"Content-Type":"multipart/form-data"}},i={url:window.baseURL+"/explore/pieChart/"+this.pieDays,method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(i,s).then((function(t){a.pieLoading=!1,a.pies=t.data.rows.total,a.pieOptions.labels=t.data.rows.countries,e&&a.fetchRecentPackages(!0)})).catch((function(){}))},fetchRecentPackages:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dataLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={headers:{"Content-Type":"multipart/form-data"}},s={url:window.baseURL+"/explore/recentPackages",method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(s,e).then((function(e){t.dataLoading=!1,t.rows=e.data.rows,a&&t.fetchTopDestinations()})).catch((function(){}))},fetchTopDestinations:function(){var t=this;this.topLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/explore/topDestinations",method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(e,a).then((function(a){t.topLoading=!1,t.topOptions={xaxis:{categories:a.data.xaxis}},t.destinations=[{name:"Destinations",data:a.data.series}]})).catch((function(){}))},checkUpdate:function(){var t=this;this.updateLoading=!0,setTimeout((function(){c.a.warning({icon:"ti-alert",title:"Wow-man,",message:"There's no new updates available!"}),t.updateLoading=!1}),3e3)}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,null,null);a["default"]=p.exports},9994:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("header",{staticClass:"u-header u-header--error-page"},[e("router-link",{staticClass:"u-header-logo",attrs:{to:{name:"dashboard"}}},[e("img",{staticClass:"u-header-logo__icon",attrs:{src:"/assets/svg/logo-mini.svg",alt:"404"}}),e("img",{staticClass:"u-header-logo__text ml-1",attrs:{src:"/assets/svg/logo-text-dark.svg",alt:"404",width:"140"}})])],1),e("main",{staticClass:"u-error-content-wrap"},[e("div",{staticClass:"u-error-content container text-center my-auto"},[e("h1",{staticClass:"u-error__title"},[t._v("404")]),e("h2",{staticClass:"u-error__sub-title"},[t._v("Page not found")]),e("h4",{staticClass:"font-weight-semi-bold mb-0"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Return back")])],1),t._m(0),t._m(1),t._m(2),t._m(3)])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-top-left"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-1.svg",alt:"404"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-top-right"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-2.svg",alt:"404"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-bottom-left"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-3.svg",alt:"404"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-bottom-right"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-4.svg",alt:"404"}})])}],o={name:"NotFound",mounted:function(){}},r=o,n=e("2877"),l=Object(n["a"])(r,s,i,!1,null,null,null);a["default"]=l.exports},"9a2d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputMeta2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputMeta2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabArticle"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseArticle","data-toggle":"collapse","data-target":"#collapseArticle"},on:{click:function(a){return t.collapseToggle("Article")}}},[t._v("Article "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleArticle"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseArticle","aria-labelledby":"TabArticle","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputRow1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputRow2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Short body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor2"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor2","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItems"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItems","data-toggle":"collapse","data-target":"#collapseItems"},on:{click:function(a){return t.collapseToggle("Items")}}},[t._v("Items "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleItems"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItems","aria-labelledby":"TabItems","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.item_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"+a}},[t._v("Link")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_link[a],expression:"row.items_link[i]"}],staticClass:"form-control",attrs:{id:"input1"+a,type:"text"},domProps:{value:t.row.items_link[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_link,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"+a}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_sort[a],expression:"row.items_sort[i]"}],staticClass:"form-control",attrs:{id:"input2"+a,type:"text"},domProps:{value:t.row.items_sort[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_sort,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"ieditor3"+a}},[t._v("Body")]),e("editor",{attrs:{id:"ieditor3"+a,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.items_body[a],callback:function(e){t.$set(t.row.items_body,a,e)},expression:"row.items_body[i]"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input4"+a}},[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_alt[a],expression:"row.items_image_alt[i]"}],staticClass:"form-control",attrs:{id:"input4"+a,type:"text"},domProps:{value:t.row.items_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_alt,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input5"+a}},[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_title[a],expression:"row.items_image_title[i]"}],staticClass:"form-control",attrs:{id:"input5"+a,type:"text"},domProps:{value:t.row.items_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_title,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input6"+a}},[t._v("Image")]),e("p",[t.row.items_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.items_preview[a]}}):t._e()]),e("input",{ref:"myDropify",refInFor:!0,staticClass:"form-control",attrs:{id:"input6"+a,type:"file"},on:{change:function(e){return t.onItemsImageChange(e,a)}}})])])})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavWriter"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavWriter","data-toggle":"collapse","data-target":"#collapseNavWriter"},on:{click:function(a){return t.collapseToggle("Writer")}}},[t._v("Writer "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleWriter"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavWriter","aria-labelledby":"NavWriter","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.writerLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.writerLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.writer_id,expression:"row.writer_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"writer_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Writer")]),t._l(t.writers,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Category "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.categoryLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.categoryLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.category_id,expression:"row.category_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"category_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Category")]),t._l(t.categories,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavPackages"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavPackages","data-toggle":"collapse","data-target":"#collapseNavPackages"},on:{click:function(a){return t.collapseToggle("Packages")}}},[t._v("Multiple Related Packages "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePackages"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavPackages","aria-labelledby":"NavPackages","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packageLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packageLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.packagesOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search packages","preselect-first":!0},model:{value:t.row.packagesValues,callback:function(a){t.$set(t.row,"packagesValues",a)},expression:"row.packagesValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleTags"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleTags","data-toggle":"collapse","data-target":"#collapseNavMultipleTags"},on:{click:function(a){return t.collapseToggle("MultipleTags")}}},[t._v("Multiple Tags "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleTags"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleTags","aria-labelledby":"NavMultipleTags","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.tagsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.tagsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.tagsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search tags","preselect-first":!1},model:{value:t.row.tagsValues,callback:function(a){t.$set(t.row,"tagsValues",a)},expression:"row.tagsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.featured},on:{click:t.onFeatured}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.featured?"Featured Article":"Normal Article")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Update "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("9911"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("8e5f"),d=e.n(c),u=e("2685"),m=e.n(u),p={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"],Multiselect:d.a},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",title:"",slug:"",sort:0,short_body:"",body:"",item_key:0,items:[],items_link:[],items_sort:[],items_body:[],items_preview:[],items_image_base64:[],items_image_alt:[],items_image_title:[],writer_id:"",destination_id:"",category_id:"",tagsValues:[],packagesValues:[],preview:"",image_base64:"",image_alt:"",image_title:"",status:1,featured:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},writers:[],writerLoading:!0,destinations:[],destinationLoading:!0,categories:[],categoryLoading:!0,tagsOptions:[],tagsLoading:!0,packagesOptions:[],packageLoading:!0,pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"articles"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){if(t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.title=a.data.row.title,t.row.slug=a.data.row.slug,t.row.sort=a.data.row.sort,t.row.short_body=a.data.row.short_body,t.row.body=a.data.row.body,t.row.item_key=a.data.row.items.length,a.data.row.items)for(var e=1;e<=t.row.item_key;e++){var s=e-1;t.row.items_link[e]=a.data.row.items[s].link?a.data.row.items[s].link:"",t.row.items_sort[e]=a.data.row.items[s].sort?a.data.row.items[s].sort:0,t.row.items_body[e]=a.data.row.items[s].body?a.data.row.items[s].body:"",t.row.items_preview[e]=a.data.row.items[s].image?a.data.row.items[s].image.image_url:"",t.row.items_image_base64[e]=a.data.row.items[s].image?a.data.row.items[s].image.image_url:"",t.row.items_image_alt[e]=a.data.row.items[s].image?a.data.row.items[s].image.image_alt:"",t.row.items_image_title[e]=a.data.row.items[s].image?a.data.row.items[s].image.image_title:""}t.row.writer_id=a.data.row.writer?a.data.row.writer.id:null,t.row.destination_id=a.data.row.destination?a.data.row.destination.id:null,t.row.category_id=a.data.row.category?a.data.row.category.id:null,t.row.tagsValues=a.data.row.tagsValues?a.data.row.tagsValues:[],t.row.packagesValues=a.data.row.packagesValues?a.data.row.packagesValues:[],t.row.preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status,t.row.featured=a.data.row.featured,t.fetchWriters()})).catch((function(){})).finally((function(){}))},fetchWriters:function(){var t=this;this.writerLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/writers",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.writerLoading=!1,t.writers=a.data.rows,t.fetchDestinations()})).catch((function(){})).finally((function(){}))},fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows,t.fetchCategories()})).catch((function(){})).finally((function(){}))},fetchCategories:function(){var t=this;this.categoryLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/categories",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.categoryLoading=!1,t.categories=a.data.rows,t.fetchTags()})).catch((function(){})).finally((function(){}))},fetchTags:function(){var t=this;this.tagsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tags",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.tagsLoading=!1,t.tagsOptions=a.data.tags,t.fetchPackages()})).catch((function(){})).finally((function(){}))},fetchPackages:function(){var t=this;this.packageLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packages",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.packageLoading=!1,t.packagesOptions=a.data.packages})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<=this.row.item_key;a++)this.row.items[a]={link:this.row.items_link[a],body:this.row.items_body[a],sort:this.row.items_sort[a],image_base64:this.row.items_image_base64[a],image_alt:this.row.items_image_alt[a],image_title:this.row.items_image_title[a]};var e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,short_body:this.row.short_body,body:this.row.body,items:this.row.items,writer_id:this.row.writer_id,destination_id:this.row.destination_id,category_id:this.row.category_id,tags:this.row.tagsValues,packages:this.row.packagesValue,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,featured:this.row.featured,status:this.row.status}};this.axios(e).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onItemsImageChange:function(t,a){var e=t.target.files[0];this.row.items_preview[a]=URL.createObjectURL(e),this.createItemsBase64Image(e,a)},createItemsBase64Image:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.items_image_base64[a]=t.target.result}},opnFrm:function(){this.row.item_key++},removeOption:function(t){document.querySelector("#frm_"+t).remove(),this.row.items_link[t]="",this.row.items_sort[t]="",this.row.items_body[t]="",this.row.items_preview[t]="",this.row.items_image_base64[t]="",this.row.items_image_alt[t]="",this.row.items_image_title[t]=""},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onFeatured:function(){this.row.featured?this.row.featured=0:this.row.featured=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=(e("60bc"),e("2877")),v=Object(g["a"])(h,s,i,!1,null,"cf1b2126",null);a["default"]=v.exports},"9cbd":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("header",{staticClass:"u-header"},[e("div",{staticClass:"u-header-left"},[e("router-link",{staticClass:"u-header-logo",attrs:{to:{name:"dashboard"}}},[e("img",{staticClass:"u-header-logo__icon",attrs:{src:"/assets/svg/logo-mini.svg",alt:""}}),e("img",{staticClass:"u-header-logo__text",attrs:{src:"/assets/svg/logo-text-light.svg",alt:""}})])],1),e("div",{staticClass:"u-header-middle"},[t._m(0),e("div",{staticClass:"u-header-section justify-content-sm-start flex-grow-1 py-0"},[e("div",{staticClass:"u-header-search",attrs:{"data-search-mobile-invoker":"#headerSearchMobileInvoker","data-search-target":"#headerSearch"}},[t._m(1),e("div",{staticClass:"u-header-search-form",attrs:{id:"headerSearch"}},[e("form",{staticClass:"w-100",on:{submit:function(a){return a.preventDefault(),t.onSearch(a)}}},[e("div",{staticClass:"input-group h-100"},[t._m(2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control u-header-search__field",attrs:{type:"search",placeholder:"Type to search"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}})])])])])]),e("div",{staticClass:"u-header-section"},[e("div",{staticClass:"u-header-dropdown dropdown pt-1"},[e("router-link",{staticClass:"u-header-invoker d-flex align-items-center",attrs:{to:{name:"inbox"}}},[e("span",{staticClass:"position-relative"},[e("span",{staticClass:"ti-email u-header-invoker__icon"})])])],1)]),e("div",{staticClass:"u-header-section"},[e("div",{staticClass:"u-header-dropdown dropdown pt-1"},[e("router-link",{staticClass:"u-header-invoker d-flex align-items-center",attrs:{to:{name:"logs"}}},[e("span",{staticClass:"position-relative"},[e("span",{staticClass:"ti-brush-alt u-header-invoker__icon"})])])],1)]),e("div",{staticClass:"u-header-section"},[e("div",{staticClass:"u-header-dropdown dropdown pt-1"},[e("router-link",{staticClass:"u-header-invoker d-flex align-items-center",attrs:{to:{name:"applications"}}},[e("span",{staticClass:"position-relative"},[e("span",{staticClass:"ti-layout-grid2 u-header-invoker__icon"})])])],1)]),e("div",{staticClass:"u-header-section u-header-section--profile"},[e("div",{staticClass:"u-header-dropdown dropdown"},[e("a",{staticClass:"link-muted d-flex align-items-center",attrs:{href:"#",role:"button",id:"userProfileInvoker","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"0"}},[e("img",{staticClass:"u-header-avatar img-fluid rounded-circle mr-md-3",attrs:{src:t.auth.user_image,alt:"User Profile"}}),e("span",{staticClass:"text-dark d-none d-md-inline-flex align-items-center"},[t._v(" "+t._s(t.auth.user_name)+" "),e("span",{staticClass:"ti-angle-down text-muted ml-4"})])]),e("div",{staticClass:"u-header-dropdown__menu dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"userProfileInvoker"}},[e("div",{staticClass:"card p-3"},[e("div",{staticClass:"card-body p-0"},[e("ul",{staticClass:"list-unstyled mb-0"},[e("li",[e("a",{staticClass:"link-dark",attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("Logout")])])])])])])])])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"u-header-section"},[e("a",{staticClass:"js-sidebar-invoker u-header-invoker u-sidebar-invoker",attrs:{href:"javascript:;","data-is-close-all-except-this":"true","data-target":"#sidebar"}},[e("span",{staticClass:"ti-align-left u-header-invoker__icon u-sidebar-invoker__icon--open"}),e("span",{staticClass:"ti-align-justify u-header-invoker__icon u-sidebar-invoker__icon--close"})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"u-header-search__mobile-invoker align-items-center",attrs:{id:"headerSearchMobileInvoker",href:"javascript:;"}},[e("span",{staticClass:"ti-search"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn-link input-group-prepend u-header-search__btn",attrs:{type:"submit"}},[e("span",{staticClass:"ti-search"})])}],o=(e("d3b7"),e("ac1f"),e("841c"),{name:"Header",data:function(){return{auth:{user_id:"",user_name:"",user_image:"",access_token:""},search:""}},mounted:function(){},created:function(){localStorage.getItem("user_id")&&(this.auth.user_id=localStorage.getItem("user_id")),localStorage.getItem("user_image")&&(this.auth.user_image=localStorage.getItem("user_image")),localStorage.getItem("user_name")&&(this.auth.user_name=localStorage.getItem("user_name")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token"))},methods:{onSearch:function(){this.$emit("headerToChild",this.search)},logout:function(){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var t={url:window.baseURL+"/auth/logout",method:"POST",data:{},params:{}};this.axios(t).then((function(){})).catch((function(){})).finally((function(){})),localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id"),this.$router.push({name:"login"})}},opnSideNav:function(){var t=document.querySelector("body");t.classList.has("side-nav-on-action")?t.classList.remove("side-nav-on-action"):t.classList.add("side-nav-on-action")}}),r=o,n=e("2877"),l=Object(n["a"])(r,s,i,!1,null,null,null);a["a"]=l.exports},"9f16":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabContent"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseContent","data-toggle":"collapse","data-target":"#collapseContent"},on:{click:function(a){return t.collapseToggle("Content")}}},[t._v("Slider "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleContent"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseContent","aria-labelledby":"TabContent","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Button")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.button,expression:"row.button"}],staticClass:"form-control",attrs:{id:"input3",type:"text"},domProps:{value:t.row.button},on:{input:function(a){a.target.composing||t.$set(t.row,"button",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input4"}},[t._v("Link")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.link,expression:"row.link"}],staticClass:"form-control",attrs:{id:"input4",type:"text"},domProps:{value:t.row.link},on:{input:function(a){a.target.composing||t.$set(t.row,"link",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input5"}},[t._v("Iframe")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.iframe,expression:"row.iframe"}],staticClass:"form-control",attrs:{id:"input5",type:"text"},domProps:{value:t.row.iframe},on:{input:function(a){a.target.composing||t.$set(t.row,"iframe",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input6"}},[t._v("Body")]),e("editor",{attrs:{id:"input6","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Slider")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("3ca3"),e("9911"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{button:"",link:"",iframe:"",title:"",body:"",sort:0,image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"sliders"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.title=a.data.row.title,t.row.body=a.data.row.body,t.row.sort=a.data.row.sort,t.row.button=a.data.row.button,t.row.link=a.data.row.link,t.row.iframe=a.data.row.iframe,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,title:this.row.title,body:this.row.body,sort:this.row.sort,button:this.row.button,link:this.row.link,iframe:this.row.iframe,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"7fa96d5b",null);a["default"]=h.exports},a2f1:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown ui-mr5"},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" File Size "),t.dataLoading?e("span",[t._m(0)]):t._e(),t.dataLoading?t._e():e("span",[t._v(t._s(t.fileSize))])])])])]),e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0",attrs:{id:"printMe"}},[t._m(1),t.dataLoading?e("tbody",[t._m(2)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(3)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[t._v(t._s(s+1))]),e("td",{staticClass:"font-weight-semi-bold"},[e("a",{attrs:{href:a.image,target:"_blank"}},[e("img",{staticStyle:{width:"92px"},attrs:{src:a.image.image_url}})])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.image.image_url,expression:"row.image.image_url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],attrs:{href:"javascript:;",title:"Copy to clipboard"}},[t._v(" Copy to clipboard ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.mime_type)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[t._v(t._s(a.size))])])})),0):t._e(),t._m(4)])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[t._m(5),e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"form-group"},[t.row.preview?e("img",{staticStyle:{width:"100%","max-height":"300px",padding:"10px"},attrs:{src:t.row.preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*",required:""},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Uploading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-upload"}),t.btnLoading?t._e():e("span",[t._v(" Upload to AWS")])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("#")]),e("th",[t._v("File")]),e("th",{staticClass:"text-center"},[t._v("Path")]),e("th",{staticClass:"text-center"},[t._v("mimeType")]),e("th",{staticClass:"text-center"},[t._v("Size")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No data found")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tfoot",[e("tr",[e("th",[t._v("#")]),e("th",[t._v("File")]),e("th",{staticClass:"text-center"},[t._v("Path")]),e("th",{staticClass:"text-center"},[t._v("mimeType")]),e("th",{staticClass:"text-center"},[t._v("Size")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[t._v("Add New")])])}],o=(e("b0c0"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Media",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{preview:"",base64Image:""},fileSize:"",dataLoading:!0,btnLoading:!1,something_went_wrong:!1,rows:[],pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"media"}},mounted:function(){},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchTenants()},methods:{changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={headers:{"Content-Type":"multipart/form-data"}},o={url:window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id}};this.axios(o,i).then((function(t){a.dataLoading=!1,a.tenantLoading=!1,a.rows=t.data.rows,a.fileSize=t.data.fileSize,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){a.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t})})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.base64Image=t.target.result}},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"application/json"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,file:this.row.base64Image}};this.axios(e,a).then((function(a){t.btnLoading=!1,t.row.preview="",t.row.base64Image="",t.fetchData("",!0),c.a.success({icon:"ti-check",title:"Great job,",message:"File Uploaded Successfully"})})).catch((function(a){t.btnLoading=!1,c.a.error({icon:"ti-na",title:"Wow-wow,",message:a.response?a.response.data.message:""+a})}))},editRow:function(t){},onCopy:function(t){c.a.success({icon:"ti-check",title:"Great job,",message:"Copy to Clipboard Successfully"})},onError:function(t){c.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong, try again"})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,null,null);a["default"]=p.exports},a44c:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabDest"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseDest","data-toggle":"collapse","data-target":"#collapseDest"},on:{click:function(a){return t.collapseToggle("Dest")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleDest"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseDest","aria-labelledby":"TabDest","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Body")]),e("editor",{attrs:{id:"inputText3","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavRegion"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavRegion","data-toggle":"collapse","data-target":"#collapseNavRegion"},on:{click:function(a){return t.collapseToggle("Region")}}},[t._v("Region "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleRegion"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavRegion","aria-labelledby":"NavRegion","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.regionLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.regionLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.region_id,expression:"row.region_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"region_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Region")]),t._l(t.regions,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Destination")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",body:"",region_id:"",preview:"",image:"",image_alt:"",image_title:"",status:!0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},regions:[],regionLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"destinations"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRegions()},methods:{fetchRegions:function(){var t=this;this.regionLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:25}};this.axios(a).then((function(a){t.regionLoading=!1,t.regions=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,body:this.row.body,region_id:this.row.region_id,image_url:this.row.image,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"73f764e2",null);a["default"]=h.exports},a518:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Dashboard")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Seen ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Unseen ")]):t._e(),"trash"!=t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Seen")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Unseen")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Name "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("name")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Email")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"show-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.name)+" ")])],1),e("td",{staticClass:"font-weight-semi-bold"},[t._v(" "+t._s(a.email)+" ")]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"show-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Show ")])],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Unseen":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Seen")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Email")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",name:"name",email:"email",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!1,exportLoading:!1,showLoading:!1,orderLoading:!1,btnLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"inbox"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,search:this.search,show:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t})})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Seen Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Unseen Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},ac5d:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsePage","data-toggle":"collapse","data-target":"#collapsePage"},on:{click:function(a){return t.collapseToggle("Page")}}},[t._v("Page "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconTogglePage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePage","aria-labelledby":"TabPage","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:900,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,body:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"pages"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name"))},methods:{addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,body:this.row.body,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"6b3adbf4",null);a["default"]=h.exports},b17a:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabCruise"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCruise","data-toggle":"collapse","data-target":"#collapseCruise"},on:{click:function(a){return t.collapseToggle("Cruise")}}},[t._v("Cruise "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleCruise"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseCruise","aria-labelledby":"TabCruise","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputRow1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputRow2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow3"}},[t._v("Short title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_title,expression:"row.short_title"}],staticClass:"form-control",attrs:{id:"inputRow3",type:"text"},domProps:{value:t.row.short_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_title",a.target.value)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-6 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow4"}},[t._v("Start price")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.start_price,expression:"row.start_price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow4",type:"number",min:"0"},domProps:{value:t.row.start_price},on:{input:function(a){a.target.composing||t.$set(t.row,"start_price",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-6 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow5"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow5",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor1"}},[t._v("Inclusion")]),e("editor",{attrs:{id:"iEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.inclusion,callback:function(a){t.$set(t.row,"inclusion",a)},expression:"row.inclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor2"}},[t._v("Exclusion")]),e("editor",{attrs:{id:"iEditor2","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.exclusion,callback:function(a){t.$set(t.row,"exclusion",a)},expression:"row.exclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"ieditor3"}},[t._v("Cruise Facilities")]),e("editor",{attrs:{id:"ieditor3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.cruise_facilities,callback:function(a){t.$set(t.row,"cruise_facilities",a)},expression:"row.cruise_facilities"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor4"}},[t._v("Guest Suite Facilities")]),e("editor",{attrs:{id:"iEditor4","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.guest_suite_facilities,callback:function(a){t.$set(t.row,"guest_suite_facilities",a)},expression:"row.guest_suite_facilities"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor5"}},[t._v("Cabin Facilities")]),e("editor",{attrs:{id:"iEditor5","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.cabin_facilities,callback:function(a){t.$set(t.row,"cabin_facilities",a)},expression:"row.cabin_facilities"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor6"}},[t._v("Cancellation Policies")]),e("editor",{attrs:{id:"iEditor6","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.cancellation_policies,callback:function(a){t.$set(t.row,"cancellation_policies",a)},expression:"row.cancellation_policies"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor7"}},[t._v("Short body")]),e("editor",{attrs:{id:"iEditor7","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iEditor8"}},[t._v("body")]),e("editor",{attrs:{id:"iEditor8","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPrices"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsePrices","data-toggle":"collapse","data-target":"#collapsePrices"},on:{click:function(a){return t.collapseToggle("Prices")}}},[t._v("Prices "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePrices"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePrices","aria-labelledby":"TabPrices","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.price_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Price Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_names[a],expression:"row.price_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.price_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.price_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,class:s>t.prices_items_length[a-1]?"hidden":"",attrs:{id:"sub_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pvInput"+a+"_"+s}},[t._v("Price Value")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_value[a+"_"+s],expression:"row.price_item_value[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pvInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_value[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_value,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pcInput"+a+"_"+s}},[t._v("Content")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_body[a+"_"+s],expression:"row.price_item_body[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pcInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_body[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_body,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()])])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItineraries"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItineraries","data-toggle":"collapse","data-target":"#collapseItineraries"},on:{click:function(a){return t.collapseToggle("Itineraries")}}},[t._v("Itineraries "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleItineraries"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItineraries","aria-labelledby":"TabItineraries","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.itinerarie_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm2_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption2(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Itinerarie Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_names[a],expression:"row.itinerarie_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.itinerarie_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,staticClass:"ui-for-div",class:s>t.itineraries_items_length[a-1]?"hidden":"",attrs:{id:"sub2_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-7"},[e("label",{attrs:{for:"tInput"+a+"_"+s}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_title[a+"_"+s],expression:"row.itinerarie_item_title[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"tInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_title[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_title,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-3"},[e("label",{attrs:{for:"sInput"+a+"_"+s}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_sort[a+"_"+s],expression:"row.itinerarie_item_sort[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"sInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_sort[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_sort,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption2(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-11"},[e("label",{attrs:{for:"bEditor"+a+"_"+s}},[t._v("Body")]),e("editor",{attrs:{id:"bEditor"+a+"_"+s,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.itinerarie_item_body[a+"_"+s],callback:function(e){t.$set(t.row.itinerarie_item_body,a+"_"+s,e)},expression:"row.itinerarie_item_body[i+'_'+x]"}})],1)])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub2(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm2()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavType"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavType","data-toggle":"collapse","data-target":"#collapseNavType"},on:{click:function(a){return t.collapseToggle("Type")}}},[t._v("Cruise Type "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleType"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavType","aria-labelledby":"NavType","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.typeLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.typeLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.cruise_type_id,expression:"row.cruise_type_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"cruise_type_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Cruise Type")]),t._l(t.types,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCabins"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCabins","data-toggle":"collapse","data-target":"#collapseNavCabins"},on:{click:function(a){return t.collapseToggle("Cabins")}}},[t._v("Multiple Cruise Cabins "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCabins"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCabins","aria-labelledby":"NavCabins","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.cabinLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.cabinLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.cabinsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search cabins","preselect-first":!1},model:{value:t.row.cabinsValues,callback:function(a){t.$set(t.row,"cabinsValues",a)},expression:"row.cabinsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavShortImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavShortImage","data-toggle":"collapse","data-target":"#collapseNavShortImage"},on:{click:function(a){return t.collapseToggle("ShortImage")}}},[t._v("Short Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleShortImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavShortImage","aria-labelledby":"NavShortImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.short_image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onShortImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_alt,expression:"row.short_image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_title,expression:"row.short_image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"View In Home":"Hide In Home")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Cruise")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("4160"),e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("8e5f"),c=e.n(l),d=e("ca72"),u=e("2685"),m=e.n(u),p={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:d["a"],Multiselect:c.a},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",title:"",slug:"",short_title:"",start_price:"",sort:0,inclusion:"",exclusion:"",cruise_facilities:"",guest_suite_facilities:"",cabin_facilities:"",cancellation_policies:"",short_body:"",body:"",price_key:0,prices:[],price_names:[],price_items:[],price_item_key:[],price_item_value:[],price_item_body:[],itinerarie_key:0,itineraries:[],itinerarie_names:[],itinerarie_sort:[],itinerarie_items:[],itinerarie_item_key:[],itinerarie_item_title:[],itinerarie_item_sort:[],itinerarie_item_body:[],cruise_type_id:"",cabinsValues:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",short_image_preview:"",short_image_base64:"",short_image_alt:"",short_image_title:"",status:1,view_in_home:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},types:[],typeLoading:!0,cabinsOptions:[],cabinLoading:!0,prices_items_length:[],itineraries_items_length:[],pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"cruises"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){if(t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.short_title=a.data.row.short_title,t.row.start_price=a.data.row.start_price,t.row.sort=a.data.row.sort,t.row.inclusion=a.data.row.inclusion,t.row.exclusion=a.data.row.exclusion,t.row.cruise_facilities=a.data.row.cruise_facilities,t.row.guest_suite_facilities=a.data.row.guest_suite_facilities,t.row.cabin_facilities=a.data.row.cabin_facilities,t.row.cancellation_policies=a.data.row.cancellation_policies,t.row.short_body=a.data.row.short_body,t.row.body=a.data.row.body,t.row.price_key=a.data.row.prices.length,a.data.row.prices)for(var e=1;e<=t.row.price_key;e++){var s=e-1;t.row.price_names[e]=a.data.row.prices[s].name,t.prices_items_length[s]=a.data.row.prices[s].items.length;for(var i=1;i<=a.data.row.prices[s].items.length;i++){var o=i-1;t.row.price_item_value[e+"_"+i]=a.data.row.prices[s].items[o].price_value,t.row.price_item_body[e+"_"+i]=a.data.row.prices[s].items[o].body}}if(t.row.itinerarie_key=a.data.row.itineraries.length,a.data.row.itineraries)for(var r=1;r<=t.row.itinerarie_key;r++){var n=r-1;t.row.itinerarie_names[r]=a.data.row.itineraries[n].title,t.row.itinerarie_sort[r]=a.data.row.itineraries[n].sort,t.itineraries_items_length[n]=a.data.row.itineraries[n].items.length;for(var l=1;l<=a.data.row.itineraries[n].items.length;l++){var c=l-1;t.row.itinerarie_item_title[r+"_"+l]=a.data.row.itineraries[n].items[c].title,t.row.itinerarie_item_body[r+"_"+l]=a.data.row.itineraries[n].items[c].body,t.row.itinerarie_item_sort[r+"_"+l]=a.data.row.itineraries[n].items[c].sort}}t.row.cruise_type_id=a.data.row.cruiseType?a.data.row.cruiseType.id:null,t.row.cabinsValues=a.data.row.cabinsValues,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.short_image_preview=a.data.row.short_image?a.data.row.short_image.image_url:null,t.row.short_image_base64=a.data.row.short_image?a.data.row.short_image.image_url:null,t.row.short_image_alt=a.data.row.short_image?a.data.row.short_image.image_alt:null,t.row.short_image_title=a.data.row.short_image?a.data.row.short_image.image_title:null,t.row.status=a.data.row.status,t.row.view_in_home=a.data.row.view_in_home,t.fetchCruiseTypes()})).catch((function(t){console.log("=="+t)})).finally((function(){}))},fetchCruiseTypes:function(){var t=this;this.regionLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/cruiseTypes",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.typeLoading=!1,t.types=a.data.rows,t.fetchCruiseCabins()})).catch((function(){})).finally((function(){}))},fetchCruiseCabins:function(){var t=this;this.cabinLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/cabins",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.cabinLoading=!1,t.cabinsOptions=a.data.cabins})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.price_names.length;a++){for(var e=1;e<=10;e++){var s=this.row.price_item_value[a+"_"+e],i=this.row.price_item_body[a+"_"+e];s&&(this.row.price_items[e]={item_value:s,item_body:i})}this.row.prices[a]={price_name:this.row.price_names[a],items:this.row.price_items},this.row.price_items=[]}for(var o=1;o<this.row.itinerarie_names.length;o++){for(var r=1;r<=10;r++){var n=this.row.itinerarie_item_title[o+"_"+r],l=this.row.itinerarie_item_sort[o+"_"+r],c=this.row.itinerarie_item_body[o+"_"+r];n&&(this.row.itinerarie_items[r]={item_title:n,item_sort:l,item_body:c})}this.row.itineraries[o]={itinerarie_name:this.row.itinerarie_names[o],itinerarie_sort:this.row.itinerarie_sort[o],items:this.row.itinerarie_items},this.row.itinerarie_items=[]}var d={headers:{"Content-Type":"multipart/form-data"}},u={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,short_title:this.row.short_title,start_price:this.row.start_price,sort:this.row.sort,inclusion:this.row.inclusion,exclusion:this.row.exclusion,cruise_facilities:this.row.cruise_facilities,guest_suite_facilities:this.row.guest_suite_facilities,cabin_facilities:this.row.cabin_facilities,cancellation_policies:this.row.cancellation_policies,short_body:this.row.short_body,body:this.row.body,prices:this.row.prices,itineraries:this.row.itineraries,cruise_type_id:this.row.cruise_type_id,cabins:this.row.cabinsValues,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,short_image_base64:this.row.short_image_base64,short_image_alt:this.row.short_image_alt,short_image_title:this.row.short_image_title,status:this.row.status,view_in_home:this.row.view_in_home}};this.axios(u,d).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},opnFrm:function(){this.row.price_key++,this.row.price_item_key[this.row.price_key]=0},removeOption:function(t){var a=this;document.querySelector("#frm_"+t).remove(),this.row.price_names[t]="",this.row.price_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.price_item_value[t+"_"+e]="",a.row.price_item_body[t+"_"+e]=""}))},opnSub:function(t){this.row.price_item_key[t]+=1,document.querySelector("#sub_"+t+"_"+this.row.price_item_key[t]).classList.remove("hidden")},removeSubOption:function(t,a){document.querySelector("#sub_"+t+"_"+a).classList.add("hidden"),this.row.price_item_value[t+"_"+a]="",this.row.price_item_body[t+"_"+a]="",this.row.price_item_key[t]-=1},opnFrm2:function(){this.row.itinerarie_key++,this.row.itinerarie_item_key[this.row.itinerarie_key]=0},removeOption2:function(t){var a=this;document.querySelector("#frm2_"+t).remove(),this.row.itinerarie_names[t]="",this.row.itinerarie_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.itinerarie_item_title[t+"_"+e]="",a.row.itinerarie_item_sort[t+"_"+e]="",a.row.itinerarie_item_body[t+"_"+e]=""}))},opnSub2:function(t){this.row.itinerarie_item_key[t]+=1,document.querySelector("#sub2_"+t+"_"+this.row.itinerarie_item_key[t]).classList.remove("hidden")},removeSubOption2:function(t,a){document.querySelector("#sub2_"+t+"_"+a).classList.add("hidden"),this.row.itinerarie_item_title[t+"_"+a]="",this.row.itinerarie_item_sort[t+"_"+a]="",this.row.itinerarie_item_body[t+"_"+a]="",this.row.itinerarie_item_key[t]-=1},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onShortImageChange:function(t){var a=t.target.files[0];this.row.short_image_preview=URL.createObjectURL(a),this.createBase64ShortImage(a)},createBase64ShortImage:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.short_image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=(e("60bc"),e("2877")),v=Object(g["a"])(h,s,i,!1,null,"ca1d9daa",null);a["default"]=v.exports},b3f1:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabRegion"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseRegion","data-toggle":"collapse","data-target":"#collapseRegion"},on:{click:function(a){return t.collapseToggle("Region")}}},[t._v("Region "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleRegion"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseRegion","aria-labelledby":"TabRegion","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",title:"",slug:"",sort:0,preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"regions"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name"))},methods:{addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"0ba6370f",null);a["default"]=p.exports},b50e:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("main",{staticClass:"d-flex flex-column u-hero u-hero--end mnh-100vh",staticStyle:{"background-image":"url(/assets/img-temp/bg/bg-1.png)"}},[e("div",{staticClass:"container py-7 my-auto"},[e("div",{staticClass:"d-flex align-items-center justify-content-center"},[e("div",{staticClass:"card my-7",staticStyle:{width:"460px","max-width":"100%"}},[e("div",{staticClass:"card-body p-4 p-lg-7"},[e("h2",{staticClass:"text-center mb-4"},[t._v("Recover password")]),e("form",{on:{submit:function(a){return a.preventDefault(),t.forget(a)}}},[t._m(0),e("div",{staticClass:"my-4"},[e("button",{staticClass:"btn btn-block btn-wide btn-primary text-uppercase",attrs:{type:"submit",disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",[t._v("Send confirmation")])])]),e("p",{staticClass:"text-center mb-0"},[t._v(" Remembered your password? "),e("router-link",{staticClass:"font-weight-semi-bold",attrs:{to:{name:"login"}}},[t._v("Log in")])],1)])])])])]),e("Footer")],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Enter your email"}})])}],o=e("b787"),r={name:"Forget",components:{Footer:o["a"]},data:function(){return{email:"",password:"",btnLoading:!1}},mounted:function(){},methods:{forget:function(){}}},n=r,l=e("2877"),c=Object(l["a"])(n,s,i,!1,null,null,null);a["default"]=c.exports},b787:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("footer",{staticClass:"u-footer d-md-flex align-items-md-center text-center text-md-left text-muted"},[e("ul",{staticClass:"list-inline mb-3 mb-md-0"},[e("li",{staticClass:"list-inline-item mr-4"})]),e("span",{staticClass:"text-muted ml-auto"})])])}],o={namme:"Footer",data:function(){return{row:{year:"2020",version:"v1.0 "}}},mounted:function(){}},r=o,n=e("2877"),l=Object(n["a"])(r,s,i,!1,null,null,null);a["a"]=l.exports},b899:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputText4"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputText4",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputText5"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputText5",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputText6"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputText6",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabRegion"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseRegion","data-toggle":"collapse","data-target":"#collapseRegion"},on:{click:function(a){return t.collapseToggle("Region")}}},[t._v("Region "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleRegion"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseRegion","aria-labelledby":"TabRegion","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText2",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.image_preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Region")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,preview:"",image_base64:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"regions"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.sort=a.data.row.sort,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.image_title:null,t.row.status=a.data.row.status})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,slug:this.row.slug,title:this.row.title,sort:this.row.sort,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"70afc3b0",null);a["default"]=p.exports},bddc:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabAccommodation"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseAccommodation","data-toggle":"collapse","data-target":"#collapseAccommodation"},on:{click:function(a){return t.collapseToggle("Accommodation")}}},[t._v("Accommodation "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleAccommodation"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseAccommodation","aria-labelledby":"TabAccommodation","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPrices"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsePrices","data-toggle":"collapse","data-target":"#collapsePrices"},on:{click:function(a){return t.collapseToggle("Prices")}}},[t._v("Prices "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePrices"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePrices","aria-labelledby":"TabPrices","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.price_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Price Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_names[a],expression:"row.price_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.price_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.price_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,class:(t.prices_items_length[a-1]?s>t.prices_items_length[a-1]:s>1)?"hidden":"",attrs:{id:"sub_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pvInput"+a+"_"+s}},[t._v(" Price Value")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_values[a+"_"+s],expression:"row.price_item_values[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pvInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_values[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_values,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pcInput"+a+"_"+s}},[t._v("Content")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_body[a+"_"+s],expression:"row.price_item_body[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pcInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_body[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_body,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()])])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavHotels"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavHotels","data-toggle":"collapse","data-target":"#collapseNavHotels"},on:{click:function(a){return t.collapseToggle("Hotels")}}},[t._v("Multiple Hotels "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleHotels"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavHotels","aria-labelledby":"NavHotels","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.hotelLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.hotelLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.hotelsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search hotels","preselect-first":!1},model:{value:t.row.hotelsValues,callback:function(a){t.$set(t.row,"hotelsValues",a)},expression:"row.hotelsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Accommodation")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("4160"),e("b0c0"),e("d3b7"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("8e5f"),c=e.n(l),d=e("2685"),u=e.n(d),m={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Multiselect:c.a},data:function(){return{auth:{role:"",access_token:""},row:{name:"",price_key:0,prices:[],items:[],item_key:[],price_names:[],price_item_values:[],price_item_body:[],hotelsValues:[],status:1},hotelsOptions:[],hotelLoading:!0,prices_length:[],prices_items_length:[],pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"accommodations"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){if(t.pgLoading=!1,t.row.name=a.data.row.name,t.prices_length=a.data.row.prices,t.row.price_key=t.prices_length.length,t.prices_length)for(var e=1;e<=t.prices_length.length;e++){var s=e-1;t.row.price_names[e]=a.data.row.prices[s].name,t.row.item_key[e]=a.data.row.prices[s].items.length,t.prices_items_length[s]=a.data.row.prices[s].items.length;for(var i=1;i<=a.data.row.prices[s].items.length;i++){var o=i-1;t.row.price_item_values[e+"_"+i]=a.data.row.prices[s].items[o].price_value,t.row.price_item_body[e+"_"+i]=a.data.row.prices[s].items[o].body}}t.row.hotelsValues=a.data.row.hotelsValues?a.data.row.hotelsValues:null,t.row.status=a.data.row.status,t.fetchHotels()})).catch((function(t){console.log("err"+t)})).finally((function(){}))},fetchHotels:function(){var t=this;this.hotelLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/hotels",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.hotelLoading=!1,t.hotelsOptions=a.data.hotels})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.price_names.length;a++){for(var e=1;e<=10;e++){var s=this.row.price_item_values[a+"_"+e],i=this.row.price_item_body[a+"_"+e];s&&(this.row.items[e]={item_value:s,item_body:i})}this.row.prices[a]={price_name:this.row.price_names[a],items:this.row.items},this.row.items=[]}var o={headers:{"Content-Type":"multipart/form-data"}},r={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,name:this.row.name,prices:this.row.prices,hotels:this.row.hotelsValues,status:this.row.status}};this.axios(r,o).then((function(){t.btnLoading=!1,u.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,u.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},opnFrm:function(){this.row.price_key++,this.row.item_key[this.row.price_key]=0},removeOption:function(t){var a=this;document.querySelector("#frm_"+t).remove(),this.row.price_names[t]="",this.row.item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.price_item_values[t+"_"+e]="",a.row.price_item_body[t+"_"+e]=""}))},opnSub:function(t){0==this.row.item_key[t]?this.row.item_key[t]=2:this.row.item_key[t]+=1,document.querySelector("#sub_"+t+"_"+this.row.item_key[t]).classList.remove("hidden")},removeSubOption:function(t,a){document.querySelector("#sub_"+t+"_"+a).classList.add("hidden"),this.row.price_item_values[t+"_"+a]="",this.row.price_item_body[t+"_"+a]="",this.row.item_key[t]-=1},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},p=m,h=(e("60bc"),e("2877")),g=Object(h["a"])(p,s,i,!1,null,"9ffa7bfe",null);a["default"]=g.exports},bf3c:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"metaText1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"metaText1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"metaText2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"metaText2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"metaText3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"metaText3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPackage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCruise","data-toggle":"collapse","data-target":"#collapsePackage"},on:{click:function(a){return t.collapseToggle("Package")}}},[t._v("Package "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconTogglePackage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePackage","aria-labelledby":"TabPackage","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Short title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_title,expression:"row.short_title"}],staticClass:"form-control",attrs:{id:"inputText3",type:"text"},domProps:{value:t.row.short_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_title",a.target.value)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-8 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText4"}},[t._v("Popular")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.popular,expression:"row.popular"}],staticClass:"form-control",attrs:{id:"inputText4"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"popular",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Popular")]),e("option",{attrs:{value:"popular"}},[t._v("Popular")]),e("option",{attrs:{value:"topRated"}},[t._v("Top rated")])])])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText5"}},[t._v("Start price")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.start_price,expression:"row.start_price",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText5",type:"number",min:"0"},domProps:{value:t.row.start_price},on:{input:function(a){a.target.composing||t.$set(t.row,"start_price",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText6"}},[t._v("Stars")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.stars,expression:"row.stars",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText6",type:"number",min:"0"},domProps:{value:t.row.stars},on:{input:function(a){a.target.composing||t.$set(t.row,"stars",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText7"}},[t._v("Stars No.")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.stars_no,expression:"row.stars_no",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText7",type:"number",min:"0"},domProps:{value:t.row.stars_no},on:{input:function(a){a.target.composing||t.$set(t.row,"stars_no",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText8"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputText8",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText9"}},[t._v("Tour Type")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.tour_type,expression:"row.tour_type"}],staticClass:"form-control",attrs:{id:"inputText9",type:"text"},domProps:{value:t.row.tour_type},on:{input:function(a){a.target.composing||t.$set(t.row,"tour_type",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText10"}},[t._v("Duration")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.duration,expression:"row.duration"}],staticClass:"form-control",attrs:{id:"inputText10",type:"text"},domProps:{value:t.row.duration},on:{input:function(a){a.target.composing||t.$set(t.row,"duration",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Visited Location")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.visited_location,callback:function(a){t.$set(t.row,"visited_location",a)},expression:"row.visited_location"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor2"}},[t._v("Inclusion")]),e("editor",{attrs:{id:"inputEditor2","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.inclusion,callback:function(a){t.$set(t.row,"inclusion",a)},expression:"row.inclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor3"}},[t._v("Exclusion")]),e("editor",{attrs:{id:"inputEditor3","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.exclusion,callback:function(a){t.$set(t.row,"exclusion",a)},expression:"row.exclusion"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor4"}},[t._v("Short body")]),e("editor",{attrs:{id:"inputEditor4","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor5"}},[t._v("body")]),e("editor",{attrs:{id:"inputEditor5","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPrices"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsePrices","data-toggle":"collapse","data-target":"#collapsePrices"},on:{click:function(a){return t.collapseToggle("Prices")}}},[t._v("Prices "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePrices"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePrices","aria-labelledby":"TabPrices","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.price_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Price Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_names[a],expression:"row.price_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.price_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.price_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,class:0!=s?"hidden":"",attrs:{id:"sub_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pvInput"+a+"_"+s}},[t._v("Price Value")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_value[a+"_"+s],expression:"row.price_item_value[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pvInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_value[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_value,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pcInput"+a+"_"+s}},[t._v("Content")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_body[a+"_"+s],expression:"row.price_item_body[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pcInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_body[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_body,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()])])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItineraries"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItineraries","data-toggle":"collapse","data-target":"#collapseItineraries"},on:{click:function(a){return t.collapseToggle("Itineraries")}}},[t._v("Itineraries "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleItineraries"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItineraries","aria-labelledby":"TabItineraries","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.itinerarie_key,(function(a){return e("div",{key:"i2"+a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm2_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption2(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Itinerarie Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_names[a],expression:"row.itinerarie_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.itinerarie_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,staticClass:"ui-for-div",class:0!=s?"hidden":"",attrs:{id:"sub2_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-7"},[e("label",{attrs:{for:"tInput"+a+"_"+s}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_title[a+"_"+s],expression:"row.itinerarie_item_title[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"tInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_title[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_title,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-3"},[e("label",{attrs:{for:"sInput"+a+"_"+s}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.itinerarie_item_sort[a+"_"+s],expression:"row.itinerarie_item_sort[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"sInput"+a+"_"+s,type:"text"},domProps:{value:t.row.itinerarie_item_sort[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.itinerarie_item_sort,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption2(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-11"},[e("label",{attrs:{for:"bEditor"+a+"_"+s}},[t._v("Body")]),e("editor",{attrs:{id:"bEditor"+a+"_"+s,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.itinerarie_item_body[a+"_"+s],callback:function(e){t.$set(t.row.itinerarie_item_body,a+"_"+s,e)},expression:"row.itinerarie_item_body[i+'_'+x]"}})],1)])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub2(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm2()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabGalleries"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseGalleries","data-toggle":"collapse","data-target":"#collapseGalleries"},on:{click:function(a){return t.collapseToggle("Galleries")}}},[t._v("Galleries "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                        pull-right black",attrs:{id:"iconToggleGalleries"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseGalleries","aria-labelledby":"TabIGalleries","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.gallery_key,(function(a){return e("div",{key:"i3"+a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm3_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption3(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"gImageText"+a}},[t._v("Image")]),e("p",[t.row.gallery_image_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.gallery_image_preview[a]}}):t._e()]),e("input",{staticClass:"form-control",attrs:{id:"gImageText"+a,type:"file"},on:{change:function(e){return t.onGalleryImageChange(e,a)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-6 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"gAltText"+a}},[t._v("Image Alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.gallery_image_alt[a],expression:"row.gallery_image_alt[i]"}],staticClass:"form-control",attrs:{id:"gAltText"+a,type:"text"},domProps:{value:t.row.gallery_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.gallery_image_alt,a,e.target.value)}}})])]),e("div",{staticClass:"col-6 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"gTitleText"+a}},[t._v("Image Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.gallery_image_title[a],expression:"row.gallery_image_title[i]"}],staticClass:"form-control",attrs:{id:"gTitleText"+a,type:"text"},domProps:{value:t.row.gallery_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.gallery_image_title,a,e.target.value)}}})])])])])})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm3()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Category "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.categoryLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.categoryLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.category_id,expression:"row.category_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"category_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Category")]),t._l(t.categories,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavPackageTypes"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavPackageTypes","data-toggle":"collapse","data-target":"#collapseNavPackageTypes"},on:{click:function(a){return t.collapseToggle("PackageTypes")}}},[t._v("Package Types "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePackageTypes"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavPackageTypes","aria-labelledby":"NavPackageTypes","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packageTypesLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packageTypesLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.package_type_id,expression:"row.package_type_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"package_type_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Package Type")]),t._l(t.packageTypes,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleDestinations"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleDestinations","data-toggle":"collapse","data-target":"#collapseNavMultipleDestinations"},on:{click:function(a){return t.collapseToggle("MultipleDestinations")}}},[t._v(" Multiple Destinations "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMultipleDestinations"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleDestinations","aria-labelledby":"NavMultipleDestinations","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.destinationsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search destinations","preselect-first":!1},model:{value:t.row.destinationsValues,callback:function(a){t.$set(t.row,"destinationsValues",a)},expression:"row.destinationsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleAcommodations"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleAcommodations","data-toggle":"collapse","data-target":"#collapseNavMultipleAcommodations"},on:{click:function(a){return t.collapseToggle("MultipleAcommodations")}}},[t._v(" Multiple Acommodations "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMultipleAcommodations"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleAcommodations","aria-labelledby":"NavMultipleAcommodations","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.accommodationsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.accommodationsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.accommodationsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search accommodations","preselect-first":!1},model:{value:t.row.accommodationsValues,callback:function(a){t.$set(t.row,"accommodationsValues",a)},expression:"row.accommodationsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleHotels"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleHotels","data-toggle":"collapse","data-target":"#collapseNavMultipleHotels"},on:{click:function(a){return t.collapseToggle("MultipleHotels")}}},[t._v(" Multiple Hotels "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleHotels"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleHotels","aria-labelledby":"NavMultipleHotels","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.hotelsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.hotelsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.hotelsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search hotels","preselect-first":!1},model:{value:t.row.hotelsValues,callback:function(a){t.$set(t.row,"hotelsValues",a)},expression:"row.hotelsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultiplePackagesRelated"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultiplePackagesRelated","data-toggle":"collapse","data-target":"#collapseNavMultiplePackagesRelated"},on:{click:function(a){return t.collapseToggle("MultiplePackagesRelated")}}},[t._v(" Multiple Packages Related "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultiplePackagesRelated"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultiplePackagesRelated","aria-labelledby":"NavMultiplePackagesRelated","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packagesRelatedLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packagesRelatedLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.packagesRelatedOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search packages related","preselect-first":!1},model:{value:t.row.packagesRelatedValues,callback:function(a){t.$set(t.row,"packagesRelatedValues",a)},expression:"row.packagesRelatedValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleTags"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleTags","data-toggle":"collapse","data-target":"#collapseNavMultipleTags"},on:{click:function(a){return t.collapseToggle("MultipleTags")}}},[t._v("Multiple Tags "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleTags"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleTags","aria-labelledby":"NavMultipleTags","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.tagsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.tagsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.tagsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search tags","preselect-first":!1},model:{value:t.row.tagsValues,callback:function(a){t.$set(t.row,"tagsValues",a)},expression:"row.tagsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleIcons"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleIcons","data-toggle":"collapse","data-target":"#collapseNavMultipleIcons"},on:{click:function(a){return t.collapseToggle("MultipleIcons")}}},[t._v("Multiple Icons "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleIcons"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleIcons","aria-labelledby":"NavMultipleIcons","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.iconsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.iconsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.iconsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search icons","preselect-first":!1},model:{value:t.row.iconsValues,callback:function(a){t.$set(t.row,"iconsValues",a)},expression:"row.iconsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavShortImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavShortImage","data-toggle":"collapse","data-target":"#collapseNavShortImage"},on:{click:function(a){return t.collapseToggle("ShortImage")}}},[t._v("Short Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleShortImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavShortImage","aria-labelledby":"NavShortImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.short_image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onShortImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_alt,expression:"row.short_image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.short_image_title,expression:"row.short_image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.short_image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"short_image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_home},on:{click:t.onHome}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_home?"Show In Home":"Hide In Home")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch3"},domProps:{checked:t.row.view_in_destination_home},on:{click:t.onDestination}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch3"},domProps:{innerHTML:t._s(t.row.view_in_destination_home?"Show In Destination Home":"Hide In Destination Home")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch4"},domProps:{checked:t.row.is_combined_tour},on:{click:t.onCombindTour}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch4"},domProps:{innerHTML:t._s(t.row.is_combined_tour?"Is Combined Tour":"Not Combined Tour")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Package")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("4160"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("8e5f"),c=e.n(l),d=e("ca72"),u=e("2685"),m=e.n(u),p={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:d["a"],Multiselect:c.a},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",short_title:"",popular:"",start_price:"",stars:"",stars_no:"",sort:0,tour_type:"",duration:"",visited_locations:"",Inclusion:"",exclusion:"",short_body:"",body:"",price_key:0,prices:[],price_names:[],price_items:[],price_item_key:[],price_item_value:[],price_item_body:[],itinerarie_key:0,itineraries:[],itinerarie_names:[],itinerarie_sort:[],itinerarie_items:[],itinerarie_item_key:[],itinerarie_item_title:[],itinerarie_item_sort:[],itinerarie_item_body:[],galleries:[],gallery_key:0,gallery_image_preview:[],gallery_image_base64:[],gallery_image_alt:[],gallery_image_title:[],destination_id:"",category_id:"",package_type_id:"",destinationsValues:[],accommodationsValues:[],hotelsValues:[],packages_relatedValues:[],tagsValues:[],iconsValues:[],image_preview:"",image_base64:"",image_alt:"",image_title:"",short_image_preview:"",short_image_base64:"",short_image_alt:"",short_image_title:"",status:1,view_in_home:0,view_in_destination_home:0,is_combined_tour:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinations:[],destinationLoading:!0,categories:[],categoryLoading:!0,packageTypes:[],packageTypesLoading:!0,destinationsOptions:[],destinationsLoading:!0,accommodationsOptions:[],accommodationsLoading:!0,hotelsOptions:[],hotelsLoading:!0,packagesRelatedOptions:[],packagesRelatedLoading:!0,tagsOptions:[],tagsLoading:!0,iconsOptions:[],iconsLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"packages"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchDestination()},methods:{fetchDestination:function(){var t=this;this.destinationLoading=!0,this.destinationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows,t.fetchCategories()})).catch((function(){})).finally((function(){}))},fetchCategories:function(){var t=this;this.categoryLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/categories",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.categoryLoading=!1,t.categories=a.data.rows,t.fetchPackageTypes()})).catch((function(){})).finally((function(){}))},fetchPackageTypes:function(){var t=this;this.packageTypesLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packageTypes",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.packageTypesLoading=!1,t.packageTypes=a.data.rows,t.fetchMultipleDestinations()})).catch((function(){})).finally((function(){}))},fetchMultipleDestinations:function(){var t=this;this.destinationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/destinations",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationsLoading=!1,t.destinationsOptions=a.data.destinations,t.fetchMultipleAccommodations()})).catch((function(){})).finally((function(){}))},fetchMultipleAccommodations:function(){var t=this;this.accommodationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/accommodations",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.accommodationsLoading=!1,t.accommodationsOptions=a.data.accommodations,t.fetchMultipleHotels()})).catch((function(){})).finally((function(){}))},fetchMultipleHotels:function(){var t=this;this.hotelsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/hotels",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.hotelsLoading=!1,t.hotelsOptions=a.data.hotels,t.fetchMultiplePackagesRelated()})).catch((function(){})).finally((function(){}))},fetchMultiplePackagesRelated:function(){var t=this;this.packagesRelatedLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packages",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.packagesRelatedLoading=!1,t.packagesRelatedOptions=a.data.packages,t.fetchMultipleTags()})).catch((function(){})).finally((function(){}))},fetchMultipleTags:function(){var t=this;this.tagsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tags",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.tagsLoading=!1,t.tagsOptions=a.data.tags,t.fetchMultipleIcons()})).catch((function(){})).finally((function(){}))},fetchMultipleIcons:function(){var t=this;this.iconsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/icons",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.iconsLoading=!1,t.iconsOptions=a.data.icons})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.price_names.length;a++){for(var e=1;e<=10;e++){var s=this.row.price_item_value[a+"_"+e],i=this.row.price_item_body[a+"_"+e];s&&(this.row.price_items[e]={item_value:s,item_body:i})}this.row.prices[a]={price_name:this.row.price_names[a],items:this.row.price_items},this.row.price_items=[]}for(var o=1;o<this.row.itinerarie_names.length;o++){for(var r=1;r<=10;r++){var n=this.row.itinerarie_item_title[o+"_"+r],l=this.row.itinerarie_item_sort[o+"_"+r],c=this.row.itinerarie_item_body[o+"_"+r];n&&(this.row.itinerarie_items[r]={item_title:n,item_sort:l,item_body:c})}this.row.itineraries[o]={itinerarie_name:this.row.itinerarie_names[o],itinerarie_sort:this.row.itinerarie_sort[o],items:this.row.itinerarie_items},this.row.itinerarie_items=[]}for(var d=1;d<this.row.gallery_image_base64.length;d++)this.row.galleries[d]={gallery_image_base64:this.row.gallery_image_base64[d],gallery_image_alt:this.row.gallery_image_alt[d],gallery_image_title:this.row.gallery_image_title[d]};var u={headers:{"Content-Type":"multipart/form-data"}},p={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,short_title:this.row.short_title,popular:this.row.popular,start_price:this.row.start_price,stars:this.row.stars,stars_no:this.row.stars_no,sort:this.row.sort,tour_type:this.row.tour_type,duration:this.row.duration,visited_locations:this.row.visited_locations,inclusion:this.row.inclusion,exclusion:this.row.exclusion,short_body:this.row.short_body,body:this.row.body,prices:this.row.prices,itineraries:this.row.itineraries,galleries:this.row.galleries,destination_id:this.row.destination_id,category_id:this.row.category_id,package_type_id:this.row.package_type_id,destinations:this.row.destinationsValues,accommodations:this.row.accommodationsValues,hotels:this.row.hotelsValues,packagesRelated:this.row.packagesRelatedValues,tags:this.row.tagsValues,icons:this.row.iconsValues,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,short_image_base64:this.row.short_image_base64,short_image_alt:this.row.short_image_alt,short_image_title:this.row.short_image_title,status:this.row.status,view_in_home:this.row.view_in_home,view_in_destination_home:this.row.view_in_destination_home,is_combined_tour:this.row.is_combined_tour}};this.axios(p,u).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},opnFrm:function(){this.row.price_key++,this.row.price_item_key[this.row.price_key]=0},removeOption:function(t){var a=this;document.querySelector("#frm_"+t).remove(),this.row.price_names[t]="",this.row.price_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.price_item_value[t+"_"+e]="",a.row.price_item_body[t+"_"+e]=""}))},opnSub:function(t){this.row.price_item_key[t]+=1,document.querySelector("#sub_"+t+"_"+this.row.price_item_key[t]).classList.remove("hidden")},removeSubOption:function(t,a){document.querySelector("#sub_"+t+"_"+a).classList.add("hidden"),this.row.price_item_value[t+"_"+a]="",this.row.price_item_body[t+"_"+a]="",this.row.price_item_key[t]-=1},opnFrm2:function(){this.row.itinerarie_key++,this.row.itinerarie_item_key[this.row.itinerarie_key]=0},removeOption2:function(t){var a=this;document.querySelector("#frm2_"+t).remove(),this.row.itinerarie_names[t]="",this.row.itinerarie_item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.itinerarie_item_title[t+"_"+e]="",a.row.itinerarie_item_sort[t+"_"+e]="",a.row.itinerarie_item_body[t+"_"+e]=""}))},opnSub2:function(t){this.row.itinerarie_item_key[t]+=1,document.querySelector("#sub2_"+t+"_"+this.row.itinerarie_item_key[t]).classList.remove("hidden")},removeSubOption2:function(t,a){document.querySelector("#sub2_"+t+"_"+a).classList.add("hidden"),this.row.itinerarie_item_title[t+"_"+a]="",this.row.itinerarie_item_sort[t+"_"+a]="",this.row.itinerarie_item_body[t+"_"+a]="",this.row.itinerarie_item_key[t]-=1},opnFrm3:function(){this.row.gallery_key++},removeOption3:function(t){document.querySelector("#frm3_"+t).remove(),this.row.gallery_image_preview[t]="",this.row.gallery_image_base64[t]="",this.row.gallery_image_alt[t]="",this.row.gallery_image_title[t]=""},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onGalleryImageChange:function(t,a){var e=t.target.files[0];this.row.gallery_image_preview[a]=URL.createObjectURL(e),this.createBase64Gallery(e,a)},createBase64Gallery:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.gallery_image_base64[a]=t.target.result}},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onShortImageChange:function(t){var a=t.target.files[0];this.row.short_image_preview=URL.createObjectURL(a),this.createBase64ShortImage(a)},createBase64ShortImage:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.short_image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHome:function(){this.row.view_in_home?this.row.view_in_home=0:this.row.view_in_home=1},onDestination:function(){this.row.view_in_destination_home?this.row.view_in_destination_home=0:this.row.view_in_destination_home=1},onCombindTour:function(){this.row.is_combined_tour?this.row.is_combined_tour=0:this.row.is_combined_tour=1},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=(e("60bc"),e("2877")),v=Object(g["a"])(h,s,i,!1,null,"d992ac70",null);a["default"]=v.exports},bf6c:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" ")]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabTenant"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseTenant","data-toggle":"collapse","data-target":"#collapseTenant"},on:{click:function(a){return t.collapseToggle("Tenant")}}},[t._v("Tenant "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleTenant"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseTenant","aria-labelledby":"TabTenant","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabApplications"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseApplications","data-toggle":"collapse","data-target":"#collapseApplications"},on:{click:function(a){return t.collapseToggle("Applications")}}},[t._v("Applications "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleApplications"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseApplications","aria-labelledby":"TabApplications","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3 text-center"},[t.applicationsLoading?e("div",{staticClass:"form-group"},[t._m(0)]):t._e()]),t.applicationsLoading?t._e():e("div",{staticClass:"row col-12 pt-3 ui-ml10"},t._l(t.applications,(function(a,s){return e("div",{key:s,staticClass:"form-group custom-switch col-4 mt-3"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:a.id},domProps:{value:a.id},on:{change:function(e){return t.isChecked(e,a.id)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:a.id}},[t._v(" "+t._s(a.name)+" ")])])})),0)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDomain"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDomain","data-toggle":"collapse","data-target":"#collapseNavDomain"},on:{click:function(a){return t.collapseToggle("Domain")}}},[t._v("Domain "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDomain"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDomain","aria-labelledby":"NavDomain","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.domain,expression:"row.domain"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.domain},on:{input:function(a){a.target.composing||t.$set(t.row,"domain",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-5 mb-5 spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],o=(e("c975"),e("a434"),e("b0c0"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",applications_ids:[],domain:[],status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,applications:[],applicationsLoading:!0,refs:"tenants"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),this.fetchApplications()},methods:{fetchApplications:function(){var t=this;this.applicationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/applications",method:"GET",data:{},params:{status:!0,paginate:100}};this.axios(a).then((function(a){t.applicationsLoading=!1,t.applications=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{name:this.row.name,applications_ids:this.row.applications_ids,domain:this.row.domain,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},isChecked:function(t,a){t.target.checked?this.row.applications_ids.push(a):this.row.applications_ids.splice(this.row.applications_ids.indexOf(a),1)},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"1b2464ad",null);a["default"]=p.exports},c4d5:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabAccommodation"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseAccommodation","data-toggle":"collapse","data-target":"#collapseAccommodation"},on:{click:function(a){return t.collapseToggle("Accommodation")}}},[t._v("Accommodation "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleAccommodation"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseAccommodation","aria-labelledby":"TabAccommodation","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabPrices"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapsePrices","data-toggle":"collapse","data-target":"#collapsePrices"},on:{click:function(a){return t.collapseToggle("Prices")}}},[t._v("Prices "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePrices"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapsePrices","aria-labelledby":"TabPrices","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.price_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"iInput"+a}},[t._v("Price Name "+t._s(a))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_names[a],expression:"row.price_names[i]"}],staticClass:"form-control",attrs:{id:"iInput"+a,type:"text"},domProps:{value:t.row.price_names[a]},on:{input:function(e){e.target.composing||t.$set(t.row.price_names,a,e.target.value)}}})]),t._l(10,(function(s){return e("div",{key:s,class:0!=s?"hidden":"",attrs:{id:"sub_"+a+"_"+s}},[e("div",{staticClass:"row col-12 ui-ml-unset"},[e("div",{staticClass:"form-group col-1"}),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pvInput"+a+"_"+s}},[t._v("Price Value")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_values[a+"_"+s],expression:"row.price_item_values[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pvInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_values[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_values,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-5"},[e("label",{attrs:{for:"pcInput"+a+"_"+s}},[t._v("Content")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.price_item_body[a+"_"+s],expression:"row.price_item_body[i+'_'+x]"}],staticClass:"form-control",attrs:{id:"pcInput"+a+"_"+s,type:"text"},domProps:{value:t.row.price_item_body[a+"_"+s]},on:{input:function(e){e.target.composing||t.$set(t.row.price_item_body,a+"_"+s,e.target.value)}}})]),e("div",{staticClass:"form-group col-1"},[0!=s?e("button",{staticClass:"btn btn-circle btn-with-icon ui-mt30",attrs:{type:"button"},on:{click:function(e){return t.removeSubOption(a,s)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()])])])})),e("div",{staticClass:"form-group col-1"},[e("button",{staticClass:"btn btn-secondary btn-circle btn-with-icon ui-mt30 ui-ml-20",attrs:{type:"button"},on:{click:function(e){return t.opnSub(a)}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavHotels"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavHotels","data-toggle":"collapse","data-target":"#collapseNavHotels"},on:{click:function(a){return t.collapseToggle("Hotels")}}},[t._v("Multiple Hotels "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleHotels"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavHotels","aria-labelledby":"NavHotels","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.hotelLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.hotelLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.hotelsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search hotels","preselect-first":!1},model:{value:t.row.hotelsValues,callback:function(a){t.$set(t.row,"hotelsValues",a)},expression:"row.hotelsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Accommodation")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("4160"),e("b0c0"),e("d3b7"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("8e5f"),c=e.n(l),d=e("2685"),u=e.n(d),m={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Multiselect:c.a},data:function(){return{auth:{role:"",access_token:""},row:{name:"",price_key:0,prices:[],items:[],item_key:[],price_names:[],price_item_values:[],price_item_body:[],hotelsValues:[],status:1},hotelsOptions:[],hotelLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"accommodations"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchHotels()},methods:{fetchHotels:function(){var t=this;this.hotelLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/hotels",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.hotelLoading=!1,t.hotelsOptions=a.data.hotels})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<this.row.price_names.length;a++){for(var e=1;e<=10;e++){var s=this.row.price_item_values[a+"_"+e],i=this.row.price_item_body[a+"_"+e];s&&(this.row.items[e]={item_value:s,item_body:i})}this.row.prices[a]={price_name:this.row.price_names[a],items:this.row.items},this.row.items=[]}var o={headers:{"Content-Type":"multipart/form-data"}},r={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,name:this.row.name,prices:this.row.prices,hotels:this.row.hotelsValues,status:this.row.status}};this.axios(r,o).then((function(){t.btnLoading=!1,u.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,u.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},opnFrm:function(){this.row.price_key++,this.row.item_key[this.row.price_key]=0},removeOption:function(t){var a=this;document.querySelector("#frm_"+t).remove(),this.row.price_names[t]="",this.row.item_key[t]="";var e=[1,2,3,4,5,6,7,8,9,10];e.forEach((function(e){a.row.price_item_values[t+"_"+e]="",a.row.price_item_body[t+"_"+e]=""}))},opnSub:function(t){this.row.item_key[t]+=1,document.querySelector("#sub_"+t+"_"+this.row.item_key[t]).classList.remove("hidden")},removeSubOption:function(t,a){document.querySelector("#sub_"+t+"_"+a).classList.add("hidden"),this.row.price_item_values[t+"_"+a]="",this.row.price_item_body[t+"_"+a]="",this.row.item_key[t]-=1},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},p=m,h=(e("60bc"),e("2877")),g=Object(h["a"])(p,s,i,!1,null,"4c82d1ee",null);a["default"]=g.exports},c5e4:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2"},[t._v("Cache Management "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"pull-rights ui-mt-15 pull-right "},[e("div",{staticClass:"dropdown"},[e("span",{staticClass:"badge badge-md badge-pill badge-secondary-soft"},[t._v(" "+t._s(t.auth.role)+" ")])])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Cache Management")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"card text-center"},[t._m(0),e("div",{staticClass:"card-body pt-0"},[e("button",{staticClass:"btn btn-secondary btn-pill btn-with-icon",attrs:{type:"button",disabled:t.btn1Loading},on:{click:t.func1}},[e("span",{staticClass:"btn-icon ti-wand mr-2"}),t.btn1Loading?t._e():e("span",[t._v("cache:clear")]),t.btn1Loading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("clearing... ")]):t._e()])])])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"card text-center"},[t._m(1),e("div",{staticClass:"card-body pt-0"},[e("button",{staticClass:"btn btn-danger btn-pill btn-with-icon",attrs:{type:"button",disabled:t.btn2Loading},on:{click:t.func2}},[e("span",{staticClass:"btn-icon ti-wand mr-2"}),t.btn2Loading?t._e():e("span",[t._v("config:clear")]),t.btn2Loading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("clearing... ")]):t._e()])])])]),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"card text-center"},[t._m(2),e("div",{staticClass:"card-body pt-0"},[e("button",{staticClass:"btn btn-warning btn-pill btn-with-icon",attrs:{type:"button",disabled:t.btn3Loading},on:{click:t.func3}},[e("span",{staticClass:"btn-icon ti-wand mr-2"}),t.btn3Loading?t._e():e("span",[t._v("view:clear")]),t.btn3Loading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("clearing... ")]):t._e()])])])]),e("div",{staticClass:"col-md-4 pt-5"},[e("div",{staticClass:"card text-center"},[t._m(3),e("div",{staticClass:"card-body pt-0"},[e("button",{staticClass:"btn btn-primary btn-pill btn-with-icon",attrs:{type:"button",disabled:t.btn4Loading},on:{click:t.func4}},[e("span",{staticClass:"btn-icon ti-wand mr-2"}),t.btn4Loading?t._e():e("span",[t._v("route:clear")]),t.btn4Loading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("clearing... ")]):t._e()])])])]),e("div",{staticClass:"col-md-4 pt-5"},[e("div",{staticClass:"card text-center"},[t._m(4),e("div",{staticClass:"card-body pt-0"},[e("button",{staticClass:"btn btn-info btn-pill btn-with-icon",attrs:{type:"button",disabled:t.btn5Loading},on:{click:t.func5}},[e("span",{staticClass:"btn-icon ti-wand mr-2"}),t.btn5Loading?t._e():e("span",[t._v("route:clear")]),t.btn5Loading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("clearing... ")]):t._e()])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("h4",[t._v("Clear Application Cache")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("h4",[t._v("Clear Configuration Cache")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("h4",[t._v("Clear Views Cache")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("h4",[t._v("Route Cache")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("h4",[t._v("Clear Route Cache")])])}],o=e("9cbd"),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Caches",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",accessToken:""},btn1Loading:!1,btn2Loading:!1,btn3Loading:!1,btn4Loading:!1,btn5Loading:!1}},mounted:function(){},created:function(){localStorage.getItem("accessToken")&&(this.auth.accessToken=localStorage.getItem("accessToken")),localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role"))},methods:{func1:function(){var t=this;this.btn1Loading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"};var a={url:window.baseURL+"/caches/cache-clear",method:"GET",data:{}};this.axios(a).then((function(){t.btn1Loading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Cache Cleared Successfully"})})).catch((function(){t.btn1Loading=!1,c.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})}))},func2:function(){var t=this;this.btn2Loading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"};var a={url:window.baseURL+"/caches/config-clear",method:"GET",data:{}};this.axios(a).then((function(){t.btn2Loading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Config Cleared Successfully"})})).catch((function(){t.btn2Loading=!1,c.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})}))},func3:function(){var t=this;this.btn3Loading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"};var a={url:window.baseURL+"/caches/view-clear",method:"GET",data:{}};this.axios(a).then((function(){t.btn3Loading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"View Cleared Successfully"})})).catch((function(){t.btn3Loading=!1,c.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})}))},func4:function(){var t=this;this.btn4Loading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"};var a={url:window.baseURL+"/caches/route-cache",method:"GET",data:{}};this.axios(a).then((function(){t.btn4Loading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Route Cached Successfully"})})).catch((function(){t.btn4Loading=!1,c.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})}))},func5:function(){var t=this;this.btn5Loading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"};var a={url:window.baseURL+"/caches/route-clear",method:"GET",data:{}};this.axios(a).then((function(){t.btn5Loading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Route Cleared Successfully"})})).catch((function(){t.btn5Loading=!1,c.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})}))}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,null,null);a["default"]=p.exports},cdac:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabType"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseType","data-toggle":"collapse","data-target":"#collapseType"},on:{click:function(a){return t.collapseToggle("Type")}}},[t._v("Cruise Type "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleType"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseType","aria-labelledby":"TabType","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"input2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"input3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Parent "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.parentLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.parentLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.parent_id,expression:"row.parent_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"parent_id",a.target.multiple?e:e[0])}}},[e("option",[t._v("Select Parent")]),e("option",{attrs:{value:""}},[t._v("No Parent")]),t._l(t.parents,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_header},on:{click:t.onHeader}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_header?"View In Header":"Hide In Header")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch3"},domProps:{checked:t.row.view_in_footer},on:{click:t.onFooter}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch3"},domProps:{innerHTML:t._s(t.row.view_in_footer?"View In Footer":"Hide In Footer")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Cruise Type")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("5319"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{title:"",slug:"",sort:0,parent_id:"",status:1,view_in_header:0,view_in_footer:0},parnets:[],parentLoading:!0,pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"cruisetypes"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.title=a.data.row.title,t.row.slug=a.data.row.slug,t.row.sort=a.data.row.sort,t.row.parent_id=a.data.row.parent?a.data.row.parent.id:null,t.row.status=a.data.row.status,t.row.view_in_header=a.data.row.view_in_header,t.row.view_in_footer=a.data.row.view_in_footer,t.fetchParents()})).catch((function(){})).finally((function(){}))},fetchParents:function(){var t=this;this.parentLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,parent_id:!1,paginate:100}};this.axios(a).then((function(a){t.parentLoading=!1,t.parents=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,title:this.row.title,slug:this.row.slug,sort:this.row.sort,parent_id:this.row.parent_id,status:this.row.status,view_in_header:this.row.view_in_header,view_in_footer:this.row.view_in_footer}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHeader:function(){this.row.view_in_header?this.row.view_in_header=0:this.row.view_in_header=1},onFooter:function(){this.row.view_in_footer?this.row.view_in_footer=0:this.row.view_in_footer=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"cf5dbf0c",null);a["default"]=p.exports},cf2f:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputMeta2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputMeta2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabArticle"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseArticle","data-toggle":"collapse","data-target":"#collapseArticle"},on:{click:function(a){return t.collapseToggle("Article")}}},[t._v("Article "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleArticle"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseArticle","aria-labelledby":"TabArticle","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputRow1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputRow2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Short body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.short_body,callback:function(a){t.$set(t.row,"short_body",a)},expression:"row.short_body"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor2"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor2","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabItems"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseItems","data-toggle":"collapse","data-target":"#collapseItems"},on:{click:function(a){return t.collapseToggle("Items")}}},[t._v("Items "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                                pull-right black",attrs:{id:"iconToggleItems"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseItems","aria-labelledby":"TabItems","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[t._l(t.row.item_key,(function(a){return e("div",{key:a,staticClass:"ui-for-div",class:0==a?"hidden":"",attrs:{id:"frm_"+a}},[e("div",{staticClass:"pull-right ui-mt-10"},[0!=a?e("button",{staticClass:"btn btn-danger btn-circle btn-with-icon btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeOption(a)}}},[e("span",{staticClass:"btn-icon ti-close font-bold"})]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"+a}},[t._v("Link")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_link[a],expression:"row.items_link[i]"}],staticClass:"form-control",attrs:{id:"input1"+a,type:"text"},domProps:{value:t.row.items_link[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_link,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input2"+a}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_sort[a],expression:"row.items_sort[i]"}],staticClass:"form-control",attrs:{id:"input2"+a,type:"text"},domProps:{value:t.row.items_sort[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_sort,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"ieditor3"+a}},[t._v("Body")]),e("editor",{attrs:{id:"ieditor3"+a,"api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.items_body[a],callback:function(e){t.$set(t.row.items_body,a,e)},expression:"row.items_body[i]"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input4"+a}},[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_alt[a],expression:"row.items_image_alt[i]"}],staticClass:"form-control",attrs:{id:"input4"+a,type:"text"},domProps:{value:t.row.items_image_alt[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_alt,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input5"+a}},[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.items_image_title[a],expression:"row.items_image_title[i]"}],staticClass:"form-control",attrs:{id:"input5"+a,type:"text"},domProps:{value:t.row.items_image_title[a]},on:{input:function(e){e.target.composing||t.$set(t.row.items_image_title,a,e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input6"+a}},[t._v("Image")]),e("p",[t.row.items_preview[a]?e("img",{staticClass:"custom-image",attrs:{src:t.row.items_preview[a]}}):t._e()]),e("input",{ref:"myDropify",refInFor:!0,staticClass:"form-control",attrs:{id:"input6"+a,type:"file"},on:{change:function(e){return t.onItemsImageChange(e,a)}}})])])})),e("div",{staticClass:"row pull-right"},[e("button",{staticClass:"btn btn-dark btn-circle btn-with-icon",attrs:{type:"button"},on:{click:function(a){return t.opnFrm()}}},[e("span",{staticClass:"btn-icon ti-plus font-bold"})])])],2)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavWriter"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavWriter","data-toggle":"collapse","data-target":"#collapseNavWriter"},on:{click:function(a){return t.collapseToggle("Writer")}}},[t._v("Writer "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleWriter"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavWriter","aria-labelledby":"NavWriter","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.writerLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.writerLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.writer_id,expression:"row.writer_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"writer_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Writer")]),t._l(t.writers,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Category "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.categoryLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.categoryLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.category_id,expression:"row.category_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"category_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Category")]),t._l(t.categories,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavPackages"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavPackages","data-toggle":"collapse","data-target":"#collapseNavPackages"},on:{click:function(a){return t.collapseToggle("Packages")}}},[t._v("Multiple Related Packages "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconTogglePackages"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavPackages","aria-labelledby":"NavPackages","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.packageLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.packageLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.packagesOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search packages","preselect-first":!0},model:{value:t.row.packagesValues,callback:function(a){t.$set(t.row,"packagesValues",a)},expression:"row.packagesValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavMultipleTags"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavMultipleTags","data-toggle":"collapse","data-target":"#collapseNavMultipleTags"},on:{click:function(a){return t.collapseToggle("MultipleTags")}}},[t._v("Multiple Tags "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow black pull-right",attrs:{id:"iconToggleMultipleTags"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavMultipleTags","aria-labelledby":"NavMultipleTags","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.tagsLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.tagsLoading?t._e():e("multiselect",{ref:"multiselectRef",attrs:{id:"multiselect",autocomplete:"on",options:t.tagsOptions,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"hide-selected":!0,"preserve-search":!0,taggable:!1,placeholder:"Type to search tags","preselect-first":!1},model:{value:t.row.tagsValues,callback:function(a){t.$set(t.row,"tagsValues",a)},expression:"row.tagsValues"}})],1)])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.featured},on:{click:t.onFeatured}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.featured?"Featured Article":"Normal Article")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("8e5f"),d=e.n(c),u=e("2685"),m=e.n(u),p={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"],Multiselect:d.a},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",title:"",slug:"",sort:0,short_body:"",body:"",item_key:0,items:[],items_link:[],items_sort:[],items_body:[],items_preview:[],items_image_base64:[],items_image_alt:[],items_image_title:[],writer_id:"",destination_id:"",category_id:"",tagsValues:[],packagesValues:[],preview:"",image_base64:"",image_alt:"",image_title:"",status:1,featured:0},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},writers:[],writerLoading:!0,destinations:[],destinationLoading:!0,categories:[],categoryLoading:!0,tagsOptions:[],tagsLoading:!0,packagesOptions:[],packageLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"articles"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchWriters()},methods:{fetchWriters:function(){var t=this;this.writerLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/writers",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.writerLoading=!1,t.writers=a.data.rows,t.fetchDestinations()})).catch((function(){})).finally((function(){}))},fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows,t.fetchCategories()})).catch((function(){})).finally((function(){}))},fetchCategories:function(){var t=this;this.categoryLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/categories",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.categoryLoading=!1,t.categories=a.data.rows,t.fetchTags()})).catch((function(){})).finally((function(){}))},fetchTags:function(){var t=this;this.tagsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tags",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.tagsLoading=!1,t.tagsOptions=a.data.tags,t.fetchPackages()})).catch((function(){})).finally((function(){}))},fetchPackages:function(){var t=this;this.packageLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/packages",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.packageLoading=!1,t.packagesOptions=a.data.packages})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};for(var a=1;a<=this.row.item_key;a++)this.row.items[a]={link:this.row.items_link[a],body:this.row.items_body[a],sort:this.row.items_sort[a],image_base64:this.row.items_image_base64[a],image_alt:this.row.items_image_alt[a],image_title:this.row.items_image_title[a]};var e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,short_body:this.row.short_body,body:this.row.body,items:this.row.items,writer_id:this.row.writer_id,destination_id:this.row.destination_id,category_id:this.row.category_id,tags:this.row.tagsValues,packages:this.row.packagesValue,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,featured:this.row.featured,status:this.row.status}};this.axios(e).then((function(){t.btnLoading=!1,m.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,m.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},opnFrm:function(){this.row.item_key++},removeOption:function(t){document.querySelector("#frm_"+t).remove(),this.row.items_link[t]="",this.row.items_sort[t]="",this.row.items_body[t]="",this.row.items_preview[t]="",this.row.items_image_base64[t]="",this.row.items_image_alt[t]="",this.row.items_image_title[t]=""},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onItemsImageChange:function(t,a){var e=t.target.files[0];this.row.items_preview[a]=URL.createObjectURL(e),this.createItemsBase64Image(e,a)},createItemsBase64Image:function(t,a){var e=this,s=new FileReader;s.readAsDataURL(t),s.onload=function(t){e.row.items_image_base64[a]=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onFeatured:function(){this.row.featured?this.row.featured=0:this.row.featured=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},h=p,g=(e("60bc"),e("2877")),v=Object(g["a"])(h,s,i,!1,null,"65e226f2",null);a["default"]=v.exports},cf3e:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"updates"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},d0c6:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"30%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Writer")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("router-link",{staticClass:"text-decoration-hover",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"writer",filter:a.writer.title}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.writer.title)+" ")])])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Writer")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,sortLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"articles"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"DESC"==this.order?this.order="ASC":this.order="DESC",this.fetchData("",!0)},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,show:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},d311:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("header",{staticClass:"u-header u-header--error-page"},[e("router-link",{staticClass:"u-header-logo",attrs:{to:{name:"dashboard"}}},[e("img",{staticClass:"u-header-logo__icon",attrs:{src:"/assets/svg/logo-mini.svg",alt:"500"}}),e("img",{staticClass:"u-header-logo__text ml-1",attrs:{src:"/assets/svg/logo-text-dark.svg",alt:"500",width:"140"}})])],1),e("main",{staticClass:"u-error-content-wrap"},[e("div",{staticClass:"u-error-content container text-center my-auto"},[e("h1",{staticClass:"u-error__title"},[t._v("403")]),e("h2",{staticClass:"u-error__sub-title"},[t._v("Forbidden")]),e("p",{staticClass:"u-error"},[t._v(" User does not have the permission.")]),e("h4",{staticClass:"font-weight-semi-bold mb-0"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Return back")])],1),t._m(0),t._m(1),t._m(2),t._m(3)])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-top-left"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-1.svg",alt:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-top-right"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-2.svg",alt:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-bottom-left"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-3.svg",alt:"500"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("figure",{staticClass:"u-shape u-shape-bottom-right"},[e("img",{attrs:{src:"/assets/svg/shapes/shape-4.svg",alt:"500"}})])}],o={name:"Forbidden",mounted:function(){}},r=o,n=e("2877"),l=Object(n["a"])(r,s,i,!1,null,null,null);a["default"]=l.exports},d9f7:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" ")]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabUser"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseUser","data-toggle":"collapse","data-target":"#collapseUser"},on:{click:function(a){return t.collapseToggle("User")}}},[t._v("User "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleUser"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseUser","aria-labelledby":"TabUser","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputUser1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"inputUser1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputUser2"}},[t._v("Email Address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.email,expression:"row.email"}],staticClass:"form-control",attrs:{id:"inputUser2",type:"text"},domProps:{value:t.row.email},on:{input:function(a){a.target.composing||t.$set(t.row,"email",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputUser3"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.password,expression:"row.password"}],staticClass:"form-control",attrs:{id:"inputUser3",type:"password"},domProps:{value:t.row.password},on:{input:function(a){a.target.composing||t.$set(t.row,"password",a.target.value)}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavRole"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavRole","data-toggle":"collapse","data-target":"#collapseNavRole"},on:{click:function(a){return t.collapseToggle("Role")}}},[t._v("Role "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleRole"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavRole","aria-labelledby":"NavRole","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.roleLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.roleLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.role,expression:"row.role"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"role",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Role")]),t._l(t.roles,(function(a,s){return e("option",{key:s,domProps:{value:a.name}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Create "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",email:"",password:"",role:"",image_preview:"",image_base64:"",status:1},roles:[],roleLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"All Tenants",refs:"users"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRoles()},methods:{fetchRoles:function(){var t=this;this.roleLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/roles",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.roleLoading=!1,t.roles=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{name:this.row.name,email:this.row.email,password:this.row.password,role:this.row.role,image_base64:this.row.image_base64,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"809d4a8c",null);a["default"]=p.exports},da2c:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Destinations No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])])]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" "+t._s(a.destinations_no)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Destinations No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",slug:"slug",title:"title",order:"order",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"regions"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},ddc9:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==this.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==this.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==this.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==this.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("IP Address "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==this.order?"ti-arrow-down":"ASC"==this.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("ip")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[e("span",{staticClass:"default-color text-decoration-hover cursor-pointer",on:{click:function(e){return t.editRow(a)}}},[t._v(" "+t._s(a.ip_address)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){return t.editRow(a)}}},[t._v("Edit ")])]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]),e("li",[0==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("IP Address")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title",domProps:{innerHTML:t._s("Update"==t.btn_status?"Edit Row":"Add New")}})]),e("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.createOrUpdate(a)}}},[e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("IP Address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.ip_address,expression:"row.ip_address"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.ip_address},on:{input:function(a){a.target.composing||t.$set(t.row,"ip_address",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" "+t._s(t.btn_status)+" IP Address")])])])])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",ip_address:"ip_address",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},row:{encrypt_id:"",ip_address:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,btnLoading:!1,rows:[],show:10,pagination:{},edit:!1,btn_status:"Create",tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"ipblockers"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.edit=!1,a.btn_status="Create",a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},editRow:function(t){this.edit=!0,this.btn_status="Update",this.row.encrypt_id=t.encrypt_id,this.row.ip_address=t.ip_address},createOrUpdate:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a="POST",e=this.refs,s="Added";this.edit&&(a="PUT",e=this.refs+"/"+this.row.encrypt_id,s="Updated");var i={url:window.baseURL+"/"+e,method:a,data:{tenant_id:this.tenant_id,ip_address:this.row.ip_address}};this.axios(i).then((function(){t.btnLoading=!1,t.fetchData(),t.row.encrypt_id="",t.row.ip_address="",d.a.success({icon:"ti-check",title:"Great job,",message:"Item "+s+" Successfully"})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},e2a9:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabType"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseType"},on:{click:function(a){return t.collapseToggle("Type")}}},[t._v("Package Type "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleType"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseType","aria-labelledby":"TabType","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.name},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Parent "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.parentLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.parentLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.parent_id,expression:"row.parent_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"parent_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Parent")]),e("option",{attrs:{value:""}},[t._v("No Parent")]),t._l(t.parents,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_header},on:{click:t.onHeader}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_header?"View In Header":"Hide In Header")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch3"},domProps:{checked:t.row.view_in_footer},on:{click:t.onFooter}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch3"},domProps:{innerHTML:t._s(t.row.view_in_footer?"View In Footer":"Hide In Footer")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Package Type")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("5319"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",slug:"",sort:0,parent_id:"",status:1,view_in_header:0,view_in_footer:0},parnets:[],parentLoading:!0,pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"packagetypes"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.slug=a.data.row.slug,t.row.name=a.data.row.name,t.row.sort=a.data.row.sort,t.row.parent_id=a.data.row.parent?a.data.row.parent.id:null,t.row.status=a.data.row.status,t.row.view_in_header=a.data.row.view_in_header,t.row.view_in_footer=a.data.row.view_in_footer,t.fetchParents()})).catch((function(){})).finally((function(){}))},fetchParents:function(){var t=this;this.parentLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:"active",parent_id:!1,paginate:100}};this.axios(a).then((function(a){t.parentLoading=!1,t.parents=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,name:this.row.name,slug:this.row.slug,sort:this.row.sort,parent_id:this.row.parent_id,status:this.row.status,view_in_header:this.row.view_in_header,view_in_footer:this.row.view_in_footer}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.name)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHeader:function(){this.row.view_in_header?this.row.view_in_header=0:this.row.view_in_header=1},onFooter:function(){this.row.view_in_footer?this.row.view_in_footer=0:this.row.view_in_footer=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"aa6652d6",null);a["default"]=p.exports},e536:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"25%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Type "),t.typeLoading||"type"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.typeLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Views No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.cruiseType?t._e():e("span",[t._v(" - ")]),a.cruiseType?e("router-link",{staticClass:"text-decoration-hover",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"type",filter:a.cruiseType.slug}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.cruiseType.title)+" ")])]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),t._m(2,!0),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Type")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Views No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" 0 ")])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,sortLoading:!1,showLoading:!1,orderLoading:!1,typeLoading:!1,authorLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"cruises"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"DESC"==this.order?this.order="ASC":this.order="DESC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.typeLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,show:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.typeLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},eaf7:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"25%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Cruises No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[t._v(" 0 ")]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Cruises No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",slug:"slug",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"cabins"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},ebf6:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Destination")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.destination?e("router-link",{staticClass:"text-decoration-hover",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"destination",filter:a.destination.title}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.destination.title)+" ")])]):t._e(),a.destination?t._e():e("span",[t._v(" - ")])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Destination")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"6"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,sortLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"categories"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"DESC"==this.order?this.order="ASC":this.order="DESC",this.fetchData("",!0)},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,show:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},ec7d:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v("refs")])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabType"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseType"},on:{click:function(a){return t.collapseToggle("Type")}}},[t._v("Package Type "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleType"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseType","aria-labelledby":"TabType","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.name},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})])])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavCategory","data-toggle":"collapse","data-target":"#collapseNavCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Parent "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavCategory","aria-labelledby":"NavCategory","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.parentLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.parentLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.parent_id,expression:"row.parent_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"parent_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Parent")]),e("option",{attrs:{value:""}},[t._v("No Parent")]),t._l(t.parents,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch2"},domProps:{checked:t.row.view_in_header},on:{click:t.onHeader}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch2"},domProps:{innerHTML:t._s(t.row.view_in_header?"View In Header":"Hide In Header")}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch3"},domProps:{checked:t.row.view_in_footer},on:{click:t.onFooter}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch3"},domProps:{innerHTML:t._s(t.row.view_in_footer?"View In Footer":"Hide In Footer")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Package Type")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("5319"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",slug:"",sort:0,parent_id:"",status:1,view_in_header:0,view_in_footer:0},parnets:[],parentLoading:!0,pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"packagetypes"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchParents()},methods:{fetchParents:function(){var t=this;this.parentLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,parent_id:!1,paginate:100}};this.axios(a).then((function(a){t.parentLoading=!1,t.parents=a.data.rows})).catch((function(){})).finally((function(){}))},addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,name:this.row.name,slug:this.row.slug,sort:this.row.sort,parent_id:this.row.parent_id,status:this.row.status,view_in_header:this.row.view_in_header,view_in_footer:this.row.view_in_footer}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.name)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t||(t=this.row.slug),this.row.slug=t.replace(/\s+/g,"-")},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},onHeader:function(){this.row.view_in_header?this.row.view_in_header=0:this.row.view_in_header=1},onFooter:function(){this.row.view_in_footer?this.row.view_in_footer=0:this.row.view_in_footer=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"11a54080",null);a["default"]=p.exports},edd6:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("aside",{staticClass:"u-sidebar",attrs:{id:"sidebar"}},[e("div",{staticClass:"u-sidebar-inner"},[e("header",{staticClass:"u-sidebar-header"},[e("router-link",{staticClass:"u-sidebar-logo",attrs:{to:{name:"dashboard"}}},[e("img",{staticClass:"u-sidebar-logo__icon",attrs:{src:"/assets/svg/logo-mini.svg",alt:""}}),e("img",{staticClass:"u-sidebar-logo__text",attrs:{src:"/assets/svg/logo-text-light.svg",alt:""}})])],1),e("nav",{staticClass:"u-sidebar-nav"},[t.pgLoading?t._e():e("ul",{staticClass:"u-sidebar-nav-menu u-sidebar-nav-menu--top-level"},[e("li",{staticClass:"u-sidebar-nav-menu__item"},[e("router-link",{staticClass:"u-sidebar-nav-menu__link",class:"/applications"==this.$route.path?"active":"",attrs:{to:{name:"applications"}}},[e("span",{staticClass:"ti-layout-grid2 u-sidebar-nav-menu__item-icon"}),e("span",{staticClass:"u-sidebar-nav-menu__item-title"},[t._v("Applications")])])],1),t._l(t.navigation,(function(a,s){return e("li",{key:s,staticClass:"u-sidebar-nav-menu__item"},[e("router-link",{staticClass:"u-sidebar-nav-menu__link",class:t.path=="/"+a.url||t.path=="/"+a.url+"/status/active"||t.path=="/"+a.url+"/status/inactive"||t.path=="/"+a.url+"/trash"?"active":"",attrs:{to:{name:a.url}}},[e("span",{staticClass:"u-sidebar-nav-menu__item-icon",class:a.icon}),e("span",{staticClass:"u-sidebar-nav-menu__item-title text-capitalize"},[t._v(" "+t._s(a.name)+" ")])])],1)})),e("li",{staticClass:"u-sidebar-nav-menu__item"}),e("br"),e("br"),e("br"),e("br"),e("br"),e("br")],2)])])])])},i=[],o=(e("d3b7"),e("ac1f"),e("841c"),{name:"Navigation",props:["tenant"],data:function(){return{auth:{role:"",access_token:""},pgLoading:!0,navigation:[],tenant_id:0,path:"/"}},mounted:function(){},watch:{tenant:function(t){this.tenant_id=t,this.fetchNavigation()},$route:function(){localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),this.fetchNavigation()}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),this.$route.path&&(this.path=this.$route.path),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),this.fetchNavigation()},methods:{onChangeNav:function(t){this.$refs["itemComponent"+t].classList.contains("u-sidebar-nav--opened")?(this.$refs["itemComponent"+t].classList.remove("u-sidebar-nav--opened"),this.$refs["menuItemComponent"+t].style.display="none"):(this.$refs["itemComponent"+t].classList.add("u-sidebar-nav--opened"),this.$refs["menuItemComponent"+t].style.display="block")},fetchNavigation:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/applications",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,search:this.search,paginate:10}};this.axios(a).then((function(a){t.pgLoading=!1,t.navigation=a.data.rows})).catch((function(t){console.log("err"+t)})).finally((function(){}))}},beforeRouteEnter:function(t,a,e){e((function(t){console.log("here"+t)}))}}),r=o,n=e("2877"),l=Object(n["a"])(r,s,i,!1,null,null,null);a["a"]=l.exports},eebd:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[t._m(0),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Activity Logs")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right "},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:"Logs",name:"Logs.xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:"Logs",name:"Logs.xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("router-link",{staticClass:"pg-hd",attrs:{to:{name:"logs"}}},[t._v("All ")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.count_all)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show ")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(this.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==this.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==this.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==this.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==this.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0",attrs:{id:"printMe"}},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"30%"}},[t._v("Log")]),e("th",{staticClass:"text-center"},[t._v("Action")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")])])]),t.dataLoading?e("tbody",[t._m(1)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(2)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t._v(" "+t._s(a.log)+" ")]),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.action)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user_id?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user_id?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.avatar}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.username))])]):t._e()]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}})])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Log")]),e("th",{staticClass:"text-center"},[t._v("Action")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Date")])])])])]),0!==t.rows.length?e("nav",{attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h1",{staticClass:"h2 mb-2"},[t._v("Activity Logs "),e("div",{staticClass:"pull-rights ui-mt-15 pull-right "})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"5"}},[e("span",[t._v("No data found")])])])}],o=(e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"Logs",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",log:"log",action:"action",username:"username",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",accessToken:""},count_all:0,selected:[],selectAll:!1,plural:"",dataLoading:!1,showLoading:!1,exportLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{}}},mounted:function(){},created:function(){localStorage.getItem("accessToken")&&(this.auth.accessToken=localStorage.getItem("accessToken")),localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role"))},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},fetchData:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.csrf_token,accesstoken:this.auth.accessToken,permission:"admin.logs.index"};var s={headers:{"Content-Type":"multipart/form-data"}},i=this,o={};o["api_key"]=window.api_key,o["search"]=this.search,o["show"]=this.show,a=a||"/api/v1/dashboard/logs",this.axios.get(a,{params:o},s).then((function(a){t.dataLoading=!1,t.showLoading=!1,t.exportLoading=!1,401==a.data.statusCode?t.$router.push({name:"access-denied"}):200==a.data.statusCode?(t.count_all=a.data.data.all,t.rows=a.data.data.rows,a.data.data.pagination.total&&(t.total_data=a.data.data.pagination.total,i.makePagination(a.data.data.pagination))):d.a.warning({icon:"ti-alert",title:"Wow, man",message:"Slow down, "+a.data.errors})})).catch((function(){t.dataLoading=!1,t.something_went_wrong=!0}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.get("/api/v1/dashboard/logs/export/file?ids="+t.selected+"&api_key="+window.api_key);case 2:return e=a.sent,a.abrupt("return",e.data.data);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},f3bc:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"20%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Parent")]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Cruises No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[a.parent?e("span",[t._v(" "+t._s(a.parent.title))]):t._e(),a.parent?t._e():e("span",[t._v(" No Parent ")])])]),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[t._v(" 0 ")]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Parent")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Cruises No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",parent_id:"parent_id",title:"title",slug:"slug",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"cruisetypes"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},f42e:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" ")]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabTenant"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseTenant","data-toggle":"collapse","data-target":"#collapseTenant"},on:{click:function(a){return t.collapseToggle("Tenant")}}},[t._v("Tenant "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleTenant"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseTenant","aria-labelledby":"TabTenant","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"input1"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.name,expression:"row.name"}],staticClass:"form-control",attrs:{id:"input1",type:"text"},domProps:{value:t.row.name},on:{input:function(a){a.target.composing||t.$set(t.row,"name",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabApplications"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseApplications","data-toggle":"collapse","data-target":"#collapseApplications"},on:{click:function(a){return t.collapseToggle("Applications")}}},[t._v("Applications "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleApplications"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseApplications","aria-labelledby":"TabApplications","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3 text-center"},[t.applicationsLoading?e("div",{staticClass:"form-group"},[t._m(1)]):t._e()]),t.applicationsLoading?t._e():e("div",{staticClass:"row col-12 pt-3 ui-ml10"},t._l(t.applications,(function(a,s){return e("div",{key:s,staticClass:"form-group custom-switch col-4 mt-3"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:a.id},domProps:{value:a.id,checked:-1!==t.row.applications_ids.indexOf(a.id)||""},on:{change:function(e){return t.isChecked(e,a.id)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:a.id}},[t._v(" "+t._s(a.name)+" ")])])})),0)])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDomain"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDomain","data-toggle":"collapse","data-target":"#collapseNavDomain"},on:{click:function(a){return t.collapseToggle("Domain")}}},[t._v("Domain "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDomain"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDomain","aria-labelledby":"NavDomain","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.domain,expression:"row.domain"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.domain},on:{input:function(a){a.target.composing||t.$set(t.row,"domain",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",{staticClass:"text-capitalize"},[t._v(" Update "+t._s(t.refs))])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow mt-5",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mt-5 mb-5 spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],o=(e("c975"),e("a434"),e("b0c0"),e("d3b7"),e("3ca3"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("2685"),c=e.n(l),d={name:"Create",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{name:"",applications_ids:[],domain:[],status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!0,btnLoading:!1,applications:[],applicationsLoading:!0,refs:"tenants"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.name=a.data.row.name,t.row.applications_ids=a.data.row.applications_ids,t.row.domain=a.data.row.domains.domain,t.row.status=a.data.row.status,t.fetchApplications()})).catch((function(){})).finally((function(){}))},fetchApplications:function(){var t=this;this.applicationsLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/applications",method:"GET",data:{},params:{status:!0,paginate:100}};this.axios(a).then((function(a){t.applicationsLoading=!1,t.applications=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{name:this.row.name,applications_ids:this.row.applications_ids,domain:this.row.domain,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,c.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,c.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},isChecked:function(t,a){t.target.checked?this.row.applications_ids.push(a):this.row.applications_ids.splice(this.row.applications_ids.indexOf(a),1)},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},u=d,m=e("2877"),p=Object(m["a"])(u,s,i,!1,null,"25e0177d",null);a["default"]=p.exports},f969:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("div",{staticClass:"layout",staticStyle:{background:"url('/assets/images/bg/login.png')"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row full-height align-items-center"},[e("div",{staticClass:"col-md-5 mx-auto"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"p-15"},[e("div",{staticClass:"m-b-30 text-center"},[e("router-link",{attrs:{to:{name:"login"}}},[e("img",{staticClass:"img-responsive inline-block",staticStyle:{width:"150px"},attrs:{src:"/assets/images/logo/dc-logo.png",alt:"dc"}})])],1),e("form",{on:{submit:function(a){return a.preventDefault(),t.reset(a)}}},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[t._v("New Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.password,expression:"row.password"}],staticClass:"form-control",attrs:{type:"password",autocomplete:"off",required:""},domProps:{value:t.row.password},on:{input:function(a){a.target.composing||t.$set(t.row,"password",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[t._v("Confirm New Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.confirm_password,expression:"row.confirm_password"}],staticClass:"form-control",attrs:{type:"password",autocomplete:"off",required:""},domProps:{value:t.row.confirm_password},on:{input:function(a){a.target.composing||t.$set(t.row,"confirm_password",a.target.value)}}})]),e("div",{staticClass:"m-t-30 text-left"},[e("button",{staticClass:"btn btn-dark login-size f16"},[t.btnLoading?e("span",[e("div",{staticClass:"loader loader-xs loader-center"})]):t._e(),t.btnLoading?t._e():e("span",[t._v("Submit")])])])])])])])])])])])])},i=[],o={name:"forget",data:function(){return{row:{password:"",confirm_password:""},btnLoading:!1}}},r=o,n=e("2877"),l=Object(n["a"])(r,s,i,!1,null,"4c5fa0a4",null);a["default"]=l.exports},fb6f:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Edit")])])]),t.pgLoading?e("div",{staticClass:"row h-100"},[t._m(0)]):t._e(),t.pgLoading?t._e():e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.editRow(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabMeta"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseMeta","data-toggle":"collapse","data-target":"#collapseMeta"},on:{click:function(a){return t.collapseToggle("Meta")}}},[t._v("Meta "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleMeta"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseMeta","aria-labelledby":"TabMeta","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.row.meta_title?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_title.length)}}):t._e(),e("label",{attrs:{for:"inputMeta1"}},[t._v("Meta title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_title,expression:"row.meta_title"}],staticClass:"form-control",attrs:{id:"inputMeta1",type:"text"},domProps:{value:t.row.meta_title},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_keywords?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_keywords.length)}}):t._e(),e("label",{attrs:{for:"inputInput2"}},[t._v("Meta keywords")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_keywords,expression:"row.meta_keywords"}],staticClass:"form-control",attrs:{id:"inputInput2",rows:"5"},domProps:{value:t.row.meta_keywords},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_keywords",a.target.value)}}})]),e("div",{staticClass:"form-group"},[t.row.meta_description?e("div",{staticClass:"pull-right f12",domProps:{textContent:t._s(t.row.meta_description.length)}}):t._e(),e("label",{attrs:{for:"inputMeta3"}},[t._v("Meta description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.row.meta_description,expression:"row.meta_description"}],staticClass:"form-control",attrs:{id:"inputMeta3",rows:"5"},domProps:{value:t.row.meta_description},on:{input:function(a){a.target.composing||t.$set(t.row,"meta_description",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabCategory"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseCategory","data-toggle":"collapse","data-target":"#collapseCategory"},on:{click:function(a){return t.collapseToggle("Category")}}},[t._v("Category "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow \n                                            pull-right black",attrs:{id:"iconToggleCategory"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseCategory","aria-labelledby":"TabCategory","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputRow1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputRow2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"col-12 row no-padding ui-ml-unset"},[e("div",{staticClass:"col-8 no-lpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow3"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputRow3",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-4 no-rpadding"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputRow4"}},[t._v("Color")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.color,expression:"row.color"}],staticClass:"form-control ui-h45",attrs:{id:"inputRow4",type:"color"},domProps:{value:t.row.color},on:{input:function(a){a.target.composing||t.$set(t.row,"color",a.target.value)}}})])])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:600,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavDestination"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavDestination","data-toggle":"collapse","data-target":"#collapseNavDestination"},on:{click:function(a){return t.collapseToggle("Destination")}}},[t._v("Destination "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleDestination"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavDestination","aria-labelledby":"NavDestination","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[t.destinationLoading?e("div",{staticClass:"text-center"},[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e(),t.destinationLoading?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:t.row.destination_id,expression:"row.destination_id"}],staticClass:"form-control custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.row,"destination_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("Select Destination")]),t._l(t.destinations,(function(a,s){return e("optgroup",{key:s,attrs:{label:a.title}},t._l(a.destinations,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)}))],2)])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.image_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavIcon"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavIcon","data-toggle":"collapse","data-target":"#collapseNavIcon"},on:{click:function(a){return t.collapseToggle("Icon")}}},[t._v("Featued Icon "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleIcon"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavIcon","aria-labelledby":"NavIcon","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Icon")]),e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.icon_preview}}),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onIconChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Icon alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.icon_alt,expression:"row.icon_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.icon_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"icon_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Icon title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.Icon_title,expression:"row.Icon_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.Icon_title},on:{input:function(a){a.target.composing||t.$set(t.row,"Icon_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Update Category")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container text-center"},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])}],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Edit",components:{Header:o["a"],Navigation:r["a"],Footer:n["a"],Editor:l["a"]},data:function(){return{auth:{role:"",access_token:""},row:{meta_title:"",meta_keywords:"",meta_description:"",slug:"",title:"",sort:0,color:"",body:"",destination_id:"",parent_id:"",image_preview:"",image_base64:"",image_alt:"",image_title:"",icon_preview:"",icon_base64:"",icon_alt:"",icon_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},destinations:[],destinationLoading:!0,pgLoading:!0,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"categories"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.fetchRow()},methods:{fetchRow:function(){var t=this;this.pgLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"GET",data:{},params:{}};this.axios(a).then((function(a){t.pgLoading=!1,t.row.meta_title=a.data.row.meta?a.data.row.meta.meta_title:null,t.row.meta_keywords=a.data.row.meta?a.data.row.meta.meta_keywords:null,t.row.meta_description=a.data.row.meta?a.data.row.meta.meta_description:null,t.row.slug=a.data.row.slug,t.row.title=a.data.row.title,t.row.sort=a.data.row.sort,t.row.color=a.data.row.color,t.row.body=a.data.row.body,t.row.destination_id=a.data.row.destination?a.data.row.destination.id:null,t.row.image_preview=a.data.row.image?a.data.row.image.image_url:null,t.row.image_base64=a.data.row.image?a.data.row.image.image_url:null,t.row.image_alt=a.data.row.image?a.data.row.image.image_alt:null,t.row.image_title=a.data.row.image?a.data.row.image.age_title:null,t.row.icon_preview=a.data.row.icon?a.data.row.icon.image_url:null,t.row.icon_base64=a.data.row.icon?a.data.row.icon.image_url:null,t.row.icon_alt=a.data.row.icon?a.data.row.icon.image_alt:null,t.row.icon_title=a.data.row.icon?a.data.row.icon.age_title:null,t.row.status=a.data.row.status,t.fetchDestinations()})).catch((function(){})).finally((function(){}))},fetchDestinations:function(){var t=this;this.destinationLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/regions",method:"GET",data:{},params:{tenant_id:this.tenant_id,status:!0,paginate:100}};this.axios(a).then((function(a){t.destinationLoading=!1,t.destinations=a.data.rows})).catch((function(){})).finally((function(){}))},editRow:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs+"/"+this.$route.params.id,method:"PUT",data:{tenant_id:this.tenant_id,meta_title:this.row.meta_title,meta_keywords:this.row.meta_keywords,meta_description:this.row.meta_description,title:this.row.title,slug:this.row.slug,sort:this.row.sort,color:this.row.color,body:this.row.body,destination_id:this.row.destination_id,parent_id:this.row.parent_id,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,icon_base64:this.row.icon_base64,icon_alt:this.row.icon_alt,icon_title:this.row.icon_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Updated Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response.data.message}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},onImageChange:function(t){var a=t.target.files[0];this.row.image_preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onIconChange:function(t){var a=t.target.files[0];this.row.icon_preview=URL.createObjectURL(a),this.createBase64Icon(a)},createBase64Icon:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.icon_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,"e3516e82",null);a["default"]=h.exports},fc22:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header",{on:{headerToChild:t.onSearchSubmit}}),e("main",{staticClass:"u-main"},[e("Navigation",{attrs:{tenant:t.tenant_id}}),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(t._s(t.refs)+" "),t.permissions.add?e("router-link",{staticClass:"btn btn-primary btn-sm btn-pill ui-mt-10 ui-mb-2",attrs:{to:{name:"create-"+t.refs}}},[e("span",[t._v("Add New")])]):t._e(),e("div",{staticClass:"pull-rights ui-mt-15 pull-right"},[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-dark btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.tenantLoading}},[e("span",{staticClass:"btn-icon ti-home mr-2"}),t.tenantLoading?t._e():e("span",{staticClass:"ui-mr5"},[t._v(" "+t._s(t.tenant_name))]),t.tenantLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["root"==t.auth.role?e("a",{staticClass:"dropdown-item dropdown-pad",attrs:{href:"javascript:;"},on:{click:function(a){return t.changeTenant(0,"All Tenants")}}},[t._v(" All Tenants ")]):t._e(),t._l(t.tenants,(function(a,s){return e("a",{key:s,staticClass:"dropdown-pad dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeTenant(a.id,a.name)}}},[t._v(" "+t._s(a.name)+" ")])}))],2)])])],1),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.refs)+" ")])]),e("div",{staticClass:"pull-rights ui-mt-50 pull-right"},[e("div",{staticClass:"dropdown display-flex-inline"},[e("div",{staticClass:"dropdown ui-mr5"},[e("button",{staticClass:"btn btn-danger btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.bulkLoading}},[t.bulkLoading?t._e():e("span",[t._v("Bulk Actions")]),t.bulkLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu"},["inactive"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiActive()}}},[t._v("Active ")]):t._e(),"active"==t.status||""==t.status?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiInactive()}}},[t._v("Inactive ")]):t._e(),"trash"!=t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiMoveToTrash()}}},[t._v("Move to Trash ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiRestoreFromTrash()}}},[t._v("Restore ")]):t._e(),"trash"==t.status&&t.permissions.delete?e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.multiDeletePermanently()}}},[t._v("Delete Permanently ")]):t._e()])]),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:t.exportLoading}},[t.exportLoading?t._e():e("span",[t._v("Export")]),t.exportLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e()]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:t.refs,name:t.refs+".xls"}},[t._v("Excel ")]),e("download-excel",{staticClass:"dropdown-item cursor-pointer",attrs:{fetch:t.fetchExport,fields:t.exp.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,type:"csv",worksheet:t.refs,name:t.refs+".xls"}},[t._v("CSV ")]),e("a",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"}},[t._v("Print ")])],1)])])])]),e("div",{staticClass:"card"},[e("header",{staticClass:"card-header"},[e("h2",{staticClass:"h4 card-header-title"},[e("router-link",{staticClass:"pg-hd",class:""==t.status?"active":"",attrs:{to:{name:t.refs}}},[t._v("All")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.all)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"active"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"active"}}}},[t._v("Active")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.active)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"inactive"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"inactive"}}}},[t._v("Inactive")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.inactive)+") ")]),t._v(" | "),e("router-link",{staticClass:"pg-hd",class:"trash"==t.status?"active":"",attrs:{to:{name:"status-"+t.refs,params:{status:"trash"}}}},[t._v("Trash")]),e("span",{staticClass:"pg-hd no-decoration f14"},[t._v(" ("+t._s(t.statusBar.trash)+") ")]),e("div",{staticClass:"dropdown pull-right ui-mt-10"},[e("button",{staticClass:"btn btn-light btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v("Show")]),t.showLoading?t._e():e("span",[t._v(" "+t._s(t.show))]),t.showLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("div",{staticClass:"dropdown-menu ui-min-w100",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item cursor-pointer",class:10==t.show?"active":"",on:{click:function(a){return t.onShow(10)}}},[t._v("10 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:25==t.show?"active":"",on:{click:function(a){return t.onShow(25)}}},[t._v("25 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:50==t.show?"active":"",on:{click:function(a){return t.onShow(50)}}},[t._v("50 ")]),e("a",{staticClass:"dropdown-item cursor-pointer",class:100==t.show?"active":"",on:{click:function(a){return t.onShow(100)}}},[t._v("100 ")])])])],1)]),e("div",{staticClass:"card-body pt-0"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-hover mb-0"},[e("thead",[e("tr",[e("th",{staticStyle:{width:"5%"}},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",{staticStyle:{width:"30%"}},[t._v("Title "),t.orderLoading?t._e():e("span",{staticClass:"cursor-pointer ",class:"DESC"==t.order?"ti-arrow-down":"ASC"==t.order?"ti-arrow-up":"ti-exchange-vertical",on:{click:function(a){return t.onOrderBy("title")}}}),t.orderLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Destination "),t.authorLoading||"destination"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[t._v("Author "),t.authorLoading||"author"!=t.filter_by?t._e():e("span",{staticClass:"cursor-pointer ti-close",on:{click:function(a){return t.removeFilter()}}}),t.authorLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}})]):t._e()]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Packages No.")]),e("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[t._v("Date")]),e("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[t._v("Actions")])])]),t.dataLoading?e("tbody",[t._m(0)]):t._e(),t.dataLoading||t.rows.length?t._e():e("tbody",[t._m(1)]),!t.dataLoading&&t.rows.length?e("tbody",t._l(t.rows,(function(a,s){return e("tr",{key:s,staticClass:"f14"},[e("td",{staticClass:"font-weight-semi-bold"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-control-input",attrs:{id:"expBox"+a.id,type:"checkbox"},domProps:{value:a.id,checked:Array.isArray(t.selected)?t._i(t.selected,a.id)>-1:t.selected},on:{change:function(e){var s=t.selected,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=a.id,n=t._i(s,r);i.checked?n<0&&(t.selected=s.concat([r])):n>-1&&(t.selected=s.slice(0,n).concat(s.slice(n+1)))}else t.selected=o}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox"+a.id}})])]),e("td",{staticClass:"font-weight-semi-bold"},[t.permissions.edit?e("router-link",{staticClass:"default-color text-decoration-hover",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" "+t._s(a.title)+" ")]):t._e(),t.permissions.edit?t._e():e("span",[t._v(t._s(a.title))])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.destination?e("router-link",{staticClass:"text-decoration-hover",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"destination",filter:a.destination.encrypt_id}}}},[e("span",{staticClass:"badge badge-md badge-pill badge-danger-soft"},[t._v(" "+t._s(a.destination.title)+" ")])]):t._e(),a.destination?t._e():e("span",[t._v(" - ")])],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[a.user?t._e():e("span",{staticClass:"text-center"},[t._v(" - ")]),a.user?e("router-link",{staticClass:"text-decoration-hover black",attrs:{to:{name:"filter-"+t.refs,params:{filter_by:"author",filter:a.user.encrypt_id}}}},[a.user?e("div",{staticClass:"align-items-center"},[e("img",{staticClass:"u-avatar-xs rounded-circle mr-2",attrs:{src:a.user.image}}),e("span",{staticClass:"media-body"},[t._v(t._s(a.user.name))])]):t._e()]):t._e()],1),e("td",{staticClass:"font-weight-semi-bold text-center"},[e("span",[t._v(" "+t._s(a.packages)+" ")])]),e("td",{staticClass:"font-weight-semi-bold text-center f12",domProps:{innerHTML:t._s(a.deleted_at?a.deleted_at:a.updated_at?a.updated_at:a.created_at)}}),e("td",{staticClass:"text-center"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"u-icon-sm link-muted",attrs:{id:"tableWithImage1MenuInvoker",href:"javascript:;",role:"button","aria-haspopup":"true","aria-expanded":"false","data-toggle":"dropdown","data-offset":"8"}},[a.loading?t._e():e("span",{staticClass:"ti-more"}),a.loading?e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),e("div",{staticClass:"dropdown-menu dropdown-menu-right",staticStyle:{width:"150px"}},[e("div",{staticClass:"card border-0 p-3"},[e("ul",{staticClass:"list-unstyled mb-0"},[a.trash?t._e():e("li",[t.permissions.edit?e("router-link",{staticClass:"d-block link-dark",attrs:{to:{name:"edit-"+t.refs,params:{id:a.encrypt_id}}}},[t._v(" Edit ")]):t._e()],1),a.trash?t._e():e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"Inactive":"")},on:{click:function(e){a.loading=!0,t.inactivate(a.id)}}})]),!a.trash&&t.permissions.delete?e("li",[e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},domProps:{innerHTML:t._s(a.status?"":"Active")},on:{click:function(e){a.loading=!0,t.activate(a.id)}}})]):t._e(),e("li",[0==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.moveToTrash(a.id)}}},[t._v("Move to Trash ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.restoreFromTrash(a.id)}}},[t._v("Restore ")]):t._e(),1==a.trash&&t.permissions.delete?e("a",{staticClass:"d-block link-dark",attrs:{href:"javascript:;"},on:{click:function(e){a.loading=!0,t.deletePermanently(a.id)}}},[t._v("Delete Permanently ")]):t._e()])])])])])])])})),0):t._e(),e("tfoot",[e("tr",[e("th",[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"custom-control-input",attrs:{id:"expBox0",type:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{click:t.select,change:function(a){var e=t.selectAll,s=a.target,i=!!s.checked;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&(t.selectAll=e.concat([o])):r>-1&&(t.selectAll=e.slice(0,r).concat(e.slice(r+1)))}else t.selectAll=i}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"expBox0"}})])]),e("th",[t._v("Title")]),e("th",{staticClass:"text-center"},[t._v("Destination")]),e("th",{staticClass:"text-center"},[t._v("Author")]),e("th",{staticClass:"text-center"},[t._v("Packages No.")]),e("th",{staticClass:"text-center"},[t._v("Date")]),e("th",{staticClass:"text-center"},[t._v("Actions")])])])])]),0!==t.rows.length?e("nav",{staticStyle:{"margin-top":"20px"},attrs:{"aria-label":"Page navigation example ui-mt20"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.prev_page_url,!0)}}},[t._v("Previous")])]),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"javascript:"},on:{click:function(a){return t.fetchData(t.pagination.next_page_url,!0)}}},[t._v("Next")])])]),e("p",{staticClass:"pull-right ui-mt-50 f13"},[e("i",[t._v("Page "+t._s(t.pagination.current_page)+" or "+t._s(t.pagination.last_page))])])]):t._e()])])]),e("Footer")],1)],1)],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"7"}},[e("span",[t._v("No results found.")])])])}],o=(e("4de4"),e("a15b"),e("b0c0"),e("d3b7"),e("ac1f"),e("841c"),e("96cf"),e("1da1")),r=e("9cbd"),n=e("edd6"),l=e("b787"),c=e("2685"),d=e.n(c),u={name:"List",components:{Header:r["a"],Navigation:n["a"],Footer:l["a"]},data:function(){return{exp:{json_fields:{id:"id",title:"title",body:"body",created_at:"created_at"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]]},auth:{role:"",access_token:""},permissions:{add:!1,edit:!1,delete:!1},statusBar:{all:0,active:0,inactive:0,trash:0},search:"",status:"",filter_by:"",filter:"",order:"",order_by:"",selected:[],selectAll:!1,plural:"",dataLoading:!0,bulkLoading:!0,exportLoading:!0,authorLoading:!1,showLoading:!1,orderLoading:!1,something_went_wrong:!1,rows:[],show:10,pagination:{},tenant_id:0,tenant_name:"All Tenants",tenantLoading:!0,tenants:[],refs:"wikis"}},mounted:function(){},watch:{$route:function(){this.$route.params.status?this.status=this.$route.params.status:this.status="",this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchData("",!0)}},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name")),this.$route.params.status&&(this.status=this.$route.params.status),this.$route.params.filter_by&&(this.filter_by=this.$route.params.filter_by),this.$route.params.filter&&(this.filter=this.$route.params.filter),this.fetchTenants()},methods:{onSearchSubmit:function(t){this.search=t,this.fetchData("",!0)},onShow:function(t){this.showLoading=!0,this.show=t,this.fetchData("",!0)},onOrderBy:function(t){this.orderLoading=!0,this.order_by=t,"ASC"==this.order?this.order="DESC":this.order="ASC",this.fetchData("",!0)},removeFilter:function(){this.authorLoading=!0,this.filter="",this.filter_by="",this.$router.push({name:this.refs})},changeTenant:function(t,a){this.tenantLoading=!0,this.tenant_id=t,this.tenant_name=a,localStorage.setItem("tenant_id",t),localStorage.setItem("tenant_name",a),this.fetchData("",!0)},fetchTenants:function(){var t=this;this.tenantLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={url:window.baseURL+"/tenants",method:"GET",data:{},params:{status:"active",paginate:100}};this.axios(a).then((function(a){t.tenantLoading=!1,t.tenants=a.data.rows,"root"!=t.auth.role&&(localStorage.getItem("tenant_id")||(t.tenant_id=a.data.rows[0].id,t.tenant_name=a.data.rows[0].name)),t.fetchData("",!0)})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},fetchData:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(this.dataLoading=!0),this.something_went_wrong=!1,this.plural="",this.selectAll=!1,this.selected=[],this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var s=this,i={url:t||window.baseURL+"/"+this.refs,method:"GET",data:{},params:{tenant_id:this.tenant_id,status:this.status,filter_by:this.filter_by,filter:this.filter,search:this.search,paginate:this.show,order:this.order,order_by:this.order_by}};this.axios(i).then((function(t){a.dataLoading=!1,a.bulkLoading=!1,a.exportLoading=!1,a.showLoading=!1,a.orderLoading=!1,a.authorLoading=!1,a.tenantLoading=!1,a.statusBar.all=t.data.statusBar.all,a.statusBar.active=t.data.statusBar.active,a.statusBar.inactive=t.data.statusBar.inactive,a.statusBar.trash=t.data.statusBar.trash,a.permissions.add=t.data.permissions.add,a.permissions.edit=t.data.permissions.edit,a.permissions.delete=t.data.permissions.delete,a.rows=t.data.rows,t.data.paginate.total&&s.makePagination(t.data.paginate)})).catch((function(t){t.response&&403==t.response.status?(a.removeLocalStorage(),a.$router.push({name:"forbidden"})):(a.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:t.response?t.response.data.message:""+t}))})).finally((function(){}))},makePagination:function(t){var a={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url};this.pagination=a},fetchExport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(window.baseURL+"/"+t.refs+"/export?id="+t.selected);case 2:return e=a.sent,a.abrupt("return",e.data.rows);case 4:case"end":return a.stop()}}),a)})))()},startDownload:function(){this.exportLoading=!0},finishDownload:function(){this.exportLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"File Generated Successfully"})},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},select:function(){if(this.selected=[],!this.selectAll)for(var t in this.rows)this.selected.push(this.rows[t].id)},multiActive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.activate(this.selected.join()))},multiInactive:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.inactivate(this.selected.join()))},activate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/active/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Activated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},inactivate:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/inactive/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Inactivated Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiMoveToTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.moveToTrash(this.selected.join()))},moveToTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/trash/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Moved To Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiRestoreFromTrash:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.restoreFromTrash(this.selected.join()))},restoreFromTrash:function(t){var a=this;this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/restore/"+t,method:"POST",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Restored From Trash Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))},multiDeletePermanently:function(){0==this.selected.length?alert("No item(s) selected"):(this.plural="(s)",this.bulkLoading=!0,this.deletePermanently(this.selected.join()))},deletePermanently:function(t){var a=this;if(confirm("Are You Sure?")){this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var e={url:window.baseURL+"/"+this.refs+"/"+t,method:"DELETE",data:{}};this.axios(e).then((function(){a.fetchData(),d.a.success({icon:"ti-check",title:"Great job,",message:"Item"+a.plural+" Deleted Permanently Successfully"})})).catch((function(){a.fetchData(),d.a.error({icon:"ti-na",title:"Wow-wow,",message:"Something went wrong"})})).finally((function(){}))}else this.fetchData()}}},m=u,p=e("2877"),h=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=h.exports},fcae:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("Header"),e("main",{staticClass:"u-main"},[e("Navigation"),e("div",{staticClass:"u-content"},[e("div",{staticClass:"u-body min-h-700"},[e("h1",{staticClass:"h2 mb-2 text-capitalize"},[t._v(" "+t._s(t.refs)+" "),e("div",{staticClass:"pull-right ui-mt-15"},[e("span",{staticClass:"btn btn-dark btn-sm"},[e("span",{staticClass:"btn-icon ti-home mr-2"}),e("span",[t._v(" "+t._s(t.tenant_name)+" ")])])])]),e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),e("li",{staticClass:"breadcrumb-item text-capitalize"},[e("router-link",{attrs:{to:{name:t.refs}}},[t._v(t._s(t.refs))])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Add New")])])]),e("form",{staticClass:"h-100",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.addNew(a)}}},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordion"}},[e("div",{staticClass:"card-header",attrs:{id:"TabHotel"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseHotel","data-toggle":"collapse","data-target":"#collapseHotel"},on:{click:function(a){return t.collapseToggle("Hotel")}}},[t._v("Hotel "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleHotel"}})])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseHotel","aria-labelledby":"TabHotel","data-parent":"#accordion"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText1"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.title,expression:"row.title"}],staticClass:"form-control",attrs:{id:"inputText1",type:"text"},domProps:{value:t.row.title},on:{keyup:t.onTitleChange,input:function(a){a.target.composing||t.$set(t.row,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText2"}},[t._v("Slug")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.slug,expression:"row.slug"}],staticClass:"form-control text-lowercase",attrs:{id:"inputText2",type:"text"},domProps:{value:t.row.slug},on:{keydown:function(a){if(!a.type.indexOf("key")&&t._k(a.keyCode,"space",32,a.key,[" ","Spacebar"]))return null;a.preventDefault()},paste:t.onSlugPaste,change:function(a){return t.onSlugChange(!1)},input:function(a){a.target.composing||t.$set(t.row,"slug",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputText3"}},[t._v("Link")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.link,expression:"row.link"}],staticClass:"form-control",attrs:{id:"inputText3",type:"text"},domProps:{value:t.row.link},on:{input:function(a){a.target.composing||t.$set(t.row,"link",a.target.value)}}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"inputText4"}},[t._v("Sort")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.sort,expression:"row.sort",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputTex4",type:"number",min:"0"},domProps:{value:t.row.sort},on:{input:function(a){a.target.composing||t.$set(t.row,"sort",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"inputText5"}},[t._v("Stars")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.row.stars,expression:"row.stars",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"inputTex5",type:"number",min:"0",max:"5"},domProps:{value:t.row.stars},on:{input:function(a){a.target.composing||t.$set(t.row,"stars",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"inputEditor1"}},[t._v("Body")]),e("editor",{attrs:{id:"inputEditor1","api-key":t.editor.api_key,init:{height:300,menubar:t.editor.menubar,plugins:t.editor.plugins,toolbar:t.editor.toolbar}},model:{value:t.row.body,callback:function(a){t.$set(t.row,"body",a)},expression:"row.body"}})],1)])])])])])]),e("div",{staticClass:"col-md-4 mb-5"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavImage"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavImage","data-toggle":"collapse","data-target":"#collapseNavImage"},on:{click:function(a){return t.collapseToggle("Image")}}},[t._v("Featued Image "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleImage"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavImage","aria-labelledby":"NavImage","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Image")]),t.row.preview?e("img",{staticClass:"mb-2 custom-image",attrs:{src:t.row.preview}}):t._e(),e("input",{ref:"myDropify",staticClass:"form-control",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image alt")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_alt,expression:"row.image_alt"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_alt},on:{input:function(a){a.target.composing||t.$set(t.row,"image_alt",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Image title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.row.image_title,expression:"row.image_title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.row.image_title},on:{input:function(a){a.target.composing||t.$set(t.row,"image_title",a.target.value)}}})])])])])])]),e("div",{staticClass:"card mt-5"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"accordion",attrs:{id:"accordionNav"}},[e("div",{staticClass:"card-header",attrs:{id:"NavStatus"}},[e("h2",{staticClass:"h4 card-header-title",attrs:{"aria-expanded":"false","aria-controls":"collapseNavStatus","data-toggle":"collapse","data-target":"#collapseNavStatus"},on:{click:function(a){return t.collapseToggle("Status")}}},[t._v("Status & Visibility "),e("span",{staticClass:"ti-angle-up u-sidebar-nav-menu__item-arrow pull-right black",attrs:{id:"iconToggleStatus"}})])]),e("div",{staticClass:"collapse",attrs:{id:"collapseNavStatus","aria-labelledby":"NavStatus","data-parent":"#accordionNav"}},[e("div",{staticClass:"col-12 pt-3"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"custom-control custom-switch mb-2"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"customSwitch1"},domProps:{checked:t.row.status},on:{click:t.onStatus}}),e("label",{staticClass:"custom-control-label",attrs:{for:"customSwitch1"},domProps:{innerHTML:t._s(t.row.status?"Active":"Inactive")}})])])])])])])])])])]),e("div",{staticClass:"col-md-12 row"},[e("div",{staticClass:"form-group mr-2"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.btnLoading}},[t.btnLoading?e("span",[e("span",{staticClass:"spinner-grow spinner-grow-sm mr-1",attrs:{role:"status","aria-hidden":"true"}}),t._v("Loading... ")]):t._e(),t.btnLoading?t._e():e("span",{staticClass:"ti-check-box"}),t.btnLoading?t._e():e("span",[t._v(" Create Hotel")])])]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.btnLoading},on:{click:t.cancel}},[e("span",{staticClass:"ti-close"}),e("span",[t._v(" Cancel ")])])])])])]),e("Footer")],1)],1)],1)},i=[],o=(e("d3b7"),e("ac1f"),e("3ca3"),e("5319"),e("9911"),e("ddb0"),e("2b3d"),e("9cbd")),r=e("edd6"),n=e("b787"),l=e("ca72"),c=e("2685"),d=e.n(c),u={name:"Create",components:{Header:o["a"],Navigation:r["a"],Editor:l["a"],Footer:n["a"]},data:function(){return{auth:{role:"",access_token:""},row:{link:"",stars:"",sort:0,title:"",slug:"",body:"",preview:"",image_base:"",image_alt:"",image_title:"",status:1},editor:{api_key:window.editor_apiKey,menubar:window.editor_menubar,plugins:[window.editor_plugins],toolbar:window.editor_toolbar},pgLoading:!1,btnLoading:!1,tenant_id:0,tenant_name:"",refs:"hotels"}},mounted:function(){},computed:{},created:function(){localStorage.getItem("role")&&(this.auth.role=localStorage.getItem("role")),localStorage.getItem("access_token")&&(this.auth.access_token=localStorage.getItem("access_token")),localStorage.getItem("tenant_id")&&(this.tenant_id=localStorage.getItem("tenant_id")),localStorage.getItem("tenant_name")&&(this.tenant_name=localStorage.getItem("tenant_name"))},methods:{addNew:function(){var t=this;this.btnLoading=!0,this.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer "+this.auth.access_token};var a={headers:{"Content-Type":"multipart/form-data"}},e={url:window.baseURL+"/"+this.refs,method:"POST",data:{tenant_id:this.tenant_id,link:this.row.link,stars:this.row.stars,sort:this.row.sort,title:this.row.title,slug:this.row.slug,body:this.row.body,image_base64:this.row.image_base64,image_alt:this.row.image_alt,image_title:this.row.image_title,status:this.row.status}};this.axios(e,a).then((function(){t.btnLoading=!1,d.a.success({icon:"ti-check",title:"Great job,",message:"Item Added Successfully."}),t.$router.push({name:t.refs})})).catch((function(a){a.response&&403==a.response.status?(t.removeLocalStorage(),t.$router.push({name:"forbidden"})):(t.btnLoading=!1,d.a.warning({icon:"ti-alert",title:"Wow-man,",message:a.response?a.response.data.message:""+a}))})).finally((function(){}))},onTitleChange:function(){this.onSlugChange(this.row.title)},onSlugPaste:function(){var t=this.row.slug;this.onSlugChange(t)},onSlugChange:function(t){if(t)this.row.slug=t.replace(/\s+/g,"-");else{var a=this.row.slug;this.row.slug=a.replace(/\s+/g,"-")}},onImageChange:function(t){var a=t.target.files[0];this.row.preview=URL.createObjectURL(a),this.createBase64Image(a)},createBase64Image:function(t){var a=this,e=new FileReader;e.readAsDataURL(t),e.onload=function(t){a.row.image_base64=t.target.result}},onStatus:function(){this.row.status?this.row.status=0:this.row.status=1},removeLocalStorage:function(){localStorage.removeItem("access_token"),localStorage.removeItem("user_image"),localStorage.removeItem("user_name"),localStorage.removeItem("user_id"),localStorage.removeItem("role"),localStorage.removeItem("tenant_id")},collapseToggle:function(t){var a=document.querySelector("span#iconToggle"+t);a.classList.contains("ti-angle-down")?(a.classList.remove("ti-angle-down"),a.classList.add("ti-angle-up")):(a.classList.remove("ti-angle-up"),a.classList.add("ti-angle-down"))},cancel:function(){confirm("Are You Sure?")&&this.$router.push({name:this.refs})}}},m=u,p=(e("60bc"),e("2877")),h=Object(p["a"])(m,s,i,!1,null,"123ab268",null);a["default"]=h.exports}});
//# sourceMappingURL=index.f83190e1.js.map